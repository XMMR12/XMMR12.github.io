window.adthrive.core = {"partners":[{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.995}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"33across","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"outstream","type":"percent","value":0.5},{"name":"instream","type":"percent","value":0.981},{"name":"stickyOutstream","type":"percent","value":0.757}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"appnexus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.997}],"s2s":[],"bidder_name":"brightroll","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"instream","type":"percent","value":0.984}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"colossus","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"concert","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"conversant","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.998},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"criteo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"deepintent","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtm","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"districtmDMX","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.01},{"name":"instream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"dmdmx","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.99},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"G-TRUSTX-b827d08da2714822","type":"percent","value":0.836},{"name":"G-JW_PLAYER-b4d68a98a4484b55","type":"percent","value":0.28},{"name":"G-IPONWEB-c1bd196e2c6b4def","type":"percent","value":0.28},{"name":"G-IPONWEB-0c3229501281451f","type":"percent","value":0.28},{"name":"G-JW_PLAYER-a69231310c8e4f10","type":"percent","value":0.28},{"name":"G-JW_PLAYER-eeda70ad29e145c1","type":"percent","value":0.28},{"name":"G-JW_PLAYER-c1109f1b7eef4707","type":"percent","value":0.28},{"name":"G-JW_PLAYER-2664f826686d4ce4","type":"percent","value":0.28},{"name":"G-JW_PLAYER-0939149bc58441b7","type":"percent","value":0.28},{"name":"G-JW_PLAYER-5b5aec89d6704dc3","type":"percent","value":0.28},{"name":"G-ONEFOOTBALL-8bbb779550d54c22","type":"percent","value":0.33}]},{"name":"stickyOutstream","type":"percent","value":0.66}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"grid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.919},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"g-trustx-69dcdccd456a4d4a","type":"percent","value":0.974}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gridvid","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"gumgum","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.9},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"136707122019991","type":"percent","value":0.84},{"name":"136707122019993","type":"percent","value":0.88},{"name":"136708142019991","type":"percent","value":0.9},{"name":"136712112019997","type":"percent","value":0.83},{"name":"136712112019995","type":"percent","value":0.9},{"name":"136707162019999","type":"percent","value":0.88},{"name":"136704252018993","type":"percent","value":0.86},{"name":"136703312017993","type":"percent","value":0.9},{"name":"136703312017997","type":"percent","value":0.86},{"name":"136710072020991","type":"percent","value":0.79},{"name":"136707162019993","type":"percent","value":0.91},{"name":"136703312017991","type":"percent","value":0.88},{"name":"PAD136707102020991","type":"percent","value":0.8},{"name":"136712112019999","type":"percent","value":0.81},{"name":"7002232015","type":"percent","value":0.69},{"name":"136706042019991","type":"percent","value":0.89},{"name":"136712112019993","type":"percent","value":0.9},{"name":"136707152019991","type":"percent","value":0.9},{"name":"136704252018991","type":"percent","value":0.89},{"name":"8209221604","type":"percent","value":0.86},{"name":"136707122019994","type":"percent","value":0.74},{"name":"136708142019992","type":"percent","value":0.8},{"name":"136712112019998","type":"percent","value":0.89},{"name":"136712112019996","type":"percent","value":0.95},{"name":"136704252018994","type":"percent","value":0.92},{"name":"136703312017996","type":"percent","value":0.8},{"name":"136703312017998","type":"percent","value":0.68},{"name":"136710072020992","type":"percent","value":0.74},{"name":"136707162019994","type":"percent","value":0.76},{"name":"136703312017992","type":"percent","value":0.93},{"name":"PAD136707102020992","type":"percent","value":0.8},{"name":"8209221601","type":"percent","value":0.76},{"name":"136706042019992","type":"percent","value":0.77},{"name":"136712112019994","type":"percent","value":0.83},{"name":"136707152019992","type":"percent","value":0.85},{"name":"136704252018992","type":"percent","value":0.77},{"name":"136707122019992","type":"percent","value":0.85},{"name":"136703072017996","type":"percent","value":0.85},{"name":"1367071620199910","type":"percent","value":0.94},{"name":"M1IX203202022021992","type":"flat","value":0.5},{"name":"M1IX203202022021991","type":"flat","value":0.5},{"name":"PAD136701112021991","type":"percent","value":0.9},{"name":"PAD136701112021992","type":"percent","value":1},{"name":"DMD136703032021991","type":"percent","value":0.9},{"name":"DMD136703032021992","type":"percent","value":0.82},{"name":"DMD136702172021991","type":"percent","value":0.9},{"name":"DMD136704082021991","type":"percent","value":0.88},{"name":"DMD136704052021991","type":"percent","value":0.89},{"name":"DMD136704082021992","type":"percent","value":0.8},{"name":"DMD136702172021992","type":"percent","value":0.91},{"name":"DMD136704052021992","type":"percent","value":0.77},{"name":"136705172021991","type":"percent","value":0.85},{"name":"136705172021992","type":"percent","value":0.69},{"name":"136704262021991","type":"percent","value":0.9},{"name":"136704262021992","type":"percent","value":0.69},{"name":"PAD136707312020991","type":"percent","value":0.9},{"name":"136712112019991","type":"percent","value":0.88},{"name":"136706042019995","type":"percent","value":0.85},{"name":"PAD136707312020992","type":"percent","value":0.92},{"name":"136712112019992","type":"percent","value":0.97},{"name":"136706042019996","type":"percent","value":0.83},{"name":"203209212021995","type":"flat","value":1},{"name":"203209212021996","type":"flat","value":1},{"name":"203210122021995","type":"flat","value":1},{"name":"203210122021996","type":"flat","value":1},{"name":"M1IX203212162021995","type":"flat","value":1},{"name":"M1IX203212162021996","type":"flat","value":1},{"name":"9311192021991","type":"percent","value":0.97},{"name":"9311192021992","type":"percent","value":0.97},{"name":"DMD136708052021991","type":"percent","value":0.9},{"name":"DMD136708052021992","type":"percent","value":0.8},{"name":"146002182022991","type":"flat","value":1},{"name":"146002182022992","type":"flat","value":1},{"name":"146002182022993","type":"flat","value":1},{"name":"146002182022994","type":"flat","value":1},{"name":"146002182022995","type":"flat","value":1},{"name":"DMD136708302021992","type":"percent","value":0.71},{"name":"2251041120229923","type":"percent","value":0.97},{"name":"2251041120229922","type":"percent","value":0.97},{"name":"2251041120229921","type":"percent","value":0.97},{"name":"2251041120229920","type":"percent","value":0.97},{"name":"2251041120229919","type":"percent","value":0.97},{"name":"2251041120229918","type":"percent","value":0.97},{"name":"2251041120229917","type":"percent","value":0.97},{"name":"2251041120229916","type":"percent","value":0.97},{"name":"2251041120229915","type":"percent","value":0.97},{"name":"2251041120229914","type":"percent","value":0.97},{"name":"2251041120229913","type":"percent","value":0.97},{"name":"2251041120229912","type":"percent","value":0.97},{"name":"2251041120229911","type":"percent","value":0.97},{"name":"2251041120229910","type":"percent","value":0.97},{"name":"225104112022999","type":"percent","value":0.97},{"name":"225104112022998","type":"percent","value":0.97},{"name":"225104112022997","type":"percent","value":0.97},{"name":"225104112022996","type":"percent","value":0.97},{"name":"225104112022995","type":"percent","value":0.97},{"name":"225104112022994","type":"percent","value":0.97},{"name":"225104112022993","type":"percent","value":0.97},{"name":"225104112022992","type":"percent","value":0.97},{"name":"225104112022991","type":"percent","value":0.97},{"name":"400104282022991","type":"percent","value":0.97},{"name":"335305022022991","type":"flat","value":1},{"name":"335305022022992","type":"flat","value":1},{"name":"905172022991","type":"flat","value":0.5}]},{"name":"instream","type":"percent","value":0.9},{"name":"stickyOutstream","type":"percent","value":0.77},{"name":"outstream","type":"percent","value":0.5}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ix","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"kargo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"nativo","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.01},{"name":"outstream","type":"percent","value":0.01}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"oneVideo","enabled":false},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.983},{"name":"stickyOutstream","type":"percent","value":0.75}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"openx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.991},{"name":"instream","type":"percent","value":0.978},{"name":"pmp","type":"percent","value":0.991,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.78}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubm_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.987},{"name":"instream","type":"percent","value":1},{"name":"pmp","type":"percent","value":0.987,"deals":[{"name":"PM-KINC-9618","type":"flat","value":2}]},{"name":"stickyOutstream","type":"percent","value":0.739}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"pubmatic","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.996},{"name":"instream","type":"percent","value":0.975}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"roundel","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.999},{"name":"instream","type":"percent","value":0.988},{"name":"pmp","type":"percent","value":0.999,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.81}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubi_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.999},{"name":"instream","type":"percent","value":0.989},{"name":"pmp","type":"percent","value":0.999,"deals":[{"name":"829398","type":"percent","value":0.95},{"name":"832174","type":"percent","value":0.97},{"name":"832176","type":"percent","value":0.97},{"name":"855828","type":"percent","value":0.97},{"name":"855824","type":"percent","value":0.97},{"name":"855816","type":"percent","value":0.97},{"name":"855814","type":"percent","value":0.97},{"name":"855812","type":"percent","value":0.97},{"name":"855810","type":"percent","value":0.97},{"name":"855808","type":"percent","value":0.97},{"name":"855806","type":"percent","value":0.97},{"name":"855804","type":"percent","value":0.97},{"name":"855802","type":"percent","value":0.97},{"name":"855800","type":"percent","value":0.97},{"name":"855798","type":"percent","value":0.97},{"name":"855796","type":"percent","value":0.97},{"name":"855794","type":"percent","value":0.97},{"name":"855792","type":"percent","value":0.97},{"name":"855790","type":"percent","value":0.97},{"name":"855788","type":"percent","value":0.97},{"name":"855786","type":"percent","value":0.97},{"name":"855784","type":"percent","value":0.97},{"name":"855782","type":"percent","value":0.97},{"name":"855780","type":"percent","value":0.97},{"name":"855778","type":"percent","value":0.97},{"name":"855776","type":"percent","value":0.97},{"name":"859888","type":"percent","value":0.97}]},{"name":"stickyOutstream","type":"percent","value":0.82}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"rubicon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.984},{"name":"instream","type":"percent","value":1}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"sharethrough","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.995},{"name":"pmp","type":"percent","value":1,"deals":[{"name":"21ebe.8180e.26d6","type":"flat","value":2},{"name":"153c7.7e28.4b71","type":"flat","value":2},{"name":"1ec46.6201a.8951","type":"flat","value":2},{"name":"21ebe.2503b.b869","type":"flat","value":2},{"name":"449f0.6018b.2301","type":"flat","value":2},{"name":"1e6a0.d1904.ff8e","type":"flat","value":2},{"name":"346d5.7861e.d3dc","type":"flat","value":2},{"name":"346d5.5be26.0870","type":"flat","value":2},{"name":"21ebe.c673f.7d27","type":"flat","value":2},{"name":"1bccb.84e7c.831c","type":"flat","value":2},{"name":"21ebe.9417b.988c","type":"flat","value":2}]}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"spotx","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.992}],"s2s":[],"bidder_name":"teads","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"instream","type":"percent","value":0.999}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"telaria","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.966}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"tripl_ss","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.962}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"triplelift","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":1},{"name":"instream","type":"percent","value":0.967}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"ttd","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.98}],"s2s":[],"bidder_name":"undertone","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.5}],"s2s":[],"bidder_name":"unruly","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.988}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"verizon","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.988},{"name":"instream","type":"percent","value":1},{"name":"stickyOutstream","type":"percent","value":0.485}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yahoossp","enabled":true},{"secondary":false,"show":true,"cpm":[{"name":"default","type":"percent","value":0.983}],"s2s":[{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"display"},{"s2s_value":0,"endpoint_value":null,"endpoint":null,"media_type":"video"}],"bidder_name":"yieldmo","enabled":true}],"predictiveAnalysis":[{"error_rate":"1.0","chrome":"0","adomain":"revivedrinks.com","bidder":"yahoossp","domain":"revivedrinks.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9997317596566524","chrome":"0","adomain":"hulu.com","bidder":"pubmatic","domain":"hulu.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9996662773235442","chrome":"0","adomain":"hulu.com","bidder":"pubmatic","domain":"hulu.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9995995194233079","chrome":"1","adomain":"quorn.us","bidder":"triplelift","domain":"quorn.us","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9994636631804773","chrome":"0","adomain":"hulu.com","bidder":"pubmatic","domain":"hulu.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9994158878504673","chrome":"1","adomain":"quorn.us","bidder":"spotx","domain":"quorn.us","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9993327773144287","chrome":"0","adomain":"hulu.com","bidder":"pubmatic","domain":"hulu.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9989951431920951","chrome":"1","adomain":"quorn.us","bidder":"tripl_ss","domain":"quorn.us","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9974737660318694","chrome":"1","adomain":"quorn.us","bidder":"spotx","domain":"quorn.us","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9861944777911165","chrome":"0","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9844768337480744","chrome":"1","adomain":"samsung.com","bidder":"rubi_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9838938891520607","chrome":"1","adomain":"samsung.com","bidder":"rubi_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9821659858523463","chrome":"0","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9789355201800932","chrome":"1","adomain":"samsung.com","bidder":"rubi_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9781491002570694","chrome":"1","adomain":"samsung.com","bidder":"rubi_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9756952047295818","chrome":"1","adomain":"samsung.com","bidder":"rubicon","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9752368919772584","chrome":"0","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9737960339943342","chrome":"1","adomain":"samsung.com","bidder":"rubicon","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9720438231960711","chrome":"0","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9718500307314075","chrome":"1","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9660752470669826","chrome":"1","adomain":"progressive.com","bidder":"ix","domain":"progressive.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9627923050339823","chrome":"1","adomain":"progressive.com","bidder":"ix","domain":"progressive.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9622240813437158","chrome":"1","adomain":"progressive.com","bidder":"ix","domain":"progressive.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9614102788984389","chrome":"1","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9599020508111418","chrome":"1","adomain":"nike.com","bidder":"pubmatic","domain":"nike.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.959563383775738","chrome":"1","adomain":"samsung.com","bidder":"tripl_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.959349593495935","chrome":"1","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9587705527555151","chrome":"1","adomain":"samsung.com","bidder":"tripl_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9585844339017823","chrome":"1","adomain":"progressive.com","bidder":"ix","domain":"progressive.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9575471698113207","chrome":"1","adomain":"amazon.com","bidder":"sharethrough","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9566337483898669","chrome":"1","adomain":"samsung.com","bidder":"rubicon","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9563145353455124","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9540988581616783","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9533163854864802","chrome":"1","adomain":"samsung.com","bidder":"rubicon","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.939179104477612","chrome":"1","adomain":"samsung.com","bidder":"tripl_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9387371767085682","chrome":"0","adomain":"amazon.com","bidder":"rubi_ss","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9380124223602484","chrome":"1","adomain":"samsung.com","bidder":"tripl_ss","domain":"samsung.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9286401759934002","chrome":"0","adomain":"amazon.com","bidder":"rubi_ss","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9269832555586055","chrome":"0","adomain":"amazon.com","bidder":"rubi_ss","domain":"amazon.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.925991959447649","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9223632096230013","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9203853237002408","chrome":"0","adomain":"amazon.com","bidder":"rubi_ss","domain":"amazon.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9112947589517904","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"1","report_date":"2022-06-02"},{"error_rate":"0.9081485457412191","chrome":"1","adomain":"freshly.com","bidder":"rubicon","domain":"freshly.com","mobile":"0","report_date":"2022-06-02"},{"error_rate":"0.9077349215844365","chrome":"0","adomain":"mcdonalds.com","bidder":"triplelift","domain":"mcdonalds.com","mobile":"1","report_date":"2022-06-02"}],"country":"EG","coreExperiments":[{"options":{"percentage":95},"type":"bernoulliTrial","abgroup":"delload","key":"EnableDelayLoading"},{"options":{"percentage":99.5},"type":"bernoulliTrial","abgroup":"amzn","key":"Amazon"},{"options":{"percentage":20},"type":"bernoulliTrial","abgroup":"pbm","key":"Playbackmethod"},{"options":{"weights":[{"choice":"all","weight":0},{"choice":"adx","weight":95},{"choice":"off","weight":5}]},"type":"weightedChoice","abgroup":"inters","key":"Interstitial"},{"options":{"weights":[{"choice":"both","weight":90},{"choice":"client","weight":9},{"choice":"server","weight":1}]},"type":"weightedChoice","abgroup":"magnitedr","key":"Rubicon"},{"options":{"weights":[{"choice":"none","weight":99},{"choice":"rubicon","weight":0},{"choice":"roxot","weight":1}]},"type":"weightedChoice","abgroup":"pba","key":"Analytics"},{"options":{"weights":[{"choice":"both","weight":99},{"choice":"client","weight":1},{"choice":"server","weight":0}]},"type":"weightedChoice","abgroup":"tripleliftdr","key":"Triplelift"},{"options":{"percentage":0},"type":"bernoulliTrial","abgroup":"logfltr","key":"LoggerFilter"},{"options":{"weights":[{"choice":500,"weight":10},{"choice":1000,"weight":10},{"choice":2000,"weight":10},{"choice":3000,"weight":70}]},"type":"weightedChoice","abgroup":"deftimer1","key":"DelayLoading"},{"options":{"percentage":25},"type":"bernoulliTrial","abgroup":"wvtls","key":"WebVitals"},{"options":{"weights":[{"choice":0,"weight":98.8},{"choice":1,"weight":0.2},{"choice":2,"weight":1}]},"type":"weightedChoice","abgroup":"loglevel","key":"EventLog"},{"options":{"percentage":1},"type":"bernoulliTrial","abgroup":"sens_off","key":"SensOff"},{"options":{"percentage":100},"type":"bernoulliTrial","abgroup":"sab","key":"BidLimit"},{"options":{"percentage":95},"type":"bernoulliTrial","abgroup":"jwb","key":"JwBoost"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"logcls","key":"LayoutShift"},{"options":{"weights":[{"choice":2,"weight":60},{"choice":1.25,"weight":10},{"choice":1,"weight":10},{"choice":0.75,"weight":10},{"choice":0.5,"weight":10}]},"type":"weightedChoice","abgroup":"lzcvp","key":"ContentMargin"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"confiant","key":"ConfiantRefresh"},{"options":{"weights":[{"choice":5000,"weight":40,"abvalue":"5s"},{"choice":10000,"weight":40,"abvalue":"10s"},{"choice":15000,"weight":20,"abvalue":"15s"}]},"type":"weightedChoice","abgroup":"vast_to","key":"VastTimeout"},{"options":{"percentage":25},"type":"bernoulliTrial","abgroup":"AdDensityExperiment","key":"AdDensity"},{"options":{"percentage":99},"type":"bernoulliTrial","abgroup":"bmetrics","key":"BrandMetrics"},{"options":{"percentage":100},"type":"bernoulliTrial","abgroup":"rebuildslot","key":"RefreshRebuild"},{"options":{"percentage":0.333},"type":"bernoulliTrial","abgroup":"NielsenTrackerExperiment","key":"NielsenTracker"},{"options":{"weights":[{"choice":4,"weight":50},{"choice":5,"weight":20},{"choice":6,"weight":20},{"choice":7,"weight":10}]},"type":"weightedChoice","abgroup":"mxrpog","key":"MaxRequests"},{"options":{"percentage":99},"type":"bernoulliTrial","abgroup":"vpred","key":"PredictiveAnalysis"},{"options":{"percentage":99},"type":"bernoulliTrial","abgroup":"vadv","key":"AdvancePlaylist"},{"options":{"percentage":100},"type":"bernoulliTrial","abgroup":"cnfep","key":"ConfiantEndpoint"},{"options":{"percentage":95},"type":"bernoulliTrial","abgroup":"stkyos","key":"StickyOutstream"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"crtvmon","key":"CreativeMonitoring"},{"options":{"weights":[{"choice":"on","weight":4},{"choice":"on_min","weight":4},{"choice":"off","weight":90},{"choice":"none","weight":2}]},"type":"weightedChoice","abgroup":"rbflr","key":"RubiconFloors"},{"options":{"weights":[{"choice":0,"weight":60,"abvalue":"off"},{"choice":0.01,"weight":10,"abvalue":"1p"},{"choice":0.1,"weight":10,"abvalue":"10p"},{"choice":0.2,"weight":10,"abvalue":"20p"},{"choice":0.3,"weight":10,"abvalue":"30p"}]},"type":"weightedChoice","abgroup":"sessflrs","key":"SessionFloors"},{"options":{"percentage":0},"type":"bernoulliTrial","abgroup":"tlvid","key":"TripleLiftOutstream"},{"options":{"percentage":1},"type":"bernoulliTrial","abgroup":"rp_anadp","key":"RubiconAnalytics"},{"options":{"percentage":50},"type":"bernoulliTrial","abgroup":"amzn_hold_load","key":"AmazonHoldLoad"},{"options":{"percentage":1},"type":"bernoulliTrial","abgroup":"rmos1","key":"OneVideoStream"},{"options":{"weights":[{"choice":"sovpcc","weight":0},{"choice":"sovpct1","weight":0},{"choice":"sovpct2","weight":100}]},"type":"weightedChoice","abgroup":"socbe","key":"StickyCloseButton"},{"options":{"weights":[{"choice":900000,"weight":5,"abvalue":"900"},{"choice":600000,"weight":5,"abvalue":"600"},{"choice":300000,"weight":5,"abvalue":"300"},{"choice":-1,"weight":5,"abvalue":"tdoc"},{"choice":0,"weight":80}]},"type":"weightedChoice","abgroup":"mgtdtw","key":"TearDownPlayer"},{"options":{"weights":[{"choice":0.75,"weight":40},{"choice":0.25,"weight":20},{"choice":0.125,"weight":20},{"choice":0,"weight":20}]},"type":"weightedChoice","abgroup":"lzbpvp","key":"BelowPostMargin"},{"options":{"percentage":50},"type":"bernoulliTrial","abgroup":"amzn_hold_disp","key":"AmazonHoldDisplay"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"dajto","key":"DisableAjaxTimeout"},{"options":{"percentage":100},"type":"bernoulliTrial","abgroup":"smad300","key":"RemoveLargeSidebar"},{"options":{"percentage":90},"type":"bernoulliTrial","abgroup":"rvadv_ab1","key":"AdvancePlaylistRelated"},{"options":{"weights":[{"choice":6000,"weight":5,"abvalue":"6s"},{"choice":4000,"weight":75,"abvalue":"4s"},{"choice":2000,"weight":15,"abvalue":"2s"},{"choice":0,"weight":5,"abvalue":"0s"}]},"type":"weightedChoice","abgroup":"cbt","key":"CloseButtonTimeout"},{"options":{"weights":[{"choice":10000,"weight":20,"abvalue":"10"},{"choice":15000,"weight":60,"abvalue":"15"},{"choice":20000,"weight":20,"abvalue":"20"}]},"type":"weightedChoice","abgroup":"reqTo","key":"JwRequestTimeout"},{"options":{"percentage":3},"type":"bernoulliTrial","abgroup":"LogAdDuration","key":"LogAdDuration"},{"options":{"weights":[{"choice":0,"weight":60,"abvalue":"off"},{"choice":0.01,"weight":10,"abvalue":"1p"},{"choice":0.1,"weight":10,"abvalue":"10p"},{"choice":0.2,"weight":10,"abvalue":"20p"},{"choice":0.3,"weight":10,"abvalue":"30p"}]},"type":"weightedChoice","abgroup":"lzflrcontent","key":"LazyLoadFloors"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"LogAdLifeCycle","key":"LogAdLifeCycle"},{"options":{"weights":[{"choice":"off","weight":80},{"choice":"tlo","weight":10},{"choice":"tlw","weight":10}]},"type":"weightedChoice","abgroup":"sicb","key":"StickyInstreamCloseButton"},{"options":{"percentage":25},"type":"bernoulliTrial","abgroup":"upl","key":"UserPageDataLogging"},{"options":{"percentage":1},"type":"bernoulliTrial","abgroup":"rmosnv1","key":"OneVideoStreamNoVideo"},{"options":{"percentage":10},"type":"bernoulliTrial","abgroup":"UserPageDataPrivacyLogging","key":"UserPageDataPrivacyLogging"},{"options":{"weights":[{"choice":"id5Id","weight":5},{"choice":"identityLink","weight":1},{"choice":"unifiedId","weight":1},{"choice":"pubCommonId","weight":5},{"choice":"criteo","weight":25},{"choice":"connectId","weight":5}]},"type":"weightedChoice","abgroup":"idho","key":"IDHO"},{"options":{"weights":[{"choice":"ix_ebda","weight":0.5},{"choice":"medianet_ebda","weight":1},{"choice":"openx_ebda","weight":0.5},{"choice":"pubmatic_ebda","weight":1},{"choice":"rhythmone_ebda","weight":1},{"choice":"rubicon_ebda","weight":0.5},{"choice":"sharethrough_ebda","weight":10},{"choice":"smart_ebda","weight":1},{"choice":"sonobi_ebda","weight":1},{"choice":"sovrn_ebda","weight":10},{"choice":"emx_ebda","weight":1},{"choice":"triplelift_ebda","weight":1},{"choice":"verizon_ebda","weight":1},{"choice":"yieldmo_ebda","weight":10}]},"type":"weightedChoice","abgroup":"ebho","key":"EBHO"},{"options":{"weights":[{"choice":"chocolate_ebda","weight":1},{"choice":"ix_ebda","weight":0.5},{"choice":"medianet_ebda","weight":1},{"choice":"openx_ebda","weight":0.5},{"choice":"pubmatic_ebda","weight":1},{"choice":"rhythmone_ebda","weight":0.5},{"choice":"rubicon_ebda","weight":0.5},{"choice":"sonobi_ebda","weight":0.5},{"choice":"spotx_ebda","weight":1},{"choice":"telaria_ebda","weight":1},{"choice":"triplelift_ebda","weight":1},{"choice":"verizon_ebda","weight":1}]},"type":"weightedChoice","abgroup":"vebho","key":"VEBHO"},{"options":{"weights":[{"choice":"ats","weight":1},{"choice":"conf","weight":1},{"choice":"hawk","weight":1},{"choice":"tgtaff","weight":1},{"choice":"none","weight":96}]},"type":"weightedChoice","abgroup":"tkho","key":"TKHO"},{"options":{"weights":[{"choice":"appnexus","weight":10},{"choice":"conversant","weight":1},{"choice":"criteo","weight":1},{"choice":"districtm","weight":30},{"choice":"dmdmx","weight":20},{"choice":"gridvid","weight":1},{"choice":"gumgum","weight":50},{"choice":"ix","weight":0.5},{"choice":"oneVideo","weight":20},{"choice":"openx","weight":10},{"choice":"pubmatic","weight":1},{"choice":"districtm","weight":30},{"choice":"dmdmx","weight":20}]},"type":"holdout","abgroup":"vbho","key":"VBHO"},{"options":{"weights":[{"choice":"33across","weight":10},{"choice":"appnexus","weight":1},{"choice":"brightroll","weight":1},{"choice":"concert","weight":5},{"choice":"conversant","weight":10},{"choice":"criteo","weight":1},{"choice":"deepIntent","weight":1},{"choice":"districtm","weight":35},{"choice":"districtmDMX","weight":25},{"choice":"grid","weight":0.5},{"choice":"gumgum","weight":1},{"choice":"kargo","weight":1},{"choice":"ix","weight":0.5},{"choice":"nativo","weight":10},{"choice":"openx","weight":1},{"choice":"pubmatic","weight":1},{"choice":"roundel","weight":10},{"choice":"rubicon","weight":1},{"choice":"sharethrough","weight":10},{"choice":"teads","weight":1},{"choice":"triplelift","weight":0.5},{"choice":"ttd","weight":1},{"choice":"undertone","weight":1},{"choice":"unruly","weight":1},{"choice":"verizon","weight":1},{"choice":"yahoossp","weight":1},{"choice":"yieldmo","weight":1}]},"type":"holdout","abgroup":"hbho","key":"HBHO"},{"options":{"weights":[{"choice":"unruly","weight":50},{"choice":"districtm","weight":50},{"choice":"gumgum","weight":50},{"choice":"undertone","weight":50},{"choice":"33across","weight":50}]},"type":"holdout","abgroup":"bnr","key":"AuctionOptions"},{"options":{"weights":[{"choice":"33across","weight":100},{"choice":"brightroll","weight":100},{"choice":"conversant","weight":100},{"choice":"deepintent","weight":100},{"choice":"districtm","weight":100},{"choice":"pubm_ss","weight":100},{"choice":"yieldmo","weight":100},{"choice":"appnexus","weight":5},{"choice":"grid","weight":90},{"choice":"gumgum","weight":2}]},"type":"holdout","abgroup":"pbs2s","key":"S2S"},{"options":{"percentage":0},"type":"bernoulliTrial","abgroup":"rfii","key":"RecencyFrequencyIframeInsertion"}]};

    adthrive.branch=adthrive.branch||"HEAD 59baa21",adthrive.bucket=adthrive.bucket||"flex",adthrive.gdpr="false",adthrive.deployment=adthrive.deployment||"X";var adthrive=function(){"use strict";var e,t,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var s="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=r(e);function r(e,t){return function(i,s){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:s}),t&&t(i,s)}}void 0===s.Reflect?s.Reflect=e:n=r(s.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,s=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",n=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",r="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!r&&!o,l={create:r?function(){return se(Object.create(null))}:o?function(){return se({__proto__:null})}:function(){return se({})},has:a?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:a?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},d=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,p=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,u=new(c||"function"!=typeof WeakMap?ie():WeakMap);function g(e,t,i,s){if(B(i)){if(!H(e))throw new TypeError;if(!W(t))throw new TypeError;return k(e,t)}if(!H(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(s)&&!B(s)&&!D(s))throw new TypeError;return D(s)&&(s=void 0),E(e,t,i=U(i),s)}function _(e,t){function i(i,s){if(!L(i))throw new TypeError;if(!B(s)&&!G(s))throw new TypeError;A(e,t,i,s)}return i}function m(e,t,i,s){if(!L(i))throw new TypeError;return B(s)||(s=U(s)),A(e,t,i,s)}function f(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=U(i)),P(e,t,i)}function y(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=U(i)),T(e,t,i)}function v(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=U(i)),I(e,t,i)}function b(e,t,i){if(!L(t))throw new TypeError;return B(i)||(i=U(i)),M(e,t,i)}function C(e,t){if(!L(e))throw new TypeError;return B(t)||(t=U(t)),O(e,t)}function S(e,t){if(!L(e))throw new TypeError;return B(t)||(t=U(t)),z(e,t)}function w(e,t,i){if(!L(t))throw new TypeError;B(i)||(i=U(i));var s=x(t,i,!1);if(B(s))return!1;if(!s.delete(e))return!1;if(s.size>0)return!0;var n=u.get(t);return n.delete(i),n.size>0||u.delete(t),!0}function k(e,t){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t);if(!B(s)&&!D(s)){if(!W(s))throw new TypeError;t=s}}return t}function E(e,t,i,s){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t,i,s);if(!B(r)&&!D(r)){if(!L(r))throw new TypeError;s=r}}return s}function x(e,t,i){var s=u.get(e);if(B(s)){if(!i)return;s=new h,u.set(e,s)}var n=s.get(t);if(B(n)){if(!i)return;n=new h,s.set(t,n)}return n}function P(e,t,i){if(T(e,t,i))return!0;var s=Z(t);return!D(s)&&P(e,s,i)}function T(e,t,i){var s=x(t,i,!1);return!B(s)&&N(s.has(e))}function I(e,t,i){if(T(e,t,i))return M(e,t,i);var s=Z(t);return D(s)?void 0:I(e,s,i)}function M(e,t,i){var s=x(t,i,!1);if(!B(s))return s.get(e)}function A(e,t,i,s){x(i,s,!0).set(e,t)}function O(e,t){var i=z(e,t),s=Z(e);if(null===s)return i;var n=O(s,t);if(n.length<=0)return i;if(i.length<=0)return n;for(var r=new p,o=[],a=0,l=i;a<l.length;a++){var d=l[a];r.has(d)||(r.add(d),o.push(d))}for(var c=0,h=n;c<h.length;c++){d=h[c];r.has(d)||(r.add(d),o.push(d))}return o}function z(e,t){var i=[],s=x(e,t,!1);if(B(s))return i;for(var n=K(s.keys()),r=0;;){var o=J(n);if(!o)return i.length=r,i;var a=X(o);try{i[r]=a}catch(e){try{Y(n)}finally{throw e}}r++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function B(e){return void 0===e}function D(e){return null===e}function V(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",n=Q(e,s);if(void 0!==n){var r=n.call(e,i);if(L(r))throw new TypeError;return r}return j(e,"default"===i?"number":i)}function j(e,t){if("string"===t){var i=e.toString;if($(i))if(!L(n=i.call(e)))return n;if($(s=e.valueOf))if(!L(n=s.call(e)))return n}else{var s;if($(s=e.valueOf))if(!L(n=s.call(e)))return n;var n,r=e.toString;if($(r))if(!L(n=r.call(e)))return n}throw new TypeError}function N(e){return!!e}function q(e){return""+e}function U(e){var t=F(e,3);return V(t)?t:q(t)}function H(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function $(e){return"function"==typeof e}function W(e){return"function"==typeof e}function G(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function Q(e,t){var i=e[t];if(null!=i){if(!$(i))throw new TypeError;return i}}function K(e){var t=Q(e,n);if(!$(t))throw new TypeError;var i=t.call(e);if(!L(i))throw new TypeError;return i}function X(e){return e.value}function J(e){var t=e.next();return!t.done&&t}function Y(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===d)return t;if(t!==d)return t;var i=e.prototype,s=i&&Object.getPrototypeOf(i);if(null==s||s===Object.prototype)return t;var n=s.constructor;return"function"!=typeof n||n===e?t:n}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[n]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var s=this._keys.length,n=i+1;n<s;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,s)},t.prototype.values=function(){return new i(this._keys,this._values,r)},t.prototype.entries=function(){return new i(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[n]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function s(e,t){return e}function r(e,t){return t}function o(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[n]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),s=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=r(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=r(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return r(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=r(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var e;do{e="@@WeakMap@@"+d()}while(l.has(i,e));return i[e]=!0,e}function r(e,i){if(!t.call(e,s)){if(!i)return;Object.defineProperty(e,s,{value:l.create()})}return e[s]}function o(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function a(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e)}function d(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",s=0;s<e;++s){var n=t[s];4!==s&&6!==s&&8!==s||(i+="-"),n<16&&(i+="0"),i+=n.toString(16).toLowerCase()}return i}}function se(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",_),e("defineMetadata",m),e("hasMetadata",f),e("hasOwnMetadata",y),e("getMetadata",v),e("getOwnMetadata",b),e("getMetadataKeys",C),e("getOwnMetadataKeys",S),e("deleteMetadata",w)}(n)}()}(e||(e={})),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(t||(t={}));var s=t,n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},n(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var s,n,r=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var d="injectionTokens";function c(e){return!!e.useClass}function h(e){return!!e.useFactory}var p=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,i=this,s=!1;return new Proxy({},this.createHandler((function(){return s||(t=e(i.wrap()),s=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(i){t[i]=function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];t[0]=e();var n=Reflect[i];return n.apply(void 0,l(t))}})),t},e}();function u(e){return"string"==typeof e||"symbol"==typeof e}function g(e){return"object"==typeof e&&"token"in e&&"transform"in e}function _(e){return!!e.useToken}function m(e){return null!=e.useValue}var f=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),v=function(){this.scopedResolutions=new Map};function b(e,t,i){var s,n,r=a(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1],o=function(e,t){return null===e?"at position #"+t:'"'+e.split(",")[t].trim()+'" at position #'+t}(void 0===r?null:r,t);return s="Cannot inject the dependency "+o+' of "'+e.name+'" constructor. Reason:',void 0===n&&(n="    "),l([s],i.message.split("\n").map((function(e){return n+e}))).join("\n")}var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(f),w=function(){this.preResolution=new C,this.postResolution=new S},k=new Map,E=function(){function e(e){this.parent=e,this._registry=new y,this.interceptors=new w}return e.prototype.register=function(e,t,i){var n;if(void 0===i&&(i={lifecycle:s.Transient}),n=function(e){return c(e)||m(e)||_(e)||h(e)}(t)?t:{useClass:t},_(n))for(var r=[e],o=n;null!=o;){var a=o.useToken;if(r.includes(a))throw new Error("Token registration cycle detected! "+l(r,[a]).join(" -> "));r.push(a);var d=this._registry.get(a);o=d&&_(d.provider)?d.provider:null}if((i.lifecycle===s.Singleton||i.lifecycle==s.ContainerScoped||i.lifecycle==s.ResolutionScoped)&&(m(n)||h(n)))throw new Error('Cannot use lifecycle "'+s[i.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:i}),this},e.prototype.registerType=function(e,t){return u(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(u(e)){if(u(t))return this.register(e,{useToken:t},{lifecycle:s.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:s.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var i=e;return t&&!u(t)&&(i=t),this.register(e,{useClass:i},{lifecycle:s.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new v);var i=this.getRegistration(e);if(!i&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),i){var s=this.resolveRegistration(i,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}if(function(e){return"function"==typeof e||e instanceof p}(e)){s=this.construct(e,t);return this.executePostResolutionInterceptor(e,s,"Single"),s}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var i,s;if(this.interceptors.preResolution.has(e)){var n=[];try{for(var r=o(this.interceptors.preResolution.getAll(e)),a=r.next();!a.done;a=r.next()){var l=a.value;"Once"!=l.options.frequency&&n.push(l),l.callback(e,t)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}this.interceptors.preResolution.setAll(e,n)}},e.prototype.executePostResolutionInterceptor=function(e,t,i){var s,n;if(this.interceptors.postResolution.has(e)){var r=[];try{for(var a=o(this.interceptors.postResolution.getAll(e)),l=a.next();!l.done;l=a.next()){var d=l.value;"Once"!=d.options.frequency&&r.push(d),d.callback(e,t,i)}}catch(e){s={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}this.interceptors.postResolution.setAll(e,r)}},e.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var i,n=e.options.lifecycle===s.Singleton,r=e.options.lifecycle===s.ContainerScoped,o=n||r;return i=m(e.provider)?e.provider.useValue:_(e.provider)?o?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):c(e.provider)?o?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):h(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===s.ResolutionScoped&&t.scopedResolutions.set(e,i),i},e.prototype.resolveAll=function(e,t){var i=this;void 0===t&&(t=new v);var s=this.getAllRegistrations(e);if(!s&&u(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),s){var n=s.map((function(e){return i.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,n,"All"),n}var r=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,r,"All"),r},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var i=o(this._registry.entries()),s=i.next();!s.done;s=i.next()){var n=a(s.value,2),r=n[0],l=n[1];this._registry.setAll(r,l.filter((function(e){return!m(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,i,n=new e(this);try{for(var r=o(this._registry.entries()),l=r.next();!l.done;l=r.next()){var d=a(l.value,2),c=d[0],h=d[1];h.some((function(e){return e.options.lifecycle===s.ContainerScoped}))&&n._registry.setAll(c,h.map((function(e){return e.options.lifecycle===s.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:i})},e.prototype.afterResolution=function(e,t,i){void 0===i&&(i={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:i})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var i=this;if(e instanceof p)return e.createProxy((function(e){return i.resolve(e,t)}));var s=k.get(e);if(!s||0===s.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var n=s.map(this.resolveParams(t,e));return new(e.bind.apply(e,l([void 0],n)))},e.prototype.resolveParams=function(e,t){var i=this;return function(s,n){var r,o,a,d;try{return"object"==typeof(d=s)&&"token"in d&&"multiple"in d?g(s)?s.multiple?(r=i.resolve(s.transform)).transform.apply(r,l([i.resolveAll(s.token)],s.transformArgs)):(o=i.resolve(s.transform)).transform.apply(o,l([i.resolve(s.token,e)],s.transformArgs)):s.multiple?i.resolveAll(s.token):i.resolve(s.token,e):g(s)?(a=i.resolve(s.transform,e)).transform.apply(a,l([i.resolve(s.token,e)],s.transformArgs)):i.resolve(s,e)}catch(e){throw new Error(b(t,n,e))}}},e}(),x=new E;function P(e){return t=e,function(e,s,n){var r=Reflect.getOwnMetadata(d,e)||{};r[n]=i?{token:t,transform:i.transformToken,transformArgs:i.args||[]}:t,Reflect.defineMetadata(d,r,e)};var t,i}function T(){return function(e){k.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],i=Reflect.getOwnMetadata(d,e)||{};return Object.keys(i).forEach((function(e){t[+e]=i[e]})),t}(e))}}function I(){return function(e){T()(e),x.registerSingleton(e)}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");function M(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}function A(e,t){return function(i,s){t(i,s,e)}}function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class z{constructor(e){this._wait=e,this._timeouts=new Map}async limit(e){return new Promise((t=>{this._timeouts.has(e)&&window.clearTimeout(this._timeouts.get(e));const i=window.setTimeout((()=>{t()}),this._wait);this._timeouts.set(e,i)}))}}class R{constructor(){this._listeners=new Set,this._emitted=0}on(e){return this._listeners.add(e),()=>{this.off(e)}}off(e){this._listeners.delete(e)}once(){return new Promise((e=>{const t=this.on(((...i)=>(t(),e(i))))}))}async emit(e){return Promise.all([...this._listeners].map((t=>t(e)))).then((e=>(this._emitted++,e)))}clear(){this._listeners.clear()}get count(){return this._listeners.size}get emitted(){return this._emitted}}let B=class{constructor(){this.sending=new R,this.logQueue=[],this.supressedEventLogNames=new Map([["SlotRenderEnded","adImpression"],["VideoUtils","getPlacementElement"]]),this.disableLogging=!1,this.queueLogs=!1}init(e){this.logFilter=e.loggerFilters||[],this.siteId=e.siteAds.siteId,this.siteName=e.siteAds.siteName,this.bucket=e.bucket,this.branch=e.branch,this.deployment=e.deployment,this.debug=e.debug}log(e,t,...i){this.call(console.log,e,t,...i)}info(e,t,...i){this.call(console.info,e,t,...i)}warn(e,t,...i){this.call(console.warn,e,t,...i)}error(e,t,...i){this.call(console.error,e,t,...i),this.makeRequest("send","error",e,t,...i).catch((e=>{console.error(e)}))}event(e,t,...i){(this.debug||!this.supressedEventLogNames.has(e)||this.supressedEventLogNames.get(e)!==t)&&this.call(console.log,e,t,...i),this.makeRequest("send","event",e,t,...i).catch((e=>{console.error(e)}))}fetchEvent(e,t,...i){this.call(console.log,e,t,...i),this.makeRequest("fetch","event",e,t,...i).catch((e=>{console.error(e)}))}call(e,t,i,...s){const n=this.logFilter;if(n&&n.length&&n.indexOf(t)>-1)return;const r=[`%c${t}::${i} `],o=["color: #999; font-weight: bold;"];s.length>0&&"string"==typeof s[0]&&r.push(s.shift()),o.push(...s);try{Function.prototype.apply.call(e,console,[r.join(""),...o])}catch(e){return void console.error(e)}}buildRequestUrl(e,t,i,s){const n=`https://logger.adthrive.com/${e}`,r=[`${t}::${i} `];s.length>0&&"string"==typeof s[0]&&r.push(s.shift());const o=s.map((e=>(e&&e.error&&(e=e.error),e instanceof Error&&(e={name:e.name,message:e.message,stack:e.stack}),e)));this.data&&o.push(this.data);return`${n}?${[`siteId=${encodeURIComponent(this.siteId||"")}`,`siteName=${encodeURIComponent(this.siteName||"")}`,`bucket=${encodeURIComponent(this.bucket||"")}`,`branch=${encodeURIComponent(this.branch||"")}`,`deployment=${encodeURIComponent(this.deployment||"")}`,`message=${encodeURIComponent(r.join("").trim())}`,`pageurl=${encodeURIComponent(window.location.origin+window.location.pathname)}`,`body=${encodeURIComponent(JSON.stringify(o))}`].join("&")}`}clearLogQueue(e){this.info("Logger","gdprEnforcement","clearLogQueue",e),e&&this.logQueue.forEach((e=>{"send"===e.action&&this.sendRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{})),"fetch"===e.action&&this.fetchRequest(e.type,e.className,e.methodName,...e.args).catch((()=>{}))})),this.logQueue=[],this.queueLogs=!1}async makeRequest(e,t,i,s,...n){if(this.disableLogging)return this.info("Logger","gdprEnforcement","logging disabled"),Promise.resolve(!1);if(this.queueLogs){const r={action:e,type:t,className:i,methodName:s,args:n};return this.logQueue.push(r),this.info("Logger","gdprEnforcement","log queued"),Promise.resolve(!0)}return"send"===e?this.sendRequest(t,i,s,...n):this.fetchRequest(t,i,s,...n)}async sendRequest(e,t,i,...s){this.sending.emit().catch((()=>{}));const n=this.buildRequestUrl(e,t,i,s);return n.length>8192?this.sendRequest(e,t,i,"Error query too large").catch((e=>{console.error(e)})):new Promise(((e,t)=>{const i=new XMLHttpRequest;i.open("get",n),i.addEventListener("load",(()=>200!==i.status?t(new Error(`Logger send request failed ${i.status}`)):e(i.responseText))),i.addEventListener("error",(()=>t(new Error("Logger send request failed")))),i.send()}))}async fetchRequest(e,t,i,...s){this.sending.emit().catch((()=>{}));const n=this.buildRequestUrl(e,t,i,s);return fetch(n,{method:"GET",keepalive:!0,referrerPolicy:"no-referrer-when-downgrade"})}};B=M([T()],B);const D=new B,V=(e,t)=>e?"flat"===e.type?t-e.value:e.value*t:t,L=(e,t,i,s)=>{var n;const r=null==s?void 0:s.dealId,o=e.partners.getBidderConfig(i).cpmMap.get("pmp");if(r&&o){const e=null===(n=o.deals)||void 0===n?void 0:n.filter((e=>e.name===r.toString()))[0];return e?"flat"===o.type?V(e,t):o.value*V(e,t):V(o,t)}{const n=((e,t,i)=>{const s=e.video.instreamAdUnits.has(null==i?void 0:i.adUnitCode),n=i.adUnitCode&&i.adUnitCode.indexOf("Video_StickyOutstream")>-1,r=s?"instream":n?"stickyOutstream":s||n||!("vastUrl"in i)&&!("vastXml"in i)?"default":"outstream";return e.partners.getBidderConfig(t).cpmMap.get(e.partners.getBidderConfig(t).cpmMap.has(r)?r:"default")})(e,i,s);return V(n,t)}},F=navigator.userAgent,j=navigator.vendor,N=(e,t)=>/Chrom/.test(e||F)&&/Google/.test(t||j)&&!U(e)&&!$(e),q=(e,t)=>/Safari/.test(e||F)&&/Apple Computer/.test(t||j)&&!U(e)&&!$(e),U=e=>/Edge\/|Edg\//.test(e||F),H=e=>/Trident|MSIE/.test(e||F),$=e=>/Opera|OPR/.test(e||F),W=(e,t)=>N(e,t)?"Chrome":q(e,t)?"Safari":U(e)?"Edge":(e=>/Firefox/.test(e||F))(e)?"Firefox":$(e)?"Opera":H(e)?"IE":"Others",G=()=>{const e=document.querySelector(".adthrive-footer");let t=52;return e&&"none"===e.style.display?t=102:e&&(t=Math.max(e.getBoundingClientRect().height,t)),t},Q=(e,t)=>null==e||e!=e?t:e,K=e=>new Promise((t=>{setTimeout(t,e)})),X=(e,t)=>{const i=window.innerWidth;return i>=t?"desktop":i>=e?"tablet":"phone"},J=()=>new Promise((e=>{if("interactive"===document.readyState||"complete"===document.readyState)return e();document.addEventListener("DOMContentLoaded",(()=>e()))})),Y=e=>{const t=e.offsetHeight,i=e.offsetWidth,s=e.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,a=window.pageXOffset||r.scrollLeft||n.scrollLeft,l=r.clientTop||n.clientTop||0,d=r.clientLeft||n.clientLeft||0,c=Math.round(s.top+o-l),h=Math.round(s.left+a-d);return{top:c,left:h,bottom:c+t,right:h+i,width:i,height:t}},Z=e=>(e=>{const t=e.match(/([a-zA-Z0-9._!#$%+^&*()[\]<>-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);return t?t[0]:""})((e=>e.replace(/\s/g,""))(e.toLowerCase())),ee=(e,t,i)=>i.indexOf(e)===t,te=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.json().then((e=>t(e))).catch((()=>i(!1)))})).catch((()=>i(!1)))})),ie=(e,t,i=!1)=>{try{const s=sessionStorage.getItem(`adthrive_${e.toLowerCase()}`);if(s){const n=JSON.parse(s),r=void 0!==t&&Date.now()-n.created>=t;if(n&&!r)return i&&se(e,n.value),n.value}}catch(e){}return null},se=(e,t)=>{try{const i={value:t,created:Date.now()};sessionStorage.setItem(`adthrive_${e.toLowerCase()}`,JSON.stringify(i))}catch(e){}},ne=(e,t,i,s=!0,n)=>{const r=ie(e,i,s);if(null!==r)return r;const o=t();return se(e,o),n&&n(),o},re=(e=18e5)=>{const t=ie("referrer",e),i=oe();return Q(i,t)},oe=()=>{if(document.referrer&&document.referrer.length){const e=ae(document.referrer);if(le(e)!==le(window.location.hostname))return e}},ae=e=>{const t=document.createElement("a");return t.href=e,t.hostname},le=e=>{const t=e.split("."),i=t.length;return i>2&&(e=t[i-2]+"."+t[i-1],2!==t[i-2].length&&3!==t[i-2].length||2!==t[i-1].length||(e=t[i-3]+"."+e)),e},de=e=>new Promise(((t,i)=>{fetch(e).then((e=>{e.text().then((e=>{"string"==typeof e?t(e):i("Vast XML not in proper format")})).catch((e=>{i(e)}))})).catch((e=>i(e)))})),ce=(e,t=!1,i=!1)=>new Promise(((s,n)=>{const r=document.createElement("script");r.addEventListener("error",(()=>n(new Error(`Failed to import script ${e}`)))),r.addEventListener("load",(()=>s(r))),r.type="text/javascript",r.src=e,r.defer=i,he(r,t)})),he=(e,t)=>{const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&!t?i.parentNode.insertBefore(e,i):document.body.appendChild(e)},pe=["Refresh","PD","Source","Browser","Topic","MCMP","Sens"],ue=(e,t)=>{t.addToQueue((()=>{const i=t.getConfig("ix")||{firstPartyData:{}},s={...i.firstPartyData,...e},n={};pe.forEach((e=>{e in s&&(n[e]=s[e])}));for(const e in s)-1===pe.indexOf(e)&&(n[e]=s[e]);i.firstPartyData=n,t.setConfig({ix:i})}))},ge=e=>e?(e=>{const t={google:"google",facebook:"facebook",instagram:"instagram",pinterest:"pinterest"};return e.split(".").filter((e=>t[e]))[0]||"other"})(e):"direct",_e=({event:e,ignoreOtherCompanyIds:t=!1})=>{const i=new Set([-1,0,1,199612376,2143809321]),s=new Set([4455444655,4460609902,4463579729,4464180925,4466143841,4550726766,4623743690,4623743882,4634020290,4642901988,4697115760,4801442281,4802163255,4805985973,4807636548,4867316569]),n=!e.campaignId||i.has(e.campaignId),r=!e.companyIds||e.companyIds&&!e.companyIds.some((e=>s.has(e)));return t?n:n&&r},me=()=>{if(navigator&&navigator.webdriver)return"wdv"},fe=()=>{if(navigator&&navigator.hardwareConcurrency>16)return"hwv"},ye=()=>{if(navigator&&navigator.userAgent&&/python|apis|googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar\/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/\+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2/i.test(window.navigator.userAgent))return"uav"},ve=()=>{const e={width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)};if(e.width>5e3||e.height>5e3)return"vpv"},be=()=>{const e=document.createElement("canvas"),t=e.getContext&&e.getContext("webgl"),i=t&&t.getExtension&&t.getExtension("WEBGL_debug_renderer_info");if(i&&i.UNMASKED_RENDERER_WEBGL){if("Google SwiftShader"===(t&&t.getParameter(i.UNMASKED_RENDERER_WEBGL)))return"wglv"}},Ce=()=>/Windows NT|Macintosh/i.test(navigator.userAgent),Se=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),we=e=>!Se(e),ke=(e,t)=>e.viewability>=t||e.lazy||e.refreshCount>0,Ee=()=>{const e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t},xe=(e,t)=>{if(e.length<=1)return 0;if(e.sort(((e,t)=>e-t)),t<=0)return e[0];if(t>=1)return e[e.length-1];const i=t*(e.length+1),s=Math.floor(i)-1,n=s+1,r=Number((i%1).toFixed(1));return i<1?e[0]:n>=e.length?e[s]:e[s]+r*(e[n]-e[s])},Pe=()=>{try{return Math.round(window.performance.now())}catch(e){return 0}},Te=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>parseInt(e,t)/1e5)(e,t)));return{...i,[s]:[...n]}}),{});return i},Ie=(e,t=33)=>{const i=Object.keys(e).reduce(((i,s)=>{const n=e[s].map((e=>((e,t)=>Math.floor(1e5*e).toString(t))(e,t)));return{...i,[s]:n}}),{});return i},Me=()=>new Promise((e=>{if("complete"===document.readyState)return e();window.addEventListener("load",(()=>e()))})),Ae=()=>window.location.search.slice(1).split("&").reduce(((e,t)=>{const[i,s]=t.split("=");return e.set(i,s),e}),new Map),Oe=e=>Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&"),ze=e=>{const t=RegExp("(^|[^;]+)\\s*"+e+"\\s*=\\s*([^;]+)").exec(document.cookie);return t?t.pop():""},Re=()=>(new Date).getTimezoneOffset()<(()=>{const e=new Date((new Date).getFullYear(),0,1),t=new Date((new Date).getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),t.getTimezoneOffset())})(),Be=(e,t)=>{if("Intl"in window){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.some((e=>t===e))}return t.some((e=>(new Date).getTimezoneOffset()===(Re()?e-60:e)))},De=()=>Be(["America/Los_Angeles"],[480]),Ve=e=>void 0!==e,Le=(e,t)=>!(!e||"object"!=typeof e||!(t in e)),Fe=(e,t)=>Le(e,t)?e[t]:null,je=e=>{const t=window.location.href;return e.some((e=>new RegExp(e,"i").test(t)))},Ne=(e,t)=>{if(t)for(const t of pbjs.getUserIdsAsEids())if(t.source&&t.source===e&&t.uids&&t.uids.length>0&&t.uids[0].id)return t.uids[0].id;return null},qe=e=>{try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return{valid:!1,...e}}},Ue=e=>""===e?{valid:!0}:qe(e),He=(e,t,i,s,n,r)=>{const o=Math.round(r-n),a=[],l=[];a.push("(",i.map((()=>"%o")).join(", "),")"),l.push(...i),void 0!==s&&(a.push(" => %o"),l.push(s)),a.push(` %c(${o}ms)`),l.push("color: #999;")},$e=(e,t,i)=>{const s=void 0!==i.get?i.get:i.value;return function(...i){try{const n=Pe(),r=s.apply(this,i);if(r instanceof Promise)return r.then((e=>{const t=Pe();return He(0,0,i,e,n,t),Promise.resolve(e)})).catch((i=>{throw i.logged||(D.error(e,t,i),i.logged=!0),i}));{const e=Pe();return He(0,0,i,r,n,e),r}}catch(i){throw i.logged||(D.error(e,t,i),i.logged=!0),i}}},We=(e,t=!1)=>i=>{const s=Object.getOwnPropertyNames(i.prototype).filter((e=>t||0!==e.indexOf("_"))).map((e=>[e,Object.getOwnPropertyDescriptor(i.prototype,e)]));for(const[t,n]of s)void 0!==n&&"function"==typeof n.value?i.prototype[t]=$e(e,t,n):void 0!==n&&void 0!==n.get&&"function"==typeof n.get&&Object.defineProperty(i.prototype,t,{...n,get:$e(e,t,n)})},Ge=()=>(e,t,i)=>{const s=i.value;s&&(i.value=function(...e){var t;const i=this.key;return!1===(null===(t=ie("branch"))||void 0===t?void 0:t.enabled)&&(e=>{sessionStorage.removeItem(`adthrive_${e.toLowerCase()}`)})(i),ne(i,(()=>s.apply(this,e)),18e5)})},Qe="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Ke=Qe.length,Xe=Math.pow(2,48)-1,Je=e=>{let t=Math.floor(e()*Ke);return t===Ke&&(t=Ke-1),Qe.charAt(t)},Ye=(e,t)=>{if(isNaN(e))throw new Error(`${e} must be a number`);if(e>Xe)throw(e=>{const t=new Error(e);return t.source="ulid",t})(`cannot encode time greater than ${Xe}`);let i,s="";for(;t>0;t--)i=e%Ke,s=Qe.charAt(i)+s,e=(e-i)/Ke;return s},Ze=()=>Ye(Date.now(),10)+((e,t)=>{let i="";for(;e>0;e--)i=Je(t)+i;return i})(16,(()=>(()=>{if(window.crypto){const e=new Uint8Array(1);return crypto.getRandomValues(e),e[0]/255}return Math.random()})()));let et=class{constructor(){this._map=new Map,this.setAbGroup=!Ae().has("at_features")}set(e,t){this.setAbGroup&&this._map.set(e,t)}get(e){return this._map.get(e)}get groups(){const e=[];for(const[t,i]of this._map)e.push(`${t}:${i}`);return e}get groupsAsObject(){const e={};for(const t of this._map.keys()){const i=this._map.get(t);i&&(e[t]=i)}return e}};et=M([I(),O("design:paramtypes",[])],et);let tt=class{constructor(){this.adthriveExperimentOverrides=this.getExperimentOverrides()}getExperimentOverrides(){let e={};const t=Ae().get("at_features");if(t)try{const i=decodeURIComponent(t);e=JSON.parse(i),D.event("ExperimentOverrides","getExperimentOverrides","at_features",e)}catch(e){}return e}hasValidOverride(e,t){if(e in this.adthriveExperimentOverrides){const i=this.adthriveExperimentOverrides[e];return this.isValidExperimentOverride(t,i)}return!1}useOverride(e){return this.adthriveExperimentOverrides[e]}isValidExperimentOverride(e,t){if(0===e.length)return!1;const i=Array.isArray(e[0])?"array":typeof e[0];if("array"===i){if(!Array.isArray(t))return!1;if(t.some((t=>-1===e.indexOf(t)))&&t.map((e=>"["+JSON.stringify(e)+"]")).some((t=>-1===e.map((e=>JSON.stringify(e))).indexOf(t)))&&-1===e.map((e=>JSON.stringify(e))).indexOf(JSON.stringify(t)))return!1}else if("object"===i){if(-1===e.map((e=>JSON.stringify(e))).indexOf(JSON.stringify(t)))return!1}else if(-1===e.indexOf(t))return!1;return!0}};tt=M([I(),O("design:paramtypes",[])],tt);class it{constructor(){const e=this.run.bind(this);this.run=()=>{const t=x.resolve(tt),i=this._choices.map((e=>e.choice));return t.hasValidOverride(this.key,i)?t.useOverride(this.key):e()}}}class st{}class nt extends st{constructor(e){super(),this._probability=e}get(){if(this._probability<0||this._probability>1)throw new Error("Invalid probability");return Math.random()<this._probability}}class rt extends st{constructor(e=[],t){super(),this._choices=e,this._default=t}static fromArray(e,t){return new rt(e.map((([e,t])=>({choice:e,weight:t}))),t)}addChoice(e,t){this._choices.push({choice:e,weight:t})}get(){const e=(t=0,i=100,Math.random()*(i-t)+t);var t,i;let s=0;for(const{choice:t,weight:i}of this._choices)if(s+=i,s>=e)return t;return this._default}get totalWeight(){return this._choices.reduce(((e,{weight:t})=>e+t),0)}}let ot=class extends it{constructor(e,t){super(),this._adthrive=e,this._result="off",this.key="inters",this._choices=[{choice:"all",weight:0},{choice:"adx",weight:95},{choice:"off",weight:5}],this.canDisplayInterstitial()&&(Ee()&&Q(this._adthrive.siteAds.adOptions.mobileInterstitial,!1)||!Ee()&&Q(this._adthrive.siteAds.adOptions.desktopInterstitial,!1))&&(this._result=this.run(),t.set(this.key,this._result))}canDisplayInterstitial(){try{const e=window.localStorage.getItem("__lsv__"),t=e?JSON.parse(decodeURIComponent(e)):[];if(t.length){const e=36e5,i=(new Date).getTime(),s=t[0];return i-s>e}return!0}catch(e){return D.error("InterstitialExperiment","canDisplayInterstitial",{message:e.message}),!1}}get result(){return this._result}run(){return new rt(this._choices).get()}};ot=M([We("InterstitialExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,et])],ot);let at=class{constructor(e,t){this._interstitialExperiment=t,this.footerCloseButtonMigrated=!1;const{allowSmallerAdSizes:i,footerCloseButton:s,footerCloseButtonMobile:n,footerCloseButtonDesktop:r,footerSelector:o,infiniteScroll:a,infiniteScrollOptions:l,infiniteScrollRefresh:d,pmp:c,targetaff:h}=e.siteAds.adOptions;this.allowSmallerAdSizes=Q(i,!0),void 0!==n&&void 0!==r&&(this.footerCloseButtonMigrated=!0),this.interstitial={gam:"off"!==this._interstitialExperiment.result,prebid:"all"===this._interstitialExperiment.result},this.footerCloseButton=Q(s,!0),this.footerCloseButtonMobile=Q(n,!0),this.footerCloseButtonDesktop=Q(r,!0),this.footerSelector=Q(o,""),this.pmp=Q(c,!0),this.infiniteScroll=Q(a,!1),this.infiniteScrollOptions=Q(l,{}),this.infiniteScrollRefresh=Q(d,!0),this.targetAff=Q(h,!1)}};at=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,ot])],at);let lt=class{constructor(e){const t=e.siteAds.adTypes||{};this.animatedFooter=Q(t.animatedFooter,!0),this.expandableFooter=Q(t.expandableFooter,!0),this.interscroller=Q(t.interscroller,!0),this.miniscroller=Q(t.miniscroller,!0),this.nativeMobileContent=Q(t.nativeMobileContent,!0),this.nativeDesktopContent=Q(t.nativeDesktopContent,!0),this.nativeDesktopSidebar=Q(t.nativeDesktopSidebar,!0),this.nativeDesktopRecipe=Q(t.nativeDesktopRecipe,!0),this.nativeMobileRecipe=Q(t.nativeMobileRecipe,!0),this.outstreamDesktop=Q(t.outstreamDesktop,!0),this.outstreamMobile=Q(t.outstreamMobile,!0)}has(e){return this[e]&&!0===this[e]}get enabled(){return Object.keys(this).filter((e=>!0===this[e]))}get enabledMinified(){const e={outstreamDesktop:{min:"od",val:this.outstreamDesktop},outstreamMobile:{min:"om",val:this.outstreamMobile}};return this.enabled.filter((t=>-1!==Object.keys(e).indexOf(t)&&e[t].val)).map((t=>e[t].min))}get outstreamEnabled(){return Ee()?!0===this.outstreamMobile:!0===this.outstreamDesktop}};lt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],lt);let dt=class extends it{constructor(e){super(),this.key="amzn_hold_load",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.5).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],dt.prototype,"run",null),dt=M([We("AmazonLibraryExperiment"),I(),O("design:paramtypes",[et])],dt);let ct=class extends it{constructor(e){super(),this.key="amzn",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.995).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ct.prototype,"run",null),ct=M([We("AmazonExperiment"),I(),O("design:paramtypes",[et])],ct);let ht=class extends it{constructor(e){super(),this._result=!1,this.key="wvtls",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run(),e.set(this.key,this.result?"on":"off"))}get result(){return this._result}run(){return new nt(.25).get()}};ht=M([We("WebVitalsExperiment"),I(),O("design:paramtypes",[et])],ht);let pt=class{constructor(e,t,i){var s;this.bootstrapResult=new Map,this.bootstrapLoaders={},this.amazonEnabled=t.result,this.webVitalsEnabled=i.result,this.gptLibFailed=!1,this.liveRamp=Q(e.siteAds.adOptions.liveRamp,!0),this.liveRampId=Q(e.siteAds.adOptions.liveRampId,"7f035220-1751-4684-bb7f-a1c0d45657df"),36!==this.liveRampId.length&&(this.liveRampId="7f035220-1751-4684-bb7f-a1c0d45657df"),"FR"===(null===(s=null==e?void 0:e.core)||void 0===s?void 0:s.country)&&(this.liveRampId="34233849-5500-4e44-8601-5006ae8d13fe"),this._baseUrl=e.baseUrl}get baseUrl(){return this._baseUrl}get recencyFrequencyIframeLocation(){return`${this._baseUrl}/html/recency-and-frequency.html`}};pt=M([We("BootstrapConfig"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,ct,ht])],pt);let ut=class{constructor(e,t){this.adthrive=e,this._bootstrapConfig=t,this._url="https://c.amazon-adsystem.com/aax2/apstag.js"}async load(){if(this._bootstrapConfig.amazonEnabled&&this.adthrive.siteAds.adOptions.amazonUAM){this.init();const e=this.adthrive.fastAds;return e&&e.amazon?e.amazon.promise.then((()=>!0)).catch((()=>ce(this._url).then((()=>!0)))):ce(this._url).then((()=>!0))}return Promise.resolve(!1)}init(){if(window.apstag)return;const e=(e,t)=>{window.apstag._Q.push([e,t])};window.apstag={init(){e("i",arguments)},fetchBids(){e("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]}}};ut=M([We("AmazonBootstrap"),T(),A(0,P("AdThrive")),O("design:paramtypes",[Object,pt])],ut);let gt=class{constructor(e){this._adthrive=e,this._url="https://securepubads.g.doubleclick.net/tag/js/gpt.js"}async load(){return window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],this.import()}sendScript(){return ce(this._url).then((()=>!0))}import(){const e=this._adthrive.fastAds;return e&&e.gam?e.gam.promise.then((()=>!0)).catch((()=>this.sendScript())):this.sendScript()}};gt=M([We("GAMBootstrap"),T(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],gt);let _t=class extends it{constructor(e){super(),this._result=!1,this.key="rfii",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this.result?"on":"off")}get result(){return this._result}run(){return new nt(0).get()}};_t=M([We("RecencyFrequencyIframeInsertionExperiment"),I(),O("design:paramtypes",[et])],_t);let mt=class{constructor(e,t){this.bootstrapConfig=e,this.rfiiExperiment=t,this._marmaladeFinishedTimeout=3e3,this._frame=document.createElement("IFRAME")}async get(){if(window.adthrive.marmalade)return window.adthrive.marmalade.then((async e=>((yt(e)||this.rfiiExperiment.result)&&await ft(this._frame,this.bootstrapConfig.recencyFrequencyIframeLocation).then((()=>{D.event("MarmaladeBootstrap","recencyFrequencyIframeAdded")})),e)));const e=new Promise((e=>{window.adthrive.marmaladeFinished=e})),t=new Promise((e=>{const t=setTimeout((()=>{clearTimeout(t),e({})}),this._marmaladeFinishedTimeout)}));return Promise.race([e,t])}};mt=M([We("MarmaladeBootstrap"),T(),O("design:paramtypes",[pt,_t])],mt);const ft=(e,t)=>{let i;const s=new Promise((e=>{i=e}));return e.onload=()=>{i()},e.src=t,e.id="adthrive-mcmp",e.style.display="none",document.body.appendChild(e),s},yt=e=>"mcmp"in e;var vt,bt,Ct,St;!function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.WebVitals="webvitals",e.Marmalade="marmalade",e.CMP="cmp"}(vt||(vt={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(bt||(bt={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn"}(Ct||(Ct={})),function(e){e.StickySekindo="stickySekindo",e.StaticSekindo="staticSekindo",e.None="none"}(St||(St={}));let wt=class{constructor({baseUrl:e}){this.type=vt.Prebid,this._url=`${e}/vendor/prebid/prebid.min.js`}async load(){return this.init(),await ce(this._url).then((()=>!0))}init(){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[]}};wt=M([We("PrebidBootstrap"),T(),O("design:paramtypes",[pt])],wt);let kt=class{constructor(e){this._bootstrapConfig=e,this._url="https://unpkg.com/web-vitals@2.0.1/dist/web-vitals.umd.js"}load(){return this._bootstrapConfig.webVitalsEnabled?this.import():Promise.resolve(!0)}async import(){return await ce(this._url,!1,!0)}};kt=M([We("WebVitalsBootstrap"),T(),O("design:paramtypes",[pt])],kt);let Et=class{constructor(e,t,i,s,n,r,o){this.bootstrapConfig=e,this._amazon=t,this._waitForAmazon=i,this._gam=s,this._marmalade=n,this._prebid=r,this._webVitals=o}async run(){let e,t;return[this._prebid].forEach((e=>{this._run((()=>this.bootstrapConfig.bootstrapLoaders[e.type]=e.load()),e.type).catch((()=>!1))})),Promise.all([this._run((()=>this._amazon.load()),vt.Amazon,{wait:this._waitForAmazon.result}),this._run((()=>this._gam.load()),vt.GAM,{required:!0}).catch((i=>this.gamFallback(i&&i.result,e,t))),t=this._run((()=>this._marmalade.get()),vt.Marmalade),this._run((()=>(e=this._webVitals.load(),e)),vt.WebVitals),J()]).then((([e,t,i,s])=>({amazon:e,gam:t,marmalade:i,webvitals:s})))}gamFallback(e,t,i){return this.bootstrapConfig.gptLibFailed=!0,this.bootstrapConfig.webVitalsEnabled||(this.bootstrapConfig.webVitalsEnabled=!0,t=this._webVitals.load()),t.then((()=>i.then((t=>Promise.reject({message:e,marmalade:t})))))}_run(e,t,{required:i=!1,wait:s=!0}={}){const n=Pe(),r=e=>{const i=Pe(),s={result:e,started:n,finished:i,duration:i-n};return this.bootstrapConfig.bootstrapResult.set(t,s),s},o=e().then(r,(e=>(D.error("Bootstrap","_start error",t,e),i?Promise.reject(r(e.message)):r(e.message))));return s?o:Promise.resolve(r(!0))}};Et=M([T(),O("design:paramtypes",[pt,ut,dt,gt,mt,wt,kt])],Et);let xt=class{constructor(e,t){this.pubId="4fbba76f-7987-4fa2-9733-c27eb3a2170b",this.adUnitExclusions=new Set(["Interstitial"]);const i=t.amazonEnabled;this.enabled=i&&!0===e.siteAds.adOptions.amazonUAM}};xt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,pt])],xt);let Pt=class{constructor(){this.bidders=["unruly","districtm","undertone","33across"]}};Pt=M([I()],Pt);let Tt=class{constructor(){this.nonCompliantBidders=["unruly"],this.ccpaNotApplicable="1---",this.ccpaOptIn="1YNY",this.ccpaOptOut="1YYY",this.required=De(),this.consentChange=new R,this.required=De(),this.privacyString=ze("usprivacy"),this.gpcEnabled=localStorage.getItem("adthrive_gpc"),this.userOptedOut=this.privacyString===this.ccpaOptOut,this.required&&(this.comscoreParams=this.userOptedOut?"0":"1")}get enabled(){return this.required&&this.userOptedOut}};Tt=M([I(),O("design:paramtypes",[])],Tt);class It{constructor(){this._clsGlobalData=window.adthriveCLS}get enabled(){return this._clsGlobalData&&this._clsGlobalData.siteAds}set siteAds(e){this._clsGlobalData.siteAds=e}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(e){this._clsGlobalData.disableAds=e}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(e){this._clsGlobalData.enabledLocations=e}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(e){this._clsGlobalData.injectedFromPlugin=e}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(e){this._clsGlobalData.injectedFromSiteAds=e}overwriteInjectedSlots(e){this._clsGlobalData.injectedSlots=e}setInjectedSlots(e){this._clsGlobalData.injectedSlots.push(e)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedScripts(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(e,t){this._clsGlobalData.experiments=this._clsGlobalData.experiments||[],this._clsGlobalData.experiments[e]=t}getExperiment(e){return this._clsGlobalData.experiments&&this._clsGlobalData.experiments[e]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(e){this._clsGlobalData.videoDisabledFromPlugin=e}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(e){this._clsGlobalData.targetDensityLog=e}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}}let Mt=class{constructor(e){this.connectionTargeting=[];const{bucket:t,plugin:i,branch:s,debug:n,deployment:r,baseUrl:o,fastAds:a,siteAds:l,styleUrl:d,invalidTraffic:c,integration:h}=e,{tablet:p,desktop:u}=l.breakpoints;this.baseUrl=o,this.branch=s,this.bucket=t,this.plugin=i,this.fastAds=a,this.invalidTraffic=c,this.deployment=r,this.domain=window.location.host,this.device=X(p,u),this.pageUrl=window.location.href,this.pageviewKey=Ze(),this.querystring=Ae(),this.sessionKey=ne("session_key",(()=>Ze()),18e5,!0,(()=>localStorage.removeItem("adthrive_fpv"))),this.styleUrl=d,this.debug=n,this.integration=h;const g=window.performance.getEntriesByType("resource").filter((e=>e.name.indexOf("ads.min.js")>-1&&e.name.indexOf("ads.adthrive.com")>-1))[0];if(g){const e=Math.round(g.responseEnd-g.startTime).toString();"NaN"!==e&&(this.adsMinLoadDuration=[e])}const _=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);_&&(_.effectiveType&&this.connectionTargeting.push(`niet:${_.effectiveType}`),this.downlink=_.downlink||_.bandwidth,this.downlink&&this.connectionTargeting.push(`dl:${this.downlink}`))}};Mt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],Mt);const At=250;let Ot=class{constructor(e,t,i,s){if(this.adthrive=e,this._context=t,this._abgroup=i,this._clsOptions=s,this._defaultHeight=At,this._map=new Map([["phone",{Content:At,Recipe:At,Header:50,Footer:50,Below_Post:At,Sidebar:At}],["tablet",{Content:At,Recipe:At,Header:90,Footer:90,Below_post:At,Sidebar:At}],["desktop",{Content:At,Recipe:At,Header:90,Footer:90,Below_Post:At,Sidebar:At}]]),this._clsOptions.enabled){const e="clsins_ss",t=this._clsOptions.getExperiment(e);t&&this._abgroup.set(e,t);["cls-insertion","cls-header-insertion","cls-disable-ads"].filter((e=>{if(this._clsOptions.branch){const t="script[id^="+`${e}-${this._clsOptions.branch}`+"]";return document.querySelectorAll(t).length>0}return!1})).forEach((e=>this._clsOptions.setInjectedScripts(e)))}}get enabled(){return this.adthrive.siteAds.adOptions.clsOptimizedAds||this._clsOptions.enabled&&(this._clsOptions.injectedFromPlugin||this._clsOptions.injectedFromSiteAds)}getDivHeight(e,t){const i=this._map.get(t);return i&&i[e]||this._defaultHeight}setStyle(e,t){("Footer"===t||this.enabled&&this._map.get(this._context.device)[t])&&(e.style.minHeight=`${this._map.get(this._context.device)[t]}px`,e.classList.add("adthrive-ad-cls"))}};Ot=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,Mt,et,It])],Ot);let zt=class{constructor(e){this.tracker=!0,this.gdpr=!1,this._footerMessages=new Map([["FamilyParenting","CafeMedia Family & Parenting"],["Finance","CafeMedia Finance"],["Food","CafeMedia Food"],["General","CafeMedia"],["HomeDIY","CafeMedia Home/DIY"],["Lifestyle","CafeMedia Lifestyle"],["Pets","CafeMedia Pets"],["Tech","CafeMedia Tech"],["Travel","CafeMedia Travel"]]);const{comscore:t,comscoreFooter:i}=e.siteAds.adOptions;this.category=Q(t,"General"),this.comscore=Q(i,!0),this.comscoreMessage=Q(this._footerMessages.get(this.category),"CafeMedia")}};zt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],zt);let Rt=class{constructor(e,t){this.adthrive=e,this._clsOptions=t,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,this._clsDivs=["adthrive-below-post","adthrive-content","adthrive-header","adthrive-recipe","adthrive-sidebar"],(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"),this.removeClsDivs(this._clsDivs));try{document.body.classList.contains("adthrive-disable-all")&&(this.all=!0,this.reasons.add("all_plugin")),document.body.classList.contains("adthrive-disable-content")&&(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_plugin")),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag")),document.body.classList.contains("adthrive-disable-video")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_plugin"))}catch(e){D.error("DisableAds","constructor",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t});const i="classList"in document.body;D.error("BodyDeviceClassComponent","init.supportBody",{supportBody:i})}}removeClsDivs(e){if(!this._clsOptions.enabled)return;const t=this._clsOptions.injectedSlots.filter((t=>{const i=t.element;let s=!1;return i.parentNode&&e.some((e=>i.classList.contains(e)))&&(i.parentNode.removeChild(i),s=!0),!s}));this._clsOptions.overwriteInjectedSlots(t)}disableAllAds(e){e&&!je(e)||(this.all=!0,this.reasons.add("all_page"),this.removeClsDivs(this._clsDivs))}disableContentAds(e){e&&!je(e)||(this.content=!0,this.recipe=!0,this.locations.add("Content"),this.locations.add("Recipe"),this.reasons.add("content_page"),this.removeClsDivs(["adthrive-content","adthrive-recipe"]))}disablePlaylistPlayers(e){e&&!je(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"),this.adthrive.siteAds.videoPlayers?this._removeCLSVideoPlayers():this._removeLegacyCLSVideoPlayers())}_removeCLSVideoPlayers(){var e;null===(e=this.adthrive.siteAds.videoPlayers)||void 0===e||e.players.filter((e=>"stickyPlaylist"===e.type||"sekindo"===e.type)).map((e=>document.querySelectorAll(`#cls-video-container-${e.playlistId}`))).forEach((e=>{var t;for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}))}_removeLegacyCLSVideoPlayers(){var e,t;const i=null===(e=this.adthrive.siteAds.video)||void 0===e?void 0:e.jwPlaylistId;if(i){const e=document.querySelectorAll(`#cls-video-container-${i}`);for(let i=0;i<e.length;i++){const s=e[i];null===(t=s.parentNode)||void 0===t||t.removeChild(s)}}}urlHasEmail(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)}};Rt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,It])],Rt);let Bt=class extends it{constructor(e){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="smhd100";const t=window.adthriveCLS,i=t&&t.experiments;this._result=i&&this.key in i?i[this.key]:this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.1).get()}};Bt=M([We("RemoveLargeSizeExperiment"),I(),O("design:paramtypes",[et])],Bt);let Dt=class extends it{constructor(e){super(),this._result=!1,this.key="smad300",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(1).get()}};Dt=M([We("RemoveLargeSidebarExperiment"),I(),O("design:paramtypes",[et])],Dt);let Vt=class{constructor(e,t,i,s){this._adthrive=e,this._adOptions=t,this._removeLargeSizeExperiment=i,this._removeLargeSidebarExperiment=s,this._stickyOutstreamEnabled=!1,this._supportedSizes=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],this._interstitialSupportedSizes=[[320,50],[300,250],[300,600],[336,280],[320,480],[1,1]],this._adUnitAuctionPriorityMap=new Map([["Footer",1],["Header",2],["Sidebar",3],["Content",4],["Recipe",5],["Sidebar_sticky",6],["Below Post",7]]),this._adUnitSettingTemplate={auctionPriority:8,autosize:!0,classNames:[],devices:["tablet","phone","desktop"],elementSelector:"body",every:1,lazy:!1,lazyMax:0,lazyMaxDefaulted:!1,location:"",max:1,pageSelector:"",position:"beforebegin",sequence:1,sizes:[],skip:0,spacing:0,special:[],sticky:!1,stickyOverlapSelector:""};const{tablet:n,desktop:r}=e.siteAds.breakpoints;this._device=X(n,r),this._adthriveSiteAds=this._adthrive.siteAds,this._adthriveOptions=this._adthriveSiteAds.adOptions,this.setupStickyOutstreamSettings(),this.setupInterstitialSettings()}setupStickyOutstreamSettings(){const e=this._adthriveSiteAds.video&&this._adthriveSiteAds.video.partners&&this._adthriveSiteAds.video.partners.stickyOutstream,t=this._adthriveSiteAds.videoPlayers&&this._adthriveSiteAds.videoPlayers.partners&&this._adthriveSiteAds.videoPlayers.partners.stickyOutstream,i=e||t,s=Q(this._adthriveOptions&&this._adthriveOptions.stickyOutstream||i,null),n=s&&("phone"===this._device?s.mobile:s.desktop);if(s&&n){this._stickyOutstreamEnabled=n.enabled;const e={...this._adUnitSettingTemplate};e.sticky=!0,e.location="Video_StickyOutstream",e.position="beforeend",e.pageSelector=Q(i&&i.blockedPageSelectors,""),e.sizes="phone"===this._device?[[300,50]]:[[300,250]],this._stickyOutstreamSettingTemplate=e}}setupInterstitialSettings(){const e={...this._adUnitSettingTemplate},t=this._adthriveOptions;e.location="Interstitial",e.sizes=this.interstitalSupportedSizes(),e.pageSelector=Q(t.interstitialBlockedPageSelectors||t.mobileInterstitialBlockedPageSelectors,""),this._interstitialSettingTemplate=e}get(){this._adthriveOptions,this._adthrive.siteAds.adUnits.sort(((e,t)=>{const i="Sidebar"===e.location&&e.sticky?e.location+"_sticky":e.location,s="Sidebar"===t.location&&t.sticky?t.location+"_sticky":t.location;return this._adUnitAuctionPriorityMap.get(i)-this._adUnitAuctionPriorityMap.get(s)}));const e=this._adthrive.siteAds.adUnits.filter((e=>void 0!==e.dynamic&&e.dynamic.enabled)).map((e=>{const t=e.location.replace(/\s+/g,"_");return{auctionPriority:this._adUnitAuctionPriorityMap.get(t)||8,location:t,sequence:Q(e.sequence,1),sizes:this.onlySupportedAdSizes(e.adSizes).filter((t=>this.excludeTallSizes(e.location,t,e.sequence,e.adSizes))),devices:e.devices,pageSelector:Q(e.dynamic.pageSelector,"").trim(),elementSelector:Q(e.dynamic.elementSelector,"").trim(),position:Q(e.dynamic.position,"beforebegin"),max:Math.floor(Q(e.dynamic.max,0)),spacing:Q(e.dynamic.spacing,0),skip:Math.floor(Q(e.dynamic.skip,0)),every:Math.max(Math.floor(Q(e.dynamic.every,1)),1),classNames:e.dynamic.classNames||[],sticky:"Footer"===e.location||e.sticky,stickyOverlapSelector:Q(e.stickyOverlapSelector,"").trim(),autosize:e.autosize,special:Q(e.targeting,[]).filter((e=>"special"===e.key)).reduce(((e,t)=>e.concat(...t.value)),[]),lazy:Q(e.dynamic.lazy,!1),lazyMax:Q(e.dynamic.lazyMax,2),lazyMaxDefaulted:0!==e.dynamic.lazyMax&&!e.dynamic.lazyMax}}));return this._stickyOutstreamEnabled&&this._stickyOutstreamSettingTemplate&&e.push(this._stickyOutstreamSettingTemplate),this._adOptions.interstitial.gam&&this._interstitialSettingTemplate&&e.push(this._interstitialSettingTemplate),e}onlySupportedAdSizes(e){return this._supportedSizes.filter((([t,i])=>e.some((([e,s])=>t===e&&i===s))))}interstitalSupportedSizes(){return this._interstitialSupportedSizes.filter((([e,t])=>"phone"===this._device||"320,50"!=`${e},${t}`))}excludeTallSizes(e,[t,i],s,n){return!("Footer"===e&&"phone"===this._device&&320===t&&100===i||"Header"===e&&i>100&&this._removeLargeSizeExperiment.result||"Sidebar"===e&&9!==s&&n.some((([e,t])=>t<=300))&&i>300&&this._removeLargeSidebarExperiment.result)}};Vt=M([T(),A(0,P("AdThrive")),O("design:paramtypes",[Object,at,Bt,Dt])],Vt);let Lt=class extends it{constructor(e){super(),this.key="ebho",this._choices=[{choice:{name:"ix_ebda",weight:.5}},{choice:{name:"medianet_ebda",weight:1}},{choice:{name:"openx_ebda",weight:.5}},{choice:{name:"pubmatic_ebda",weight:1}},{choice:{name:"rhythmone_ebda",weight:1}},{choice:{name:"rubicon_ebda",weight:.5}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"smart_ebda",weight:1}},{choice:{name:"sonobi_ebda",weight:1}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"emx_ebda",weight:1}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:30}},{choice:{name:"yieldmo_ebda",weight:10}}],this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new rt(e);return t.totalWeight,t.get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],Lt.prototype,"run",null),Lt=M([We("EBHOExperiment"),I(),O("design:paramtypes",[et])],Lt);let Ft=class{constructor(e){this.bidder=e.result}};Ft=M([I(),O("design:paramtypes",[Lt])],Ft);let jt=class extends it{constructor(e){super(),this._choices=[{choice:0,weight:99},{choice:1,weight:0},{choice:2,weight:1}],this.key="loglevel",this._result=this.run(),e.set(this.key,this._result?1===this._result?"on":"log":"off")}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],jt.prototype,"run",null),jt=M([We("EventLogExperiment"),I(),O("design:paramtypes",[et])],jt);let Nt=class{constructor(e){this.enabled=e.result}};Nt=M([I(),O("design:paramtypes",[jt])],Nt);let qt=class{constructor(){this.elements=[]}};qt=M([I()],qt);let Ut=class{constructor(e){this.prefix="AdThrive",this.networkCode="18190176",this._gamMCMEnabled=Q(e.siteAds.adOptions.gamMCMEnabled,!1),this._gamMCMChildNetworkCode=Q(e.siteAds.adOptions.gamMCMChildNetworkCode,""),this.account=this._gamMCMEnabled&&""!==this._gamMCMChildNetworkCode?`${this.networkCode},${this._gamMCMChildNetworkCode}`:this.networkCode;const t=new Set(["service","bidding","dynamicVersion"]);this.targeting=e.siteAds.targeting.filter((({key:e})=>!t.has(e))).map((({key:e,value:t})=>("boolean"==typeof t&&(t=String(t)),{key:e,value:t})))}};Ut=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],Ut);let Ht=class{constructor(e){this.cafeMediaVendorId=996,this.nonCompliantBidders=["deepintent","roundel","yahoossp","colossus"],this.isRequired="true"===e.gdpr}get enabled(){return this.isRequired}};Ht=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],Ht);let $t=class extends it{constructor(){super(),this.biddersHeldOut=[],this.key="hbho",this._result=[],this._choices=[{choice:["33across"],threshold:.1},{choice:["appnexus"],threshold:.01},{choice:["brightroll"],threshold:.01},{choice:["colossus"],threshold:.01},{choice:["concert"],threshold:.05},{choice:["conversant"],threshold:.1},{choice:["criteo"],threshold:.01},{choice:["deepIntent"],threshold:.01},{choice:["districtm"],threshold:.35},{choice:["districtmDMX"],threshold:.25},{choice:["grid"],threshold:.005},{choice:["gumgum"],threshold:.01},{choice:["kargo"],threshold:.01},{choice:["ix"],threshold:.005},{choice:["nativo"],threshold:.1},{choice:["openx"],threshold:.01},{choice:["pubmatic"],threshold:.01},{choice:["roundel"],threshold:.1},{choice:["rubicon"],threshold:.01},{choice:["sharethrough"],threshold:.1},{choice:["teads"],threshold:.01},{choice:["triplelift"],threshold:.005},{choice:["ttd"],threshold:.01},{choice:["undertone"],threshold:.01},{choice:["unruly"],threshold:.1},{choice:["verizon"],threshold:.01},{choice:["yahoossp"],threshold:.01},{choice:["yieldmo"],threshold:.01}],this._result=this.run()}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new nt(e).get())).map((({choice:e})=>e[0]))}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],$t.prototype,"run",null),$t=M([We("HBHOExperiment"),I(),O("design:paramtypes",[])],$t);let Wt=class{constructor(e){this.bidders=e.result}};Wt=M([I(),O("design:paramtypes",[$t])],Wt);let Gt=class{constructor(e){this.adthrive=e,this.apiReady=new R,this.optIn=new R}get enabled(){return Q(this.adthrive.siteAds.adOptions.liveRampATS,!1)}};Gt=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],Gt);let Qt=class extends it{constructor(e){super(),this._choices=[{choice:{name:"id5Id",weight:5}},{choice:{name:"identityLink",weight:1}},{choice:{name:"unifiedId",weight:1}},{choice:{name:"sharedId",weight:5}},{choice:{name:"criteo",weight:25}},{choice:{name:"connectId",weight:5}}],this.key="idho",this._result=this.run(),e.set(this.key,this.result?this.result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new rt(e);return t.totalWeight,t.get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],Qt.prototype,"run",null),Qt=M([We("IDHOExperiment"),I(),O("design:paramtypes",[et])],Qt);let Kt=class{constructor(e){this.subModule=e.result}};Kt=M([I(),O("design:paramtypes",[Qt])],Kt);let Xt=class{constructor(){this.refreshSlots=new Set(["Footer"]),this.ajaxType=!1}};Xt=M([I()],Xt);let Jt=class extends it{constructor(e){super(),this.key="lzbpvp",this._choices=[{choice:.75,weight:40},{choice:.25,weight:20},{choice:.125,weight:20},{choice:0,weight:20}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Jt.prototype,"run",null),Jt=M([We("BelowPostMarginExperiment"),I(),O("design:paramtypes",[et])],Jt);let Yt=class extends it{constructor(e){super(),this.key="lzcvp",this._choices=[{choice:2,weight:60},{choice:1.25,weight:10},{choice:1,weight:10},{choice:.75,weight:10},{choice:.5,weight:10}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Yt.prototype,"run",null),Yt=M([We("ContentMarginExperiment"),I(),O("design:paramtypes",[et])],Yt);let Zt=class extends it{constructor(e){super(),this.key="lzhb",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.9).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Zt.prototype,"run",null),Zt=M([We("LZHBExperiment"),I(),O("design:paramtypes",[et])],Zt);let ei=class{constructor(e,t,i){this._defaultViewPort=2,this._infScrollViewPort=4,this.googleLazyLoadSettings={disabled:{fetchMarginPercent:-1,renderMarginPercent:-1,mobileScaling:-1},gam:{fetchMarginPercent:600,renderMarginPercent:100,mobileScaling:1.5},hbMarginPercent:700},this.lzhb=e.result,this.viewports={content:t.result,belowPost:i.result,default:this._defaultViewPort,infScroll:this._infScrollViewPort}}};ei=M([I(),O("design:paramtypes",[Zt,Yt,Jt])],ei);let ti=class{constructor(e){this._url="https://ats.rlcdn.com/ats.js",this._config={placementID:111,storageType:"localStorage",detectionType:"direct",logging:"error"},this.enabled=Q(e.siteAds.adOptions.liveRampATS,!0)}};ti=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],ti);const ii={AS:{location:"Sponsor_Tile",selectors:["h1.entry-title","h1.post-title","h1.posttitle","h1.story-title","h1.heading",".post > .post-title"],size:[[300,55],[234,60]],position:"afterend",classNames:["adthrive-sponsor-tile"],find:e=>document.querySelector(e),requireSelectorMatch:!0,lazy:!1},NR:{location:"Native_Recipe",sequence:1,selectors:['[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="recipeIngredient"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] [itemprop="ingredients"]:last-child','[itemscope][itemtype$="//schema.org/Recipe"] .ingredient:last-child',".wprm-recipe-ingredient:last-child","#recipe .ingredients",".wprm-recipe-ingredients-container",".tasty-recipe-ingredients",'[class*="recipe"] [class*="ingredient"] ul li:last-child','[class*="create-ingredient"] ul li:last-child','[class*="tasty-recipe"] [class*="ingredient"] p:last-child',"[class*=recipe] [class*=recipe] ~ p + ul li:last-child"],size:[[225,65],[234,60],[300,100]],position:"afterend",classNames:["adthrive-native-recipe"],find:e=>{const t=document.querySelectorAll(e);return t.length>0?t[t.length-1]:null},requireSelectorMatch:!1,lazy:!0}};let si=class{constructor(e){if(this.loaded=!1,this.campaigns=[],this.siteCodes=[],this.adViewability=[],this.speed=navigator.connection&&"4g"===navigator.connection.effectiveType?"1":"0",this.adUnits=ii,this.selectorMatches=[],this.ortbSegments=new Map,this.hvThreshold=.6,this.mcmp=[],this.flpProdIds=[],this.disableSlotsForGoogleTest=!1,this._googleTestKey="GCREF",this.activeCampaign=e=>{const t=Date.now();return t>=this.parseDate(e.start_date).getTime()&&t<=this.parseDate(e.expiration_date).getTime()},e){this.loaded=!0;const{host:t,page:i,adViewability:s}=e;if(t&&t.length&&(this.siteCodes=t[0].site_codes||[],this.disableSlotsForGoogleTest=-1!==this.siteCodes.indexOf(this._googleTestKey)),i&&i.length){const e=i[0].campaigns||[];this.campaigns=e.filter(this.activeCampaign)}s&&s.length&&(this.adViewability=s);const n=this.getMcmpFlpIds();this.mcmp=n.mcmp||[],this.flpProdIds=n.flpProdIds||[],this.ortbSegments=this.campaigns.reduce(((e,t)=>{const i=new RegExp(/(^iab(a|c))_(\d*)/),[,s,,n]=i.exec(t.dfp_id)||[],r=e.get(s)||[];return r.push({id:n}),e.set(s,r),e}),new Map)}}isValidMarmaladeCampaign(e){const t=e.dfp_id.substring(0,2),i=this.adUnits[t];if(i){const e=i.find(i.selectors.join(","));return e&&this.selectorMatches.push({adUnit:i,match:e}),!i.requireSelectorMatch||!!e}return!0}getMcmpFlpIds(){return this.campaigns.filter((e=>this.isValidMarmaladeCampaign(e))).reduce(((e,t)=>(e.mcmp.push(t.dfp_id),t.flp_prod_id&&e.flpProdIds.push(...JSON.parse(t.flp_prod_id)),e)),{mcmp:[],flpProdIds:[]})}parseDate(e){const t=e.split("-");return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]))}};si=M([I(),A(0,P("MarmaladeResponse")),O("design:paramtypes",[Object])],si);let ni=class{constructor(e){var t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,C,S,w,k,E,x,P,T,I,M,A,O,z,R;this._biddersConfig=new Map,null===(t=null==e?void 0:e.core)||void 0===t||t.partners.forEach((e=>{if(e.bidder_name){const t=Q(e.enabled,!0),i=new Map;e.cpm&&e.cpm.length&&e.cpm.forEach((e=>{i.set(e.name,e)})),this._biddersConfig.set(e.bidder_name,{bidder_name:e.bidder_name,enabled:t,cpmMap:i})}}));const B=e.siteAds.adOptions;this.appNexus=B.appNexus&&Q(null===(i=this._biddersConfig.get("appnexus"))||void 0===i?void 0:i.enabled,!0),this.brightroll=Q(B.brightroll,!0)&&Q(null===(s=this._biddersConfig.get("brightroll"))||void 0===s?void 0:s.enabled,!0),this.colossus=Q(B.colossus,!0)&&Q(null===(n=this._biddersConfig.get("colossus"))||void 0===n?void 0:n.enabled,!0),this.concert=Q(B.concert,!1)&&Q(null===(r=this._biddersConfig.get("concert"))||void 0===r?void 0:r.enabled,!1),this.conversant=B.conversant&&Q(null===(o=this._biddersConfig.get("conversant"))||void 0===o?void 0:o.enabled,!1),this.criteo=Q(B.criteo,!0)&&Q(null===(a=this._biddersConfig.get("criteo"))||void 0===a?void 0:a.enabled,!0),this.deepIntent=Q(B.deepIntent,!0)&&Q(null===(l=this._biddersConfig.get("deepintent"))||void 0===l?void 0:l.enabled,!0),this.districtM=B.districtM&&Q(null===(d=this._biddersConfig.get("districtm"))||void 0===d?void 0:d.enabled,!0),this.districtMDMX=B.districtM&&Q(null===(c=this._biddersConfig.get("districtmDMX"))||void 0===c?void 0:c.enabled,!0),this.districtMDMXVideo=B.districtM&&Q(null===(h=this._biddersConfig.get("districtmDMX"))||void 0===h?void 0:h.enabled,!0),this.indexExchange=B.indexExchange&&Q(null===(p=this._biddersConfig.get("ix"))||void 0===p?void 0:p.enabled,!0),this.gumgum=Q(B.gumgum,!0)&&Q(null===(u=this._biddersConfig.get("gumgum"))||void 0===u?void 0:u.enabled,!0),this.kargo=Q(B.kargo,!0)&&Q(null===(g=this._biddersConfig.get("kargo"))||void 0===g?void 0:g.enabled,!0),this.mediaGrid=Q(B.mediaGrid,!0)&&Q(null===(_=this._biddersConfig.get("grid"))||void 0===_?void 0:_.enabled,!0),this.mediaGridVideo=Q(B.mediaGrid,!0)&&Q(null===(m=this._biddersConfig.get("gridvid"))||void 0===m?void 0:m.enabled,!0),this.nativo=Q(B.nativo,!0)&&Q(null===(f=this._biddersConfig.get("nativo"))||void 0===f?void 0:f.enabled,!0),this.openx=B.openx&&Q(null===(y=this._biddersConfig.get("openx"))||void 0===y?void 0:y.enabled,!0),this.pubMatic=Q(B.pubMatic,!0)&&Q(null===(v=this._biddersConfig.get("pubmatic"))||void 0===v?void 0:v.enabled,!0),this.rubicon=Q(B.rubicon,!0)&&Q(null===(b=this._biddersConfig.get("rubicon"))||void 0===b?void 0:b.enabled,!0),this.sharethrough=Q(B.sharethrough,!0)&&Q(null===(C=this._biddersConfig.get("sharethrough"))||void 0===C?void 0:C.enabled,!0),this.spotx=Q(null===(S=this._biddersConfig.get("spotx"))||void 0===S?void 0:S.enabled,!0),this.teads=Q(B.teads,!0)&&Q(null===(w=this._biddersConfig.get("teads"))||void 0===w?void 0:w.enabled,!0),this.roundel=Q(B.roundel,!0)&&Q(null===(k=this._biddersConfig.get("roundel"))||void 0===k?void 0:k.enabled,!0),this.telaria=Q(null===(E=this._biddersConfig.get("telaria"))||void 0===E?void 0:E.enabled,!0),this.thirtyThreeAcross=Q(B.thirtyThreeAcross,!0)&&Q(null===(x=this._biddersConfig.get("33across"))||void 0===x?void 0:x.enabled,!0),this.tripleLift=Q(B.tripleLift,!0)&&Q(null===(P=this._biddersConfig.get("triplelift"))||void 0===P?void 0:P.enabled,!0),this.ttd=Q(B.theTradeDesk,!0)&&Q(null===(T=this._biddersConfig.get("ttd"))||void 0===T?void 0:T.enabled,!0),this.undertone=Q(B.undertone,!0)&&Q(null===(I=this._biddersConfig.get("undertone"))||void 0===I?void 0:I.enabled,!0),this.unruly=Q(B.unruly,!0)&&Q(null===(M=this._biddersConfig.get("unruly"))||void 0===M?void 0:M.enabled,!0),this.verizon=Q(B.verizon,!0)&&Q(null===(A=this._biddersConfig.get("verizon"))||void 0===A?void 0:A.enabled,!0),this.oneVideo=Q(B.oneVideo,!0)&&Q(null===(O=this._biddersConfig.get("oneVideo"))||void 0===O?void 0:O.enabled,!0),this.yahoossp=Q(B.yahoossp,!0)&&Q(null===(z=this._biddersConfig.get("yahoossp"))||void 0===z?void 0:z.enabled,!0),this.yieldmo=Q(B.yieldmo,!0)&&Q(null===(R=this._biddersConfig.get("yieldmo"))||void 0===R?void 0:R.enabled,!0),this.amazonUAM=B.amazonUAM;const D=e.siteAds.videoPlayers&&e.siteAds.videoPlayers.partners,V=e.siteAds.video&&e.siteAds.video.partners,L=D||V||{};this.video={amazonUAM:Q(L.amazonUAM,!0)&&this.amazonUAM,appNexus:Q(L.appNexus,!0)&&this.appNexus,colossus:Q(L.colossus,!0)&&this.colossus,conversant:Q(L.conversant,!1)&&this.conversant,criteo:Q(L.criteo,!0)&&this.criteo,districtM:Q(L.districtM,!0)&&this.districtM,districtMDMXVideo:Q(L.districtM,!0)&&this.districtMDMXVideo,gumgum:Q(L.gumgum,!0)&&this.gumgum,indexExchange:Q(L.indexExchange,!0)&&this.indexExchange,mediaGridVideo:Q(L.mediaGrid,!0)&&this.mediaGridVideo,oneVideo:Q(L.oneVideo,!0)&&this.oneVideo,openx:Q(L.openx,!0)&&this.openx,pubMatic:Q(L.pubMatic,!0)&&this.pubMatic,rubicon:Q(L.rubicon,!0)&&this.rubicon,sharethrough:Q(L.sharethrough,!0)&&this.sharethrough,spotx:Q(L.spotx,!0)&&this.spotx,telaria:Q(L.telaria,!1)&&this.telaria,tripleLift:Q(L.tripleLift,!0)&&this.tripleLift,ttd:Q(L.ttd,!0)&&this.ttd,yahoossp:Q(L.yahoossp,!0)&&this.yahoossp}}getBidderConfig(e){return Q(this._biddersConfig.get(e),{bidder_name:e,enabled:!0,cpmMap:new Map})}};ni=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],ni);let ri=class extends it{constructor(e){super(),this.key="SensOffExperiment",this._choices=[],this._sensCategories=Q(e.siteAds.adOptions.sensitiveCategories,[]),this._choices=this._sensCategories.map((e=>({choice:[e]}))),this._result=this.run()}get result(){return this._result}run(){return this._sensCategories.filter((()=>new nt(.01).get()))}};ri=M([We("SensOffExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],ri);let oi=class{constructor(e,t){this._sensOffExperiment=t,this.id=e.siteAds.siteId,this.name=e.siteAds.siteName,this.verticals=e.siteAds.adOptions.verticals,this.sensitiveCategories=Q(e.siteAds.adOptions.sensitiveCategories,[]),this.sensCategoriesOff=this._sensOffExperiment.result,this.filteredSensitiveCategories=this.sensitiveCategories.filter((e=>-1===this.sensCategoriesOff.indexOf(e))),this.breakpoints=e.siteAds.breakpoints,this.style=e.style}};oi=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,ri])],oi);let ai=class extends it{constructor(e){super(),this._choices=[{choice:"both",weight:90},{choice:"client",weight:9},{choice:"server",weight:1}],this.key="magnitedr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],ai.prototype,"run",null),ai=M([We("RubiconExperiment"),I(),O("design:paramtypes",[et])],ai);let li=class extends it{constructor(e){super(),this._choices=[{choice:"both",weight:99},{choice:"client",weight:1},{choice:"server",weight:0}],this.key="tripleliftdr",this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],li.prototype,"run",null),li=M([We("TripleLiftExperiment"),I(),O("design:paramtypes",[et])],li);let di=class extends it{constructor(e,t,i){super(),this._result=["33across","brightroll","conversant","deepintent","districtm","pubm_ss","yieldmo"],this._choices=[{choice:["appnexus"],threshold:.05},{choice:["grid"],threshold:.9},{choice:["gumgum"],threshold:.02}],this.key="pbs2s",this.addToS2SBidders("tripl_ss",t),this.addToS2SBidders("rubi_ss",i);const s=this.run();this._choices.forEach((({choice:t})=>{const i=t[0];-1!==s.indexOf(i)?(this._result.push(i),e.set("pbs2s_"+i,"on")):e.set("pbs2s_"+i,"off")}))}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new nt(e).get())).map((({choice:e})=>e[0]))}addToS2SBidders(e,t){"both"!==t.result&&"server"!==t.result||this._result.push(e)}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],di.prototype,"run",null),di=M([We("S2SExperiment"),I(),O("design:paramtypes",[et,li,ai])],di);let ci=class{constructor(e,t,i){this._gam=t,this._site=i,this.deals=[],this.targetingKeys=["ADOMAIN","AD_ID","BIDDER","CACHE_ID","CACHE_HOST","DEAL","FORMAT","PRICE_BUCKET","SIZE","SOURCE","UUID","INTERSTITIAL"],this.sendAllBidsTargetingKeys=this.targetingKeys.filter((e=>-1===["ADOMAIN","BIDDER","INTERSTITIAL"].indexOf(e))),this.interstitialAdUnitCode=`gpt_unit_/${this._gam.account}/AdThrive_Interstitial_1/${this._site.id}_0`,this.s2s=this.s2s={bidders:e.result}}};ci=M([I(),O("design:paramtypes",[di,Ut,oi])],ci);let hi=class extends it{constructor(e,t){super(),this.adthrive=e,this.key="adsp7",this._result=!1,this._choices=[{choice:!0},{choice:!1}];const i=window,s=i.adthrive&&i.adthrive.plugin,n=i.adthriveCLS,r=n&&n.experiments;Q(e.siteAds.adDensityEnabled,!0)&&(r&&this.key in r?(this._result=r[this.key],t.set(this.key,this._result?"on":"off")):e.siteAds.adDensityLayout&&(r&&"clsins_ss"in r||s&&s.indexOf("1.1.")>-1)&&(this._result=this.run(),t.set(this.key,this._result?"on":"off")))}get result(){return this._result}run(){return new nt(1).get()}};hi=M([We("TargetDensityExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,et])],hi);let pi=class{constructor(e,t){this._targetDensityExperiment=t,this.enabled=this._targetDensityExperiment.result,this.settings=e.siteAds.adDensityLayout}};pi=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,hi])],pi);let ui=class extends it{constructor(e,t){super(),this._choices=[],this.key="ito";const i=gi(t);this.key=i,this._choices=mi[i].map(_i),this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new rt(this._choices).get()}};ui=M([We("InitialTimeoutExperiment"),I(),O("design:paramtypes",[et,Mt])],ui);const gi=e=>{const t=(e=>{const t=e.downlink;return void 0===t?"unknown":t<10?"slow":"fast"})(e);if("desktop"===e.device)switch(t){case"fast":return"ito_df";case"slow":return"ito_ds";case"unknown":return"ito_dn"}else switch(t){case"fast":return"ito_mf";case"slow":return"ito_ms";case"unknown":return"ito_mn"}},_i=e=>({choice:e[0],weight:e[1]}),mi={ito_df:[[2e3,10],[2100,15],[2200,50],[2300,15],[2400,10]],ito_ds:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_dn:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_mf:[[2400,10],[2500,15],[2600,50],[2700,15],[2800,10]],ito_ms:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]],ito_mn:[[2600,10],[2700,15],[2800,50],[2900,15],[3e3,10]]};let fi=class{constructor(e){this.initialBidsRequest=e.result,this.refreshBidsRequest=5e3}};fi=M([I(),O("design:paramtypes",[ui])],fi);let yi=class{constructor(){this._data={}}set(e){this._data={...this._data,...e}}get(){return 0!==Object.keys(this._data).length?this._data:void 0}getByKey(e){return this._data[e]}clear(){this.set({})}};yi=M([We("UserPageDataLoggingStore"),I()],yi);let vi=class{constructor(e){this._userPageDataLoggingStore=e,this.loggingData=new R,this._maxTimeOnPage=36e5,this._listeners=[],this._callbacks=new Set,this._requestSent=!1,setTimeout((()=>{this._callbacks.forEach((e=>this._executeCallback(e))),this.cleanup()}),this._maxTimeOnPage)}_executeCallback(e){e(),this._callbacks.delete(e),0===this._callbacks.size&&this.logUserPageData()}setUserPageData(e){e&&this._userPageDataLoggingStore.set(e)}logUserPageData(){this._requestSent||(D.fetchEvent("UserPageDataLoggingComponent","logUserData",this._userPageDataLoggingStore.get()),this._requestSent=!0,this.cleanup())}addCallbackToQueue(e,t){this._callbacks.add(t),e.forEach((e=>{this._listeners.push(e.on((()=>this._executeCallback(t))))}))}cleanup(){this._listeners.forEach((e=>{e()})),this._listeners=[],this._callbacks.clear()}};vi=M([We("UserPageDataLoggingEvents"),I(),O("design:paramtypes",[yi])],vi);const bi=()=>{((e,t)=>{var i;const s=e||navigator.userAgent,n=t||navigator.vendor;if(!q(s,n))return!1;const r=(null===(i=/ Version\/(1\d)\.(\d+)/.exec(s))||void 0===i?void 0:i.slice(-2))||[],o="14"===r[0],a="15"===r[0]&&+r[1]<4;return o||a})()&&window.addEventListener("beforeunload",(()=>{window.addEventListener("visibilitychange",(e=>{e.stopImmediatePropagation()}),!0)}),!0)};let Ci=class{constructor(){this.beforeUnload=new R,this.pageHide=new R,this.resize=new R,this.scroll=new R,this.visibilityChange=new R,this.addEventListener("beforeunload",this.beforeUnload),this.addEventListener("pagehide",this.pageHide),this.addEventListener("resize",this.resize),this.addEventListener("scroll",this.scroll),this.addEventListener("visibilitychange",this.visibilityChange,document),bi()}setupOnceEvent(e,t,i=window){const s=()=>{i.removeEventListener(e,s),t()};i.addEventListener(e,s)}setupOnceEventWithPromise(e,t=window){return new Promise((i=>{const s=n=>(t.removeEventListener(e,s),i(n));t.addEventListener(e,s)}))}addEventListener(e,t,i=window){i.addEventListener(e,(()=>{t.emit().catch((()=>!1))}),!1)}};Ci=M([We("PageManager"),I(),O("design:paramtypes",[])],Ci);let Si=class{constructor(e,t){this._userPageDataLoggingEvent=e,this._pageManager=t,this.started=0,this.loading=0,this.totalTimeOnPage=0,this.bootstrapFinished=0,this.amazonStarted=0,this.amazonFinished=0,this.amazonDuration=0,this.gamStarted=0,this.gamFinished=0,this.gamDuration=0,this.marmaladeStarted=0,this.marmaladeFinished=0,this.marmaladeDuration=0,this.prebidStarted=0,this.prebidFinished=0,this.prebidDuration=0,this.webVitalsStarted=0,this.webVitalsFinished=0,this.webVitalsDuration=0,this.started=Pe(),"visible"===document.visibilityState&&(this.timeOnPage=this.started),this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged())),e.loggingData.on((()=>{"visible"===document.visibilityState&&(this.totalTimeOnPage+=Pe()-this.timeOnPage)}))}setPrebidTimingData(e){const t=e.get(vt.Prebid);this.prebidStarted=t&&t.started||0,this.prebidFinished=t&&t.finished||0,this.prebidDuration=t&&t.started&&t.finished&&t.finished-t.started||0}get timingData(){return{started:this.started,loading:this.loading,totalTimeOnPage:this.totalTimeOnPage,bootstrapFinished:this.bootstrapFinished,amazonStarted:this.amazonStarted,amazonFinished:this.amazonFinished,amazonDuration:this.amazonDuration,gamStarted:this.gamStarted,gamFinished:this.gamFinished,gamDuration:this.gamDuration,marmaladeStarted:this.marmaladeStarted,marmaladeFinished:this.marmaladeFinished,marmaladeDuration:this.marmaladeDuration,prebidStarted:this.prebidStarted,prebidFinished:this.prebidFinished,prebidDuration:this.prebidDuration,webVitalsStarted:this.webVitalsStarted,webVitalsFinished:this.webVitalsFinished,webVitalsDuration:this.webVitalsDuration,...this.timeOnPage&&{timeOnPage:this.timeOnPage}}}documentVisibilityChanged(){"visible"===document.visibilityState?this.timeOnPage=Pe():"hidden"===document.visibilityState&&(this.totalTimeOnPage+=Pe()-this.timeOnPage,this.timeOnPage=void 0)}};Si=M([I(),O("design:paramtypes",[vi,Ci])],Si);let wi=class extends it{constructor(e,t){super(),this._choices=[{choice:"ats",weight:1},{choice:"conf",weight:1},{choice:"hawk",weight:1},{choice:"tgtaff",weight:1},{choice:"none",weight:96}],this.key="3pho",this._result=this.run(),t.set(this.key,this.result)}get result(){return this._result}run(){return new rt(this._choices).get()}};wi=M([We("TKHOExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,et])],wi);let ki=class{constructor(e){this.tracker=e.result}};ki=M([I(),O("design:paramtypes",[wi])],ki);let Ei=class extends it{constructor(){super(),this._result=[],this._choices=[{choice:["appnexus"],threshold:.1},{choice:["colossus"],threshold:.01},{choice:["conversant"],threshold:.01},{choice:["criteo"],threshold:.01},{choice:["districtm"],threshold:.3},{choice:["dmdmx"],threshold:.2},{choice:["gridvid"],threshold:.01},{choice:["gumgum"],threshold:.5},{choice:["ix"],threshold:.005},{choice:["oneVideo"],threshold:.2},{choice:["openx"],threshold:.1},{choice:["pubmatic"],threshold:.01},{choice:["roundel"],threshold:.1},{choice:["rubicon"],threshold:.01},{choice:["sharethrough"],threshold:.01},{choice:["spotx"],threshold:.01},{choice:["telaria"],threshold:.01},{choice:["triplelift"],threshold:.01},{choice:["ttd"],threshold:.01},{choice:["yahoossp"],threshold:.01}],this.key="vbho",this._result=this.run()}get result(){return this._result}run(){return this._choices.filter((({threshold:e})=>new nt(e).get())).map((({choice:e})=>e[0]))}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ei.prototype,"run",null),Ei=M([We("VBHOExperiment"),I(),O("design:paramtypes",[])],Ei);let xi=class{constructor(e){this.bidders=e.result}};xi=M([I(),O("design:paramtypes",[Ei])],xi);let Pi=class extends it{constructor(e){super(),this._choices=[{choice:{name:"chocolate_ebda",weight:10}},{choice:{name:"ix_ebda",weight:5}},{choice:{name:"medianet_ebda",weight:10}},{choice:{name:"openx_ebda",weight:10}},{choice:{name:"pubmatic_ebda",weight:5}},{choice:{name:"rhythmone_ebda",weight:10}},{choice:{name:"rubicon_ebda",weight:5}},{choice:{name:"sonobi_ebda",weight:10}},{choice:{name:"spotx_ebda",weight:1}},{choice:{name:"telaria_ebda",weight:5}},{choice:{name:"triplelift_ebda",weight:1}},{choice:{name:"verizon_ebda",weight:1}},{choice:{name:"emx_ebda",weight:10}},{choice:{name:"sharethrough_ebda",weight:10}},{choice:{name:"sovrn_ebda",weight:10}},{choice:{name:"yieldmo_ebda",weight:10}}],this.key="vebho",this._result=this.run(),e.set(this.key,this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight}))),t=new rt(e);return t.totalWeight,t.get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],Pi.prototype,"run",null),Pi=M([We("VEBHOExperiment"),I(),O("design:paramtypes",[et])],Pi);let Ti=class{constructor(e){this.bidder=e.result}};Ti=M([I(),O("design:paramtypes",[Pi])],Ti);let Ii=class extends it{constructor(e){super(),this._choices=[{choice:6e3,weight:5},{choice:4e3,weight:75},{choice:2e3,weight:15},{choice:0,weight:5}],this.key="cbt",this._result=this.run(),6e3===this._result?e.set(this.key,"6s"):4e3===this._result?e.set(this.key,"4s"):2e3===this._result?e.set(this.key,"2s"):0===this._result&&e.set(this.key,"0s")}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ii.prototype,"run",null),Ii=M([We("CloseButtonTimeoutExperiment"),I(),O("design:paramtypes",[et])],Ii);let Mi=class extends it{constructor(e){super(),this._choices=[{choice:{protocols:[1,2,3,4,5,6,7,8],value:"all",scope:"all"},weight:55},{choice:{protocols:[2,3,5,6,7,8],value:"nv1",scope:"all"},weight:15},{choice:{protocols:[1,2,3,5,6,7,8],value:"allr",scope:"limited"},weight:15},{choice:{protocols:[2,3,5,6,7,8],value:"nv1r",scope:"limited"},weight:15}],this.key="proto",this._result=this.run(),e.set(this.key,this._result.value)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Mi.prototype,"run",null),Mi=M([We("ProtocolsExperiment"),I(),O("design:paramtypes",[et])],Mi);let Ai=class extends it{constructor(e){super(),this._choices=[{choice:5e3,weight:40},{choice:1e4,weight:40},{choice:15e3,weight:20}],this.key="vast_to",this._result=this.run(),5e3===this._result?e.set(this.key,"5s"):1e4===this._result?e.set(this.key,"10s"):15e3===this._result&&e.set(this.key,"15s")}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ai.prototype,"run",null),Ai=M([We("VastTimeoutExperiment"),I(),O("design:paramtypes",[et])],Ai);let Oi=class extends it{constructor(e,t){super(),this._adthrive=e,this._result=!1,this.key="vadv",this._choices=[{choice:!0},{choice:!1}];const i=this._adthrive.siteAds.adOptions.advancePlaylist,s=this._adthrive.siteAds.adOptions.advancePlaylistOptions,n=s?s&&s.playlistPlayer&&s.playlistPlayer.enabled:i;Q(n,!0)&&(this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new nt(.99).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Oi.prototype,"run",null),Oi=M([We("AdvancePlaylistExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,et])],Oi);let zi=class extends it{constructor(e,t){super(),this._adthrive=e,this._result=!1,this.key="rvadv_ab1",this._choices=[{choice:!0},{choice:!1}];const i=this._adthrive.siteAds,s=i.adOptions.advancePlaylistOptions||{},n=i.videoPlayers;(n&&n.players||[]).filter((e=>"stickyPlaylist"===e.type)).length&&Q(s.relatedPlayer&&s.relatedPlayer.enabled,!0)&&(this._result=this.run(),t.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new nt(.9).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],zi.prototype,"run",null),zi=M([We("AdvancePlaylistRelatedExperiment"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,et])],zi);let Ri=class extends it{constructor(e){super(),this.key="reqTo",this._choices=[{choice:1e4,weight:20},{choice:15e3,weight:60},{choice:2e4,weight:20}],this._result=this.run(),1e4===this._result?e.set(this.key,"10"):15e3===this._result?e.set(this.key,"15"):2e4===this._result&&e.set(this.key,"20")}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ri.prototype,"run",null),Ri=M([We("JwRequestTimeoutExperiment"),I(),O("design:paramtypes",[et])],Ri);let Bi=class extends it{constructor(){super(),this.key="LogAdDurationExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new nt(.03).get()}};Bi=M([We("LogAdDurationExperiment"),I(),O("design:paramtypes",[])],Bi);let Di=class extends it{constructor(){super(),this.key="LogAdLifeCycleExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new nt(.1).get()}};Di=M([We("LogAdLifeCycleExperiment"),I(),O("design:paramtypes",[])],Di);let Vi=class extends it{constructor(e){super(),this.key="pbm",this._choices=[{choice:!0},{choice:!1}],this._map=new Map([[Ct.Video_In_Post_ClicktoPlay_SoundOn,[3]],[Ct.Video_Collapse_Autoplay_SoundOff,[6]],[Ct.Video_Coll_SOff_Smartphone,[6]],[Ct.Video_Individual_Autoplay_SOff,[6]]]),this._result=this.run(),this.playbackmethod=this._result?this._map:void 0,e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.2).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Vi.prototype,"run",null),Vi=M([We("PlaybackmethodExperiment"),I(),O("design:paramtypes",[et])],Vi);class Li{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static shufflePlaylist(e){let t,i,s=e.length;for(;0!==s;)i=Math.floor(Math.random()*e.length),s-=1,t=e[s],e[s]=e[i],e[i]=t;return e}static playerInView(e){const t=e.getBoundingClientRect();return window.innerHeight>t.top+t.height/2}static createQueryString(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}static createEncodedQueryString(e){return Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}static setMobileLocation(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e&&(e="adthrive-collapse-bottom-right"),e}}let Fi=class{constructor(e,t,i,s,n,r,o,a,l){this._adthrive=e,this.players=[],this.instreamAdUnits=new Set([Ct.Video_Collapse_Autoplay_SoundOff,Ct.Video_Individual_Autoplay_SOff,Ct.Video_Coll_SOff_Smartphone,Ct.Video_In_Post_ClicktoPlay_SoundOn]),this.closeButtonTimeout=t.result,this.vastTimeout=Q(i.result,1e4),this.maxRedirect=8,this.apiValue=[2],this.videoWasClosed=Q(ie("video_closed",18e5,!0),!1),this.mobileStickyPlayerOnPage=!1,this.playbackmethod=n.playbackmethod,this.logAdDuration=r.result,this.logAdLifeCycle=o.result,this.jwRequestTimeout=a.result,this.mimeType=navigator.userAgent&&-1===navigator.userAgent.search(/Chrom|firefox/i)?["video/mp4","application/javascript"]:["video/mp4","application/javascript","video/webm"],this.videoProtocols=s.result,this.position={id:1,name:"above"},this.removeVideoTitleWrapper=Q(e.siteAds.adOptions.removeVideoTitleWrapper,!1);const d=e.siteAds.videoPlayers;this.footerSelector=Q(d&&d.footerSelector,""),this.players=Q(d&&d.players.map((e=>(e.mobileLocation=Li.setMobileLocation(e.mobileLocation),e))),[]),this.contextualSettings=d&&d.contextual,this.jwPlaylist=this.getPlayListPlayerVideos(),this.advancePlaylist=this.getAdvancePlaylistConfig(l)}setupAdvanceRelatedExperiment(e){const t=x.resolve(zi),i=this.advancePlaylist.relatedPlayer||{},s=e?i.sticky:i.static;(s?s.enabled:i.enabled)&&t&&(i.applyToFirst=s?s.applyToFirst:i.applyToFirst,i.shouldRun=this.jwPlaylist.then((e=>"object"==typeof e&&t.result)).catch((()=>Promise.reject().catch((()=>!1)))))}getPlayListPlayerVideos(){const e=this._adthrive.siteAds.videoPlayers,t=(e&&e.players||[]).filter((e=>"stickyPlaylist"===e.type)),i=t.length&&t[0].playlistId;return i?te(`https://cdn.jwplayer.com/v2/playlists/${i}`):Promise.reject().catch((()=>!1))}getAdvancePlaylistConfig(e){const t=(this._adthrive.siteAds.adOptions.advancePlaylistOptions||{}).relatedPlayer||{};return{playlistPlayer:{enabled:e.result},relatedPlayer:{applyToFirst:Q(t.applyToFirst,!0),enabled:Q(t.enabled,!0),shouldRun:Promise.reject().catch((()=>!1)),static:t.static,sticky:t.sticky}}}};Fi=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,Ii,Ai,Mi,Vi,Bi,Di,Ri,Oi])],Fi);let ji=class{constructor(e,t,i,s){this._videoAdOptions=e,this.apiValue=[2],this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.contextualPlayerAdded=!1,this.sekindoPlayerAdded=!1,this.hasJwPlayer=!1,this.preventStickyOutstream=!1,this.hasStickyOutstream=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.instreamAdUnits=new Set([Ct.Video_Collapse_Autoplay_SoundOff,Ct.Video_Individual_Autoplay_SOff,Ct.Video_Coll_SOff_Smartphone,Ct.Video_In_Post_ClicktoPlay_SoundOn]);const n=this._videoAdOptions;this.videoProtocols=t.result,this.closeButtonTimeout=i.result,this.vastTimeout=s.result,this.position={id:1,name:"above"},this.maxRedirect=8,this.playbackmethod=n.playbackmethod,this.advancePlaylist=n.advancePlaylist,this.jwPlaylist=n.jwPlaylist,this.setupAdvanceRelatedExperiment=n.setupAdvanceRelatedExperiment,this.contextualSettings=n.contextualSettings,this.mimeType=n.mimeType,this.videoProtocols=n.videoProtocols,this.closeButtonTimeout=n.closeButtonTimeout,this.jwRequestTimeout=n.jwRequestTimeout,this.logAdDuration=n.logAdDuration,this.logAdLifeCycle=n.logAdLifeCycle,this.vastTimeout=n.vastTimeout,this.videoWasClosed=n.videoWasClosed,this.removeVideoTitleWrapper=n.removeVideoTitleWrapper,this.players=n.players,this.footerSelector=n.footerSelector}};ji=M([I(),O("design:paramtypes",[Fi,Mi,Ii,Ai])],ji);let Ni=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,C,S,w,k,E,P,T,I,M,A,O,z){this.abGroup=e,this.adOptions=t,this.adTypes=i,this.amazon=s,this.ccpa=n,this.clsOptimizedAds=r,this.comscore=o,this.context=a,this.disableAds=l,this.ebho=d,this.impressionLog=c,this.footer=h,this.gam=p,this.gdpr=u,this.hbho=g,this.identityApi=_,this.idho=m,this.infiniteScroll=f,this.lazyLoad=y,this.liveRampAts=v,this.marmalade=b,this.partners=C,this.prebid=S,this.site=w,this.targetDensity=k,this.timeouts=E,this.timing=P,this.tkho=T,this.vbho=I,this.vebho=M,this.auctionOptions=A,this.video=O,this.dynamicAds=z.get();const R=x.resolve(It);R.enabled&&(this.clsOptions=R)}};Ni=M([I(),O("design:paramtypes",[et,at,lt,xt,Tt,Ot,zt,Mt,Rt,Ft,Nt,qt,Ut,Ht,Wt,Gt,Kt,Xt,ei,ti,si,ni,ci,oi,pi,fi,Si,ki,xi,Ti,Pt,ji,Vt])],Ni);class qi{constructor(e,t,i,s,n,r=!1,o=8,a,l=[],d=!0,c=!1){this.location=e,this.sequence=t,this.sizes=i,this.element=s,this.sticky=n,this.lazy=r,this.auctionPriority=o,this.stickyOverlapSelector=a,this.special=l,this.enabledForAuction=d,this.infinite=c,this.disabledRefreshSlot=!1,this.refreshPaused=!1,this.viewableDuration=0,this.outOfViewIO=!0,this.outOfViewGPT=!0,this.alwaysInView=!1,this.displayed=!1,this.refreshCount=0,this.viewability=0,this.servedPrebidBidResponse=void 0}get id(){return this.element.id}get isSticky(){return this.sticky}get hasHighViewability(){return this.sticky||"Recipe"===this.location}get isAboveTheFold(){return(e=>{const t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,bottom:t.bottom+window.pageYOffset,right:t.right+window.pageXOffset,width:t.right-t.left,height:t.bottom-t.top}})(this.element).top>1e3}hasSize([e,t]){return this.sizes.some((([i,s])=>e===i&&t===s))}get name(){return[this.location,this.sequence].filter(Ve).join("_")}get placementMapName(){return"Content"===this.location&&this.sequence&&this.sequence>9?`${this.location}_9`:this.name}pushToQueue(e){const t=window.googletag;t&&t.cmd&&t.cmd.push(e)}setViewability(e){e.adViewability.filter((t=>t.speed===e.speed&&window.innerWidth>=t.width[0]&&(!t.width[1]||window.innerWidth<=t.width[1]))).forEach((e=>{Object.keys(e.adUnits).forEach((t=>{t===this.name&&(this.viewability=e.adUnits[t])}))}))}clearTargeting(e){this.googleTagSlot?this.googleTagSlot.clearTargeting(e):D.error("Slot","setTargeting","Attempted to clear targeting before slot was defined",e)}setTargeting(e){this.pushToQueue((()=>{if(this.googleTagSlot){const t=Array.isArray(e)?e:[e];for(const e of t)this.googleTagSlot.setTargeting(e.key,e.value)}else D.error("Slot","setTargeting","Attempted to set targeting before slot was defined",e)}))}setSlotTargetingFlag(e,t,i=!1){const s=()=>{if(this.googleTagSlot){const s=this.googleTagSlot.getTargeting("flag_slot").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.googleTagSlot.setTargeting("flag_slot",[...s,...t.map((t=>`${e}:${t}`))])}};t&&t.length>0&&this.pushToQueue((()=>s()))}getTargeting(e){return this.googleTagSlot?this.googleTagSlot.getTargeting(e):(D.error("Slot","getTargeting","Attempted to get targeting before slot was defined"),[])}getTargetingMap(){if(this.googleTagSlot){const e=this.googleTagSlot;return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}return D.error("Slot","getTargetingMap","Attempted to get targeting before slot was defined"),{}}}let Ui=class{constructor(){this.added=new R,this.bidServed=new R,this._slots=new Map}add(e){const t=this.castArray(e);for(const e of t)this._slots.has(e.id)||(this._slots.set(e.id,e),this.added.emit(e).catch((e=>{D.error("Slots","add",e)})));return t}remove(e){const t=this.castArray(e);for(const e of t)this._slots.has(e.id)&&this._slots.delete(e.id)}get(e){return e?this._slots.get(e):[...this._slots.values()]}castArray(e){if("string"==typeof e){const t=this.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}};Ui=M([We("Slots"),I()],Ui);class Hi{addAdUnits(e){this.addToQueue((()=>{pbjs.addAdUnits(e)}))}addToQueue(e){pbjs.que.push(e)}enableAnalytics(e){this.addToQueue((()=>{pbjs.enableAnalytics(e)}))}isPrebidLoaded(){return window.pbjs&&window.pbjs.libLoaded}markWinningBidAsUsed(e){this.addToQueue((()=>{pbjs.markWinningBidAsUsed(e)}))}offEvent(e,t){this.addToQueue((()=>{pbjs.offEvent(e,t)}))}onEvent(e,t){this.addToQueue((()=>{pbjs.onEvent(e,t)}))}refreshUserIds(e,t){this.addToQueue((()=>{pbjs.refreshUserIds(e,t)}))}requestBids(e){this.addToQueue((()=>{pbjs.requestBids(e)}))}setAliasBidder(e,t){this.addToQueue((()=>{pbjs.aliasBidder(e,t)}))}setBidderConfig(e){this.addToQueue((()=>{pbjs.setBidderConfig(e)}))}setBidderSettings(e){this.addToQueue((()=>{pbjs.bidderSettings=e}))}setBidsReceivedFilter(e){this.addToQueue((()=>{pbjs.setBidsReceivedFilter(e)}))}setConfig(e){this.addToQueue((()=>{pbjs.setConfig(e)}))}setTargetingForGPTAsync(e){this.addToQueue((()=>{pbjs.setTargetingForGPTAsync(e)}))}triggerUserSyncs(){this.addToQueue((()=>{pbjs.triggerUserSyncs()}))}waitForQueue(){return new Promise(((e,t)=>{this.isPrebidLoaded()||t(!1),pbjs.que.push((()=>{e(!0)}))}))}getBidResponsesForAdUnitCode(e){return pbjs.getBidResponsesForAdUnitCode(e)}getAdserverTargetingForAdUnitCode(e){return pbjs.getAdserverTargetingForAdUnitCode(e)}getConfig(e,t){return t?pbjs.getConfig(e,t):pbjs.getConfig(e)}getHighestCpmBids(e){return pbjs.getHighestCpmBids(e)}}var $i;let Wi=$i=class{constructor(e,t,i){this._config=e,this._slots=t,this._prebidMethods=i,this._started=!1,this.postStartTargetingWhiteList=["bms","pvk","flag","hi_au","abgroup"],this.impressionViewable=new R,this.slotOnload=new R,this.slotRenderEnded=new R,this.slotVisibilityChanged=new R,this.slotRequested=new R,this.started=new R}init(){$i.pushToQueue((()=>{const e=googletag.pubads();e.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0,useUniqueDomain:!0}),e.set("page_url",this._config.context.pageUrl),e.collapseEmptyDivs(),e.enableSingleRequest(),e.disableInitialLoad(),e.setTagForChildDirectedTreatment(0),this._addGamEventListeners()}))}start(){$i.pushToQueue((()=>{googletag.enableServices(),this.started.emit().catch((e=>{D.error("GoogleAdManager","start","started",e)})),this._started=!0}))}static pushToQueue(e){googletag.cmd.push(e)}waitForQueue(){return new Promise((e=>{googletag.cmd.push((()=>{e(!0)}))}))}setTargeting(e){const t=(Array.isArray(e)?e:[e]).filter((e=>!(!e.value||!e.value.length)));if(this._started&&t.some((e=>-1===this.postStartTargetingWhiteList.indexOf(e.key))))D.error("GoogleAdManager","setTargeting","Attempted to set targeting after started");else for(const e of t)e&&$i.pushToQueue((()=>{googletag.pubads().setTargeting(e.key,e.value)}))}setSlotTargeting(e,t){const i=Array.isArray(e)?e:[e];for(const e of i)e&&$i.pushToQueue((()=>{t.setTargeting(e.key,Array.isArray(e.value)?e.value.join(","):e.value)}))}setTargetingFlag(e,t,i=!1){const s=()=>{const s=googletag.pubads().getTargeting("flag").filter((t=>{const[s]=t.split(":");return!i||s!==e}));this.setTargeting({key:"flag",value:[...s,...t.map((t=>`${e}:${t}`))]})};t&&t.length>0&&$i.pushToQueue((()=>s()))}getTargeting(){return googletag.pubads().getTargetingKeys().map((e=>({key:e,value:googletag.pubads().getTargeting(e)})))}getTargetingValuesForKey(e){return googletag.pubads().getTargeting(e)}getTargetingMap(){const e=googletag.pubads();return e.getTargetingKeys().reduce(((t,i)=>(t[i]=e.getTargeting(i),t)),{})}clearTargetingForKey(e){$i.pushToQueue((()=>{googletag.pubads().clearTargeting(e)}))}defineSlots(e){const{id:t}=this._config.site,{account:i,prefix:s}=this._config.gam;return e.map((e=>{const n="Content"===e.location&&e.sequence&&e.sequence>9?e.location:e.name,r=`/${i}/${s}_${n}/${t}`,o="Video_StickyOutstream"===e.location?[...e.sizes]:[...e.sizes,"fluid"];return this._setupSlot(e,r,o),e})).filter(Ve)}displaySlots(e){$i.pushToQueue((()=>{const t=googletag.pubads(),i=t.isInitialLoadDisabled();googletag&&!googletag.pubadsReady&&D.error("index","load",new Error(`Unexpected googletag.pubadsReady: ${googletag.pubadsReady}`));for(const s of e)googletag.pubads().enableLazyLoad(s.lazy?this._config.lazyLoad.googleLazyLoadSettings.gam:this._config.lazyLoad.googleLazyLoadSettings.disabled),i?t.refresh([s.googleTagSlot]):googletag.display(s.id)}))}refreshSlots(e){$i.pushToQueue((()=>{googletag.pubads().refresh(e.map((e=>e.googleTagSlot)))}))}clearSlots(e){$i.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.pubads().clear(t)}))}destroySlots(e){$i.pushToQueue((()=>{const t=e.map((e=>e.googleTagSlot));googletag.destroySlots(t)}))}_addGamEventListeners(){this._addEventListener(this.impressionViewable,"impressionViewable"),this._addEventListener(this.slotOnload,"slotOnload"),this._addEventListener(this.slotRenderEnded,"slotRenderEnded"),this._addEventListener(this.slotVisibilityChanged,"slotVisibilityChanged"),this._addEventListener(this.slotRequested,"slotRequested")}_addEventListener(e,t){$i.pushToQueue((()=>{googletag.pubads().addEventListener(t,(t=>{const i=this._slots.get(t.slot.getSlotElementId());i&&e.emit({slot:i,event:t}).catch((e=>{D.error("GoogleAdManager","addEventListener","emit",e)}))}))}))}_setupSlot(e,t,i){const s=googletag.pubads();e.googleTagSlot="Interstitial"===e.location?googletag.defineOutOfPageSlot(t,googletag.enums.OutOfPageFormat.INTERSTITIAL):googletag.defineSlot(t,i,e.element.id),e.googleTagSlot?(e.googleTagSlot.addService(s).setTargeting("location",e.location).setTargeting("sequence",String(e.sequence)).setTargeting("id",e.id),(1===e.sequence&&e.isAboveTheFold||"Footer"===e.location)&&e.googleTagSlot.setTargeting("ATF","true"),e.isSticky&&"Video_StickyOutstream"!==e.location&&e.googleTagSlot.setTargeting("sticky","true"),e.special&&e.special.length>0&&e.googleTagSlot.setTargeting("special",e.special),"Sponsor_Tile"===e.location&&e.googleTagSlot.setCollapseEmptyDiv(!0,!0),s.isInitialLoadDisabled()&&googletag.display(e.googleTagSlot)):D.error("GoogleAdManager","defineSlots",`Duplicate ${t}`)}};Wi=$i=M([We("GoogleAdManager"),I(),O("design:paramtypes",[Ni,Ui,Hi])],Wi);class Gi{get videoEnabled(){return!0}get enabled(){return!0}}let Qi=class extends it{constructor(e){super(),this.key="amzn_hold_disp",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.5).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Qi.prototype,"run",null),Qi=M([We("AmazonLibraryExperiment"),I(),O("design:paramtypes",[et])],Qi);let Ki=class extends it{constructor(e){super(),this.abgroup=e,this._choices=[{choice:0,weight:60},{choice:.8,weight:10},{choice:.9,weight:10},{choice:.95,weight:10},{choice:.99,weight:10}],this.key="lzflrcontent",this._result=this.run(),0===this._result?this.abgroup.set(this.key,"off"):.8===this._result?this.abgroup.set(this.key,"80"):.9===this._result?this.abgroup.set(this.key,"90"):.95===this._result?this.abgroup.set(this.key,"95"):.99===this._result&&this.abgroup.set(this.key,"99")}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Ki.prototype,"run",null),Ki=M([We("LazyLoadFloorsExperiment"),I(),O("design:paramtypes",[et])],Ki);let Xi=class extends it{constructor(e){super(),this.abgroup=e,this._choices=[{choice:"on",weight:4},{choice:"on_min",weight:4},{choice:"off",weight:90},{choice:"none",weight:2}],this.key="rbflr",this._result=this.run(),this.abgroup.set(this.key,this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",String)],Xi.prototype,"run",null),Xi=M([We("RubiconFloorsExperiment"),I(),O("design:paramtypes",[et])],Xi);let Ji=class extends it{constructor(e){super(),this.abgroup=e,this._choices=[{choice:0,weight:60},{choice:.8,weight:10},{choice:.9,weight:10},{choice:.95,weight:10},{choice:.99,weight:10}],this.key="sessflrs1",this._result=this.run(),0===this._result?this.abgroup.set(this.key,"off"):this.abgroup.set(this.key,""+100*this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],Ji.prototype,"run",null),Ji=M([We("SessionFloorsExperiment"),I(),O("design:paramtypes",[et])],Ji);let Yi=class{constructor(e,t){this._rubiconFloorsExperiment=e,this.abGroup=t,this._result={rubicon:!1,legacy:!1,percentile:{lazy:0,session:0}},this.run()}get result(){return this._result}run(){"on"!==this._rubiconFloorsExperiment.result&&"on_min"!==this._rubiconFloorsExperiment.result||(this._result.rubicon=!0),"off"!==this._rubiconFloorsExperiment.result&&"on_min"!==this._rubiconFloorsExperiment.result||(this._result.legacy=!0,this._result.percentile.lazy=new Ki(this.abGroup).result,this._result.percentile.session=new Ji(this.abGroup).result)}};Yi=M([We("FloorsExperimentHandler"),I(),O("design:paramtypes",[Xi,et])],Yi);let Zi=class{constructor(e,t,i){this._floorsExperiment=e,this._config=t,this._prebidMethods=i,this._amazonFloors={}}setValues(e,t,i){e.values[`${window.location.host}|${t}`]=i>0?i:0}getDefaultFloorConfig(){return{currency:"USD",schema:{fields:["domain","adUnitCode"],delimiter:"|"},values:{}}}setPrebidFloors(e){e.modelGroups.length>0&&this._setPrebidFloors(e)}setLegacyFloorsConfig(e){if(!Object.keys(e.values).length)return;this._setAmazonFloors(e);const t=this.rubiconData||{floorsSchemaVersion:2,modelGroups:[{...e,modelWeight:100,modelVersion:"legacy"}]};!0===this._floorsExperiment.result.rubicon&&!0===this._floorsExperiment.result.legacy&&this.rubiconData&&(t.modelGroups=this.rubiconData.modelGroups.map((t=>(t.values=this.getMaxFloors(e.values,t.values),t)))),this.setPrebidFloors(t)}_setPrebidFloors(e){this._prebidMethods.setConfig({floors:{enforcement:{enforceJS:!1},data:e}})}_setAmazonFloors({values:e,currency:t}){Object.keys(e).forEach((i=>{const s=i.split("|").length&&i.split("|")[1]||i;this._amazonFloors[s]={value:e[i],currency:t||"USD"}}))}getAmazonFloorsBySlotId(e){return this._amazonFloors[e]||this._amazonFloors[e.toLowerCase()]||{}}getMaxFloors(e={},t={}){const i=this.setAdUnitCodeKeys(t),s=this.setAdUnitCodeKeys(e),n={...s,...i};return Object.keys(n).reduce(((e,t)=>{const n=e=>isNaN(e)?0:e;return e[`${window.location.host}|${t}`]=Math.max(n(s[t]),n(i[t])),e}),{})}setAdUnitCodeKeys(e){return Object.keys(e).reduce(((t,i)=>(i.split("|").forEach((s=>{this.verifyAdUnitCode(s)&&(t[s.toLowerCase()]=e[i])})),t)),{})}verifyAdUnitCode(e){const t=!!/AdThrive_/i.exec(e),i=void 0!==[...this._config.video.instreamAdUnits].filter((t=>t.toLowerCase()===e.toLowerCase()))[0];return t||i}};Zi=M([We("Floors"),I(),O("design:paramtypes",[Yi,Ni,Hi])],Zi);class es{getSupplyChainConfig(e){return{ver:"1.0",complete:1,nodes:[{asi:"cafemedia.com",sid:e,hp:1}]}}}let ts=class extends Gi{constructor(e,t,i){super(),this._config=e,this._amazonHoldDisplayExperiment=t,this._floors=i,this.holdDisplayExperiment=!1,this.videoSlotNames=new Map,this.videoSlotBids=new Map,this._amazonConfig={pubID:this._config.amazon.pubId,adServer:"googletag",videoAdServer:"DFP",...this._config.ccpa.required&&this._config.ccpa.privacyString&&{params:{us_privacy:this._config.ccpa.privacyString}},schain:(new es).getSupplyChainConfig(this._config.site.id)}}init(){window.apstag.init(this._amazonConfig),this._config.ccpa.consentChange.on((e=>{this._amazonConfig.params&&e&&(this._amazonConfig.params.us_privacy=e),window.apstag.init(this._amazonConfig)})),this.holdDisplayExperiment=this._amazonHoldDisplayExperiment.result,this.videoSlotNames=this.initVideoSlotMap()}requestBids(e,t=this._config.timeouts.initialBidsRequest-200){const{id:i}=this._config.site,{networkCode:s,prefix:n}=this._config.gam;return new Promise((r=>{Wi.pushToQueue((()=>{const o=e.filter((e=>void 0!==e.googleTagSlot&&!this._config.amazon.adUnitExclusions.has(e.location))).map((e=>{const t=this._floors.getAmazonFloorsBySlotId(e.element.id);return{slotID:e.element.id,slotName:`/${s}/${n}_${e.name}/${i}`,sizes:e.sizes,..."Video_StickyOutstream"===e.location&&{mediaType:"video"},...t&&t.currency&&{floor:{value:Math.ceil(100*t.value),currency:t.currency}}}}));o.length?(window.apstag.fetchBids({slots:o,timeout:t},(()=>{Wi.pushToQueue((()=>{window.apstag.setDisplayBids(),r()}))})),this.holdDisplayExperiment||r()):r()}))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest-200)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest-200){return Promise.all(e.map((e=>{const i=this._floors.getAmazonFloorsBySlotId(e.name),s={slotID:this.videoSlotNames.get(e.name),mediaType:"video",...i&&i.currency&&{floor:{value:Math.ceil(100*i.value),currency:i.currency}}};return new Promise((i=>{s?window.apstag.fetchBids({slots:[s],timeout:t},(t=>{t.length>0&&this.videoSlotBids.set(e._playlistId,t[0]),i()})):i()}))}))).then((()=>Promise.resolve())).catch()}getVideoBid(e){const t=this.videoSlotBids.get(e);if(t)return this.videoSlotBids.delete(e),t}initVideoSlotMap(){const e={desktop:new Map([[Ct.Video_Collapse_Autoplay_SoundOff,"Sticky_Playlist_Desktop"],[Ct.Video_Individual_Autoplay_SOff,"Sticky_Related_Desktop"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Desktop"]]),mobile:new Map([[Ct.Video_Coll_SOff_Smartphone,"Sticky_Playlist_Mobile"],[Ct.Video_Individual_Autoplay_SOff,"Sticky_Related_Mobile"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"CTP_Mobile"]])};return Ce()?e.desktop:e.mobile}get videoEnabled(){return this._config.partners.video.amazonUAM}get enabled(){return void 0!==window.apstag&&this._config.amazon.enabled}};ts=M([We("AmazonAuctionManager"),T(),O("design:paramtypes",[Ni,Qi,Zi])],ts);class is{}let ss=class extends it{constructor(e){super(),this.key="pba",this._choices=[{choice:{name:"roxot",weight:1}},{choice:{name:"rubicon",weight:0}},{choice:{name:"none",weight:99}}],this._result=this.run(),e.set("pba",this._result?this._result.name:"off")}get result(){return this._result}run(){const e=this._choices.map((e=>e.choice)).map((e=>({choice:e,weight:e.weight})));return new rt(e).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Object)],ss.prototype,"run",null),ss=M([We("AnalyticsExperiment"),I(),O("design:paramtypes",[et])],ss);let ns=class extends is{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this._analyticsExperiment=i,this.name="roxot"}init(){if(window.localStorage)try{this._prebidMethods.enableAnalytics({provider:"roxot",options:{publisherIds:["ffcc0e40-07d0-4238-92e4-f711915afb5a"],host:`${this._config.context.bucket}.com`}})}catch(e){D.error("RoxotAnalytics","init - ignored",e)}else D.error("RoxotAnalytics","init",new Error("Disabled roxot because localStorage is undefined"))}get enabled(){var e;return"roxot"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};ns=M([We("RoxotAnalytics"),T(),O("design:paramtypes",[Ni,Hi,ss])],ns);let rs=class extends is{constructor(e,t,i){super(),this._rubiconFloorsExperiment=e,this._analyticsExperiment=t,this._prebidMethods=i,this.name="rubicon"}init(){try{this._prebidMethods.enableAnalytics({provider:this.name,options:{accountId:9262,endpoint:"https://prebid-a.rubiconproject.com/event"}})}catch(e){D.error("RubiconAnalytics","init - ignored",e)}}get enabled(){var e;return"on"===this._rubiconFloorsExperiment.result||"rubicon"===(null===(e=this._analyticsExperiment.result)||void 0===e?void 0:e.name)}};rs=M([We("RubiconAnalytics"),T(),O("design:paramtypes",[Xi,ss,Hi])],rs);class os extends class{updateBidParams(e,t,i){return i}get enabled(){return!0}get videoEnabled(){return!0}get name(){return this.bidderConfig.bidder_name}}{getSlotBidRequests(e){}getVideoSlotBidRequests(e){}getBidRequests(e){return e.reduce(((e,t)=>(e.set(t.id,this.getSlotBidRequests(t)),e)),new Map)}getVideoBidRequests(e){return e.reduce(((e,t)=>(e.set(t.name,this.getVideoSlotBidRequests(t)),e)),new Map)}}let as=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("33across"),this._map=new Map([["Below_Post_1","dqjinO_Lqr6i5uaKkv7mNO"],["Content_1","dzqsVw_Lqr6iHHaKlId8sQ"],["Content_2","dGYL36_Lqr6iHHaKlId8sQ"],["Content_3","dPmBLW_Lqr6ikXaKkGJozW"],["Content_4","dYmdO4_Lqr6ikXaKkGJozW"],["Content_5","d73_q4_Lqr6ikfaKlId8sQ"],["Content_6","aeCNc8_Lur6ikfaKlId8sQ"],["Content_7","amEJ90_Lur6ikXaKkGJozW"],["Content_8","avcDUU_Lur6ikXaKkGJozW"],["Content_9","aE0F5q_Lur6iHHaKlId8sQ"],["Footer_1","aMbGkS_Lur6ikXaKkGJozW"],["Header_1","aZCnyg_Lur6ikfaKlId8sQ"],["Header_2","a7S6ye_Lur6ikXaKkGJozW"],["Recipe_1","bfXhLW_Lur6ioMaKkGJozW"],["Recipe_2","bmQVLo_Lur6ikfaKlId8sQ"],["Recipe_3","d7kcPCUhur6yo-aKkGJozW"],["Recipe_4","agAjkaUhyr6yo9aKlId8sQ"],["Sidebar_1","buEy3O_Lur6ikfaKlId8sQ"],["Sidebar_2","bCOsqy_Lur6ikfaKlId8sQ"],["Sidebar_3","bOGvrc_Lur6ikXaKkGJozW"],["Sidebar_4","bW-wb0_Lur6ikfaKlId8sQ"],["Sidebar_5","b8nVxi_Lur6ikXaKkGJozW"],["Sidebar_9","cggK7W_Lur6ikfaKlId8sQ"]])}get enabled(){return this._config.partners.thirtyThreeAcross}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{siteId:this._map.get(e.placementMapName),productId:"siab"}}]}};as=M([We("ThirtyThreeAcrossBidder"),T(),O("design:paramtypes",[Ni])],as);let ls=class extends it{constructor(e){super(),this.key="rmos1",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.01).get()}};ls=M([We("OneVideoStreamExperiment"),I(),O("design:paramtypes",[et])],ls);let ds=class extends it{constructor(e,t){super(),this._result=!1,this.key="rmosnv1",this._choices=[{choice:!0},{choice:!1}],t.video.hasJwPlayer||(this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new nt(.01).get()}};ds=M([We("OneVideoStreamNoVideoExperiment"),I(),O("design:paramtypes",[et,Ni])],ds);let cs=class extends it{constructor(e,t){super(),this._config=t,this._result=0,this._choices=[{choice:0,weight:33},{choice:1,weight:33},{choice:1.5,weight:34}],this.key="socon";const i=this.run();if(e.set(this.key,i.toString()),void 0!==this._config.context.downlink){const e=this._config.context.downlink;this._result=e<=i?1:0}}get result(){return this._result}run(){return new rt(this._choices).get()}};cs=M([We("OutstreamSOCONExperiment"),I(),O("design:paramtypes",[et,Ni])],cs);let hs=class{constructor(e){this._config=e,this._sharedConfig={context:"outstream",mimes:["video/mp4"],api:[2],skip:0,pos:1,protocols:[2,3,5,6,7,8],linearity:1,minduration:0,maxduration:30,playbackmethod:[2]};const{desktop:t,tablet:i}=this._config.site.breakpoints;this._stickyOutstreamSize="phone"===X(i,t)?[178,100]:[227,150]}_callANRenderer(e,t){const i=this._getOutstreamRendererConfig(t);e.renderer.push((()=>{this._callANRenderAd(i,e.adUnitCode)}))}_callANRenderAd(e,t){window.ANOutstreamVideo.renderAd({targetId:t,adResponse:e,rendererOptions:{audioOnMouseover:!1,playerSkin:{topBarColor:"rgba(0,0,0,0.0)",topBarTextColor:"rgba(0,0,0,0.0)"},playVideoVisibleThreshold:1,disableCollapse:{enabled:!1,replay:!1}}})}_renderer(e){let t=e.ad||e.vastXml;t?this._callANRenderer(e,t):e.vastUrl&&(t=de(e.vastUrl),t.then((t=>(this._callANRenderer(e,t),!0))).catch((e=>(D.error("StickyOutstream","fetch",{message:e}),!1))))}callANRendererWithUrl(e,t){de(e).then((e=>{const i=this._getOutstreamRendererConfig(e);this._callANRenderAd(i,t)})).catch((e=>(D.error("StickyOutstream","callANRendererWithUrl","fetch",{message:e}),!1)))}get standardOutstreamConfig(){return{playerSize:[640,480],...this._sharedConfig}}get stickyOutstreamConfig(){return{...this._sharedConfig,playerSize:this._stickyOutstreamSize,renderer:{url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",render:e=>{this._renderer(e)}}}}_getOutstreamRendererConfig(e){return{ad:{video:{content:e,player_width:this._stickyOutstreamSize[0],player_height:this._stickyOutstreamSize[1]}}}}};hs=M([T(),O("design:paramtypes",[Ni])],hs);let ps=class{constructor(e,t,i,s,n){this._config=e,this._gam=t,this._outstream=i,this._oneVideoStreamExperiment=s,this._soconExperiment=n,this._standardOutstreamSlots=["Content_1","Below_Post_1"],this.oneStreamExpResult=!1}runOneStreamExperiment(){const e=x.resolve(ds);this._gam.setTargeting({key:"abgroup",value:this._config.abGroup.groups.join(",")}),this.oneStreamExpResult=e.result,this.oneStreamExpResult&&["Content_3","Content_5","Recipe_1"].forEach((e=>{this._standardOutstreamSlots.push(e)}))}isOutstreamAllowed(){return!this._oneVideoStreamExperiment.result||!this._config.video.hasJwPlayer}outstreamEnabled(e){const t=e.viewability,i=e.refreshCount,s="Video_StickyOutstream"===e.location,n=i>=1||t>=.5||s,r=!s&&this._soconExperiment.result,o=(this._config.adTypes.outstreamEnabled||s)&&this.outstreamSlots.has(e.placementMapName)&&this.isOutstreamAllowed()&&!r;return{outstreamCapable:o,currentlyActive:o&&n}}getMediaType(e){const t={},{slot:i,video:s}=e;if(s&&this._config.video.instreamAdUnits.has(s.name)){const e=this.getInstreamConfig(s);t.video=e}if(i){const e=ke(i,this._config.marmalade.hvThreshold),s={sizes:i.sizes,...e&&{pos:1}};"Video_StickyOutstream"!==i.location&&(t.banner=s),this.outstreamEnabled(i).currentlyActive&&(t.video="Video_StickyOutstream"!==i.location?this._outstream.standardOutstreamConfig:this._outstream.stickyOutstreamConfig)}return t}get outstreamSlots(){return new Set(this.getOutstreamEnabledUnits())}getOutstreamEnabledUnits(){return this._config.video.hasStickyOutstream?["Video_StickyOutstream_1"]:this._standardOutstreamSlots}getInstreamConfig(e){var t;return{context:"instream",playerSize:e.size,mimes:this._config.video.mimeType,protocols:this._config.video.videoProtocols.protocols,maxduration:30,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)},linearity:1,api:this._config.video.apiValue,w:e.size[0],h:e.size[1],pos:this._config.video.position.id,minduration:1,startdelay:0,placement:1,skip:0}}};ps=M([I(),O("design:paramtypes",[Ni,Wi,hs,ls,cs])],ps);let us=class extends os{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("appnexus"),this._keywords={keywords:{...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket],Chrome:`${N()}`,Mobile:""+navigator.userAgent&&navigator.userAgent.search(/Mobi/i)>-1,...this._config.site.verticals.length&&{verticals:this._config.site.verticals}}},this.outstreamType=Ee()?"outstreamMobile":"outstreamDesktop",this._map=new Map([["Below_Post_1",[{placementId:13036386}]],["Content_1",[{placementId:13036388},{placementId:16808429,adType:this.outstreamType,playback_method:["auto_play_sound_off"]}]],["Content_2",[{placementId:13036389}]],["Content_3",[{placementId:13036391}]],["Content_4",[{placementId:13036393}]],["Content_5",[{placementId:13036394}]],["Content_6",[{placementId:13036396}]],["Content_7",[{placementId:13036398}]],["Content_8",[{placementId:13036399}]],["Content_9",[{placementId:13036400}]],["Footer_1",[{placementId:13036401}]],["Header_1",[{placementId:13036404}]],["Header_2",[{placementId:13036405}]],["Interstitial_1",[{placementId:21240886}]],["Recipe_1",[{placementId:13036406}]],["Recipe_2",[{placementId:13036407}]],["Recipe_3",[{placementId:15014787}]],["Recipe_4",[{placementId:15998791}]],["Sidebar_1",[{placementId:13036408}]],["Sidebar_2",[{placementId:13036409}]],["Sidebar_3",[{placementId:13036410}]],["Sidebar_4",[{placementId:13036411}]],["Sidebar_5",[{placementId:13036412}]],["Sidebar_9",[{placementId:13036416}]],["Video_StickyOutstream_1",[{placementId:22366045}]],[Ct.Video_Collapse_Autoplay_SoundOff,[{placementId:15504193,playback_method:["auto_play_sound_off"]}]],[Ct.Video_Coll_SOff_Smartphone,[{placementId:15504209,playback_method:["auto_play_sound_off"]}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:15504166,playback_method:["click_to_play"]}]],[Ct.Video_Individual_Autoplay_SOff,[{placementId:17947919,playback_method:["auto_play_sound_off"]}]]]),this._playbackmethodMap=new Map([[3,"click_to_play"],[6,"auto_play_sound_off"]])}get enabled(){return this._config.partners.appNexus}get videoEnabled(){return this._config.partners.video.appNexus}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:e})=>!e||this._config.adTypes.has(e))).map((({adType:t,placementId:i,playback_method:s})=>{const n=ke(e,this._config.marmalade.hvThreshold),r=t===this.outstreamType?{video:{playback_method:s}}:"",o=t===this.outstreamType&&!this._mediaType.outstreamEnabled(e).currentlyActive;return{bidder:this.name,...o?{labelAny:["refresh"]}:{},params:{...this._keywords,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,placementId:i,...r,...n&&{position:"above"}}}}))}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name))return[{bidder:this.name,params:{...this._keywords,placementId:this._map.get(e.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playback_method:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},frameworks:this._config.video.apiValue}}}]}updateBidParams(e,t,i){return 1===e.refreshCount&&(i.params.position="above"),i}};us=M([We("AppNexusBidder"),T(),O("design:paramtypes",[Ni,ps])],us);let gs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("brightroll"),this._params={publisher:"adthrive"},this._map=new Set(["Below_Post_1","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"])}get enabled(){return this._config.partners.brightroll}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}};gs=M([We("BrightRollBidder"),T(),O("design:paramtypes",[Ni])],gs);let _s=class extends os{constructor(e){super(),this._config=e,this.adapterName="colossusssp",this.bidderConfig=this._config.partners.getBidderConfig("colossus"),this._desktopBannerMap=new Map([["Below_Post_1",{id:"318",size:[300,250]}],["Content",{id:"319",size:[300,250]}],["Content_1",{id:"320",size:[300,250]}],["Content_2",{id:"321",size:[300,250]}],["Content_3",{id:"322",size:[300,250]}],["Content_4",{id:"323",size:[300,250]}],["Content_5",{id:"324",size:[300,250]}],["Content_6",{id:"325",size:[300,250]}],["Content_7",{id:"326",size:[300,250]}],["Content_8",{id:"327",size:[300,250]}],["Content_9",{id:"328",size:[300,250]}],["Footer_1",{id:"329",size:[728,90]}],["Header_1",{id:"330",size:[728,90]}],["Header_2",{id:"331",size:[728,90]}],["Recipe_1",{id:"332",size:[300,250]}],["Recipe_2",{id:"333",size:[300,250]}],["Recipe_3",{id:"334",size:[300,250]}],["Recipe_4",{id:"335",size:[300,250]}],["Recipe_5",{id:"336",size:[300,250]}],["Sidebar_1",{id:"337",size:[300,250]}],["Sidebar_2",{id:"338",size:[300,250]}],["Sidebar_3",{id:"339",size:[300,250]}],["Sidebar_4",{id:"340",size:[300,250]}],["Sidebar_5",{id:"341",size:[300,250]}],["Sidebar_9",{id:"342",size:[300,250]}]]),this._mobileBannerMap=new Map([["Below_Post_1",{id:"343",size:[300,250]}],["Content",{id:"344",size:[300,250]}],["Content_1",{id:"345",size:[300,250]}],["Content_2",{id:"346",size:[300,250]}],["Content_3",{id:"347",size:[300,250]}],["Content_4",{id:"348",size:[300,250]}],["Content_5",{id:"349",size:[300,250]}],["Content_6",{id:"350",size:[300,250]}],["Content_7",{id:"351",size:[300,250]}],["Content_8",{id:"352",size:[300,250]}],["Content_9",{id:"353",size:[300,250]}],["Footer_1",{id:"354",size:[320,50]}],["Header_1",{id:"355",size:[320,50]}],["Header_2",{id:"356",size:[320,50]}],["Recipe_1",{id:"357",size:[300,250]}],["Recipe_2",{id:"358",size:[300,250]}],["Recipe_3",{id:"359",size:[300,250]}],["Recipe_4",{id:"360",size:[300,250]}],["Recipe_5",{id:"361",size:[300,250]}],["Sidebar_1",{id:"362",size:[300,250]}],["Sidebar_2",{id:"363",size:[300,250]}],["Sidebar_3",{id:"364",size:[300,250]}],["Sidebar_4",{id:"365",size:[300,250]}],["Sidebar_5",{id:"366",size:[300,250]}],["Sidebar_9",{id:"367",size:[300,250]}]]),this._bannerMap={desktop:this._desktopBannerMap,mobile:this._mobileBannerMap},this._videoMap=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,"368"],[Ct.Video_Coll_SOff_Smartphone,"369"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"370"],[Ct.Video_Individual_Autoplay_SOff,"371"]]);const t=this._bannerMap;this._map=Ee()?t.mobile:t.desktop}get enabled(){return this._config.partners.colossus}get videoEnabled(){return this._config.partners.video.colossus}getSlotBidRequests(e){const t=this._map.get(e.placementMapName);if(t&&e.hasSize(t.size))return[{bidder:this.name,params:{group_id:t.id,traffic:"banner"}}]}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{group_id:this._videoMap.get(e.name),traffic:"video"}}]}};_s=M([We("ColossusBidder"),T(),O("design:paramtypes",[Ni])],_s);let ms=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("concert"),this._hvThreshold=0,this._map=new Map([["Content_1",[300,250]]]),this._desktopSizes=[[620,366]],this._mobileSizes=[[325,508],[325,204]],"desktop"===this._config.context.device&&(this._map.set("Content_2",[300,250]),this._map.set("Content_3",[300,250]))}get enabled(){return this._config.partners.concert}getPartnerIdFromDomain(){try{const e=le(window.location.hostname);return e.split(".")[0].toLowerCase().replace("-","")}catch(e){return D.error("ConcertBidder","getPartnerIdFromDomain",e),""}}getSlotBidRequests(e){if(this._map.has(e.placementMapName)&&e.hasSize(this._map.get(e.placementMapName))){const t=this.getPartnerIdFromDomain();if(t.length>0)return[{bidder:this.name,...e.viewability<this._hvThreshold?{labelAny:["refresh"]}:{},params:{bidder:this.name,slot:e.id,partnerId:t,sizes:Ee()?this._mobileSizes:this._desktopSizes}}]}}};ms=M([We("ConcertBidder"),I(),O("design:paramtypes",[Ni])],ms);let fs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("conversant"),this._siteId="203587",this._map=new Map([["Below_Post_1",{tag_id:"8c6e3091"}],["Content",{tag_id:"f4f67b17"}],["Content_1",{tag_id:"9cbc79fd"}],["Content_2",{tag_id:"8fdfa3de"}],["Content_3",{tag_id:"ff6c383c"}],["Content_4",{tag_id:"972f654c"}],["Content_5",{tag_id:"bd1aadb5"}],["Content_6",{tag_id:"ce4f5d6e"}],["Content_7",{tag_id:"d85e90b"}],["Content_8",{tag_id:"f02f4ba"}],["Content_9",{tag_id:"2c01cbc"}],["Footer_1",{tag_id:"1b2dec1"}],["Header_1",{tag_id:"44d21b5"}],["Header_2",{tag_id:"3488dd9"}],["Recipe_1",{tag_id:"f6cf917"}],["Recipe_2",{tag_id:"31d9c43"}],["Recipe_3",{tag_id:"a7b4d19"}],["Recipe_4",{tag_id:"245c673"}],["Recipe_5",{tag_id:"0bf3576"}],["Sidebar_1",{tag_id:"bf73d45"}],["Sidebar_2",{tag_id:"0a57500"}],["Sidebar_3",{tag_id:"cceddcd"}],["Sidebar_4",{tag_id:"872fffd4"}],["Sidebar_5",{tag_id:"a7653e4"}],["Sidebar_9",{tag_id:"517df454"}],[Ct.Video_Coll_SOff_Smartphone,{tag_id:"0d0dfda"}],[Ct.Video_Collapse_Autoplay_SoundOff,{tag_id:"50331e1d"}],[Ct.Video_Individual_Autoplay_SOff,{tag_id:"de9d5670"}],[Ct.Video_In_Post_ClicktoPlay_SoundOn,{tag_id:"ab89e3c1"}]])}get enabled(){return this._config.partners.conversant}get videoEnabled(){return this._config.partners.video.conversant}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{tag_id:this._map.get(e.placementMapName).tag_id,site_id:this._siteId}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{tag_id:this._map.get(e.name).tag_id,site_id:this._siteId,mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},position:this._config.video.position.id}}]}};fs=M([We("ConversantBidder"),T(),O("design:paramtypes",[Ni])],fs);let ys=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("criteo"),this._params={networkId:3927},this._map=new Set(["Below_Post_1","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"]),this._videoMap=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,"1629631"],[Ct.Video_Coll_SOff_Smartphone,"1629630"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"1629629"],[Ct.Video_Individual_Autoplay_SOff,"1629401"]])}get enabled(){return this._config.partners.criteo}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params}}]}get videoEnabled(){return this._config.partners.video.criteo}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name))return[{bidder:this.name,params:{zoneId:this._videoMap.get(e.name),video:{playbackmethod:(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))||[]}}}]}};ys=M([We("CriteoBidder"),T(),O("design:paramtypes",[Ni])],ys);let vs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("deepintent"),this._map=new Map([["Below_Post_1","441"],["Content","442"],["Content_1","443"],["Content_2","444"],["Content_3","445"],["Content_4","446"],["Content_5","447"],["Content_6","448"],["Content_7","449"],["Content_8","450"],["Content_9","451"],["Footer_1","452"],["Header_1","453"],["Header_2","454"],["Recipe_1","455"],["Recipe_2","456"],["Recipe_3","457"],["Recipe_4","458"],["Recipe_5","459"],["Sidebar_1","460"],["Sidebar_2","461"],["Sidebar_3","462"],["Sidebar_4","463"],["Sidebar_5","464"],["Sidebar_9","465"]])}get enabled(){return this._config.partners.deepIntent&&-1!==this._config.site.sensitiveCategories.indexOf("drg")}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{tagId:this._map.get(e.placementMapName)}}]}};vs=M([We("DeepIntentBidder"),T(),O("design:paramtypes",[Ni])],vs);let bs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("districtmDMX"),this._params={memberid:100319},this._map=new Map([["Below_Post_1","210062"],["Content_1","210064"],["Content_2","210065"],["Content_3","210066"],["Content_4","210067"],["Content_5","210068"],["Content_6","210069"],["Content_7","210070"],["Content_8","210071"],["Content_9","210072"],["Footer_1","210073"],["Header_1","210076"],["Header_2","210077"],["Recipe_1","210078"],["Recipe_2","210079"],["Recipe_3","277966"],["Recipe_4","277983"],["Sidebar_1","210080"],["Sidebar_2","210081"],["Sidebar_3","210082"],["Sidebar_4","210083"],["Sidebar_5","210084"],["Sidebar_9","210088"]])}get enabled(){return this._config.partners.districtMDMX}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{...this._params,dmxid:this._map.get(e.placementMapName)}}]}};bs=M([We("DistrictMDMXBidder"),T(),O("design:paramtypes",[Ni])],bs);let Cs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("dmdmx"),this.adapterName="districtmDMX",this._params={memberid:100319},this._map=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,"277970"],[Ct.Video_Coll_SOff_Smartphone,"277968"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"277969"],[Ct.Video_Individual_Autoplay_SOff,"277972"]])}get enabled(){return this._config.partners.districtMDMX}get videoEnabled(){return this._config.partners.video.districtMDMXVideo}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{dmxid:this._map.get(e.name),...this._params}}]}};Cs=M([We("DistrictMDMXVideoBidder"),T(),O("design:paramtypes",[Ni])],Cs);let Ss=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("districtm"),this._map=new Map([["Below_Post_1",[{placementId:13239209}]],["Content_1",[{placementId:13239211}]],["Content_2",[{placementId:13239212}]],["Content_3",[{placementId:13239213}]],["Content_4",[{placementId:13239216}]],["Content_5",[{placementId:13239217}]],["Content_6",[{placementId:13239218}]],["Content_7",[{placementId:13239219}]],["Content_8",[{placementId:13239220}]],["Content_9",[{placementId:13239221}]],["Footer_1",[{placementId:13239223}]],["Header_1",[{placementId:13239227}]],["Header_2",[{placementId:13239229}]],["Recipe_1",[{placementId:13239230}]],["Recipe_2",[{placementId:13239231}]],["Recipe_3",[{placementId:14591635}]],["Recipe_4",[{placementId:14591652}]],["Sidebar_1",[{placementId:13239232}]],["Sidebar_2",[{placementId:13239233}]],["Sidebar_3",[{placementId:13239234}]],["Sidebar_4",[{placementId:13239236}]],["Sidebar_5",[{placementId:13239238}]],["Sidebar_9",[{placementId:13239242}]],[Ct.Video_Collapse_Autoplay_SoundOff,[{placementId:14591639,playback_method:["auto_play_sound_off"]}]],[Ct.Video_Coll_SOff_Smartphone,[{placementId:14591637,playback_method:["auto_play_sound_off"]}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{placementId:14591638,playback_method:["click_to_play"]}]],[Ct.Video_Individual_Autoplay_SOff,[{placementId:14591641,playback_method:["auto_play_sound_off"]}]]])}get enabled(){return this._config.partners.districtM}get videoEnabled(){return this._config.partners.video.districtM}updateBidParams(e,t,i){return 1===e.refreshCount&&(i.params.position="above"),i}getSlotBidRequests(e){if(this._map.has(e.placementMapName)){const t=ke(e,this._config.marmalade.hvThreshold);return this._map.get(e.placementMapName).map((({placementId:e})=>({bidder:this.name,params:{placementId:e,allowSmallerSizes:this._config.adOptions.allowSmallerAdSizes,...t&&{position:"above"}}})))}}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{placementId:this._map.get(e.name)[0].placementId,position:this._config.video.position.name,video:{mimes:this._config.video.mimeType,playback_method:this._map.get(e.name)[0].playback_method,frameworks:this._config.video.apiValue}}}]}};Ss=M([We("DistrictMBidder"),T(),O("design:paramtypes",[Ni])],Ss);let ws=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("gumgum"),this._zoneIds={client:"g95nznmj",s2s:{desktop:"0yo5ozig",tablet:"0yo5ozig",phone:"nedjcoh9"}},this._map=new Map([["Interstitial_1",[{slotId:110743}]],["Footer_1",[]],[Ct.Video_Collapse_Autoplay_SoundOff,"glpmwixo"],[Ct.Video_Coll_SOff_Smartphone,"5zl85htf"],[Ct.Video_Individual_Autoplay_SOff,"8jzhuyj5"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"dtwgesum"]]),this._animatedFooterEnabled=this._config.adTypes.animatedFooter,this._interstitialEnabled=this._config.adOptions.interstitial.prebid,this._contextualAuctionParams=-1===this._config.prebid.s2s.bidders.indexOf(this.name)?{inScreen:this._zoneIds.client}:{zone:this._zoneIds.s2s[this._config.context.device]}}get enabled(){return this._config.partners.gumgum&&(this._animatedFooterEnabled||this._interstitialEnabled)}get videoEnabled(){return this._config.partners.video.gumgum}getSlotBidRequests(e){const t=this._map.get(e.placementMapName),i="Footer"===e.location&&this._animatedFooterEnabled,s="Interstitial"===e.location;if(t&&(i||s))return[{bidder:this.name,params:{...this._contextualAuctionParams,...s&&{slot:t[0].slotId}}}]}getVideoSlotBidRequests(e){if(this._map.has(e.name))return[{bidder:this.name,params:{video:this._map.get(e.name)}}]}};ws=M([We("GumGumBidder"),T(),O("design:paramtypes",[Ni])],ws);const ks=new Map([["Below_Post_1",{siteId:"185759",hvSiteId:"404596"}],["Content_1",{siteId:"185761",hvSiteId:"404597"}],["Content_2",{siteId:"185762",hvSiteId:"404598"}],["Content_3",{siteId:"185763",hvSiteId:"404599"}],["Content_4",{siteId:"185764",hvSiteId:"404600"}],["Content_5",{siteId:"185765",hvSiteId:"404601"}],["Content_6",{siteId:"185766",hvSiteId:"404602"}],["Content_7",{siteId:"185767",hvSiteId:"404603"}],["Content_8",{siteId:"185768",hvSiteId:"404604"}],["Content_9",{siteId:"185769",hvSiteId:"404605"}],["Footer_1",{siteId:"185770"}],["Header_1",{siteId:"185774",hvSiteId:"404607"}],["Interstitial_1",{siteId:"631834"}],["Recipe_1",{siteId:"185776"}],["Recipe_2",{siteId:"185777",hvSiteId:"404609"}],["Recipe_3",{siteId:"304909"}],["Recipe_4",{siteId:"371523",hvSiteId:"404611"}],["Sidebar_1",{siteId:"185787"}],["Sidebar_2",{siteId:"185788"}],["Sidebar_3",{siteId:"185789"}],["Sidebar_4",{siteId:"185790"}],["Sidebar_5",{siteId:"185791"}],["Sidebar_9",{siteId:"185795"}],["Video_StickyOutstream_1",{siteId:"745167"}]]),Es=new Map([["Below_Post_1",[{size:[728,90],id:"1_1"},{size:[300,250],id:"1_2"}]],["Content_1",[{size:[728,90],id:"3_1"},{size:[300,250],id:"3_2"},{size:[320,50],id:"3_4"},{size:[320,100],id:"3_5"},{size:[300,50],id:"3_6"}]],["Content_2",[{size:[728,90],id:"4_1"},{size:[300,250],id:"4_2"},{size:[320,50],id:"4_4"},{size:[320,100],id:"4_5"},{size:[300,50],id:"4_6"}]],["Content_3",[{size:[300,250],id:"5_1"},{size:[320,50],id:"5_2"},{size:[320,100],id:"5_3"},{size:[300,50],id:"5_4"}]],["Content_4",[{size:[300,250],id:"6_1"},{size:[320,50],id:"6_2"},{size:[320,100],id:"6_3"},{size:[300,50],id:"6_4"}]],["Content_5",[{size:[300,250],id:"7_1"},{size:[320,50],id:"7_2"},{size:[320,100],id:"7_3"},{size:[300,50],id:"7_4"}]],["Content_6",[{size:[300,250],id:"8_1"},{size:[320,50],id:"8_2"},{size:[320,100],id:"8_3"},{size:[300,50],id:"8_4"}]],["Content_7",[{size:[300,250],id:"9_1"},{size:[320,50],id:"9_2"},{size:[300,50],id:"9_3"}]],["Content_8",[{size:[300,250],id:"10_1"},{size:[320,50],id:"10_2"},{size:[300,50],id:"10_3"}]],["Content_9",[{size:[300,250],id:"11_1"},{size:[320,50],id:"11_2"},{size:[300,50],id:"11_3"}]],["Footer_1",[{size:[728,90],id:"12_1"},{size:[970,90],id:"12_2"},{size:[320,50],id:"12_3"},{size:[320,100],id:"12_4"},{size:[300,50],id:"12_5"}]],["Header_1",[{size:[728,90],id:"15_1"},{size:[970,90],id:"15_2"},{size:[970,250],id:"15_3"},{size:[320,50],id:"15_4"},{size:[320,100],id:"15_5"},{size:[300,50],id:"15_6"}]],["Interstitial_1",[{size:[300,600],id:"36_1"},{size:[336,280],id:"36_2"},{size:[320,480],id:"36_3"},{size:[300,250],id:"36_4"},{size:[320,50],id:"36_5"}]],["Recipe_1",[{size:[300,250],id:"17_1"},{size:[320,50],id:"17_3"},{size:[320,100],id:"17_4"},{size:[300,50],id:"17_5"}]],["Recipe_2",[{size:[300,250],id:"18_1"},{size:[320,50],id:"18_3"},{size:[320,100],id:"18_4"},{size:[300,50],id:"18_5"}]],["Recipe_3",[{size:[300,250],id:"42_1"},{size:[320,50],id:"42_3"},{size:[320,100],id:"42_4"},{size:[300,50],id:"42_5"}]],["Recipe_4",[{size:[300,250],id:"43_1"},{size:[320,50],id:"43_3"},{size:[320,100],id:"43_4"},{size:[300,50],id:"43_5"}]],["Sidebar_1",[{size:[300,250],id:"27_1"},{size:[300,600],id:"27_2"},{size:[300,1050],id:"27_3"},{size:[160,600],id:"27_4"},{size:[300,50],id:"27_5"}]],["Sidebar_2",[{size:[300,250],id:"28_1"},{size:[300,600],id:"28_2"},{size:[160,600],id:"28_3"},{size:[300,50],id:"28_4"}]],["Sidebar_3",[{size:[300,250],id:"29_1"},{size:[300,600],id:"29_2"},{size:[160,600],id:"29_3"},{size:[300,50],id:"29_4"}]],["Sidebar_4",[{size:[300,250],id:"30_1"},{size:[300,600],id:"30_2"},{size:[160,600],id:"30_3"},{size:[300,50],id:"30_4"}]],["Sidebar_5",[{size:[300,250],id:"31_1"},{size:[300,600],id:"31_2"},{size:[160,600],id:"31_3"},{size:[300,50],id:"31_4"}]],["Sidebar_9",[{size:[300,250],id:"35_1"},{size:[300,600],id:"35_2"},{size:[300,1050],id:"35_3"},{size:[160,600],id:"35_4"},{size:[300,50],id:"35_5"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"48_1",sizeOverride:[227,150]},{size:[320,50],id:"48_2",sizeOverride:[178,100]}]]]),xs=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"185255",id:"44_1"}]],[Ct.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"321341",id:"45_1"}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"385287",device:"desktop",id:"46_1"},{size:[400,225],siteId:"385288",device:"mobile",id:"46_2"}]],[Ct.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"385285",device:"desktop",id:"47_1"},{size:[400,225],siteId:"385286",device:"mobile",id:"47_2"}]]]);let Ps=class extends os{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this._bidderName="ix",this.bidderConfig=this._config.partners.getBidderConfig(this._bidderName)}get enabled(){return this._config.partners.indexExchange}get videoEnabled(){return this._config.partners.video.indexExchange}init(){const e=re(),t=this._config,i=t.site,s=[...i.verticals].filter(ee),n=i.filteredSensitiveCategories,r={PD:`${t.adOptions.pmp?"":"no"}${t.context.device}`,...s.length&&{Topic:s.join("#Topic:")},...n.length&&{Sens:n.join("#Sens:")},Source:ge(e),Browser:W(),vp:"0"};ue(r,this._prebidMethods)}getVideoBidRequests(e){return e.reduce(((t,i)=>{const s=this.getVideoSizeSites(e).filter((e=>e.video===i)).map((e=>{const{siteId:t,id:s,size:n}=e.sizeSite,r=this.getPrebidAdUnitBidRequest(t,s,n,!1);return r.params.video=this.getVideoParams(i.name),r}));return t.set(i.name,s)}),new Map)}getBidRequests(e){return e.reduce(((t,i)=>{const s=ks.get(i.placementMapName);if(!s)return t;return t.set(i.id,this.getSlotSizeIds(e).filter((e=>e.slot===i)).reduce(((e,{sizeId:{id:t,size:n}})=>{const r=()=>{const r=this.getPrebidAdUnitBidRequest(s.hvSiteId,t,n,"Video_StickyOutstream"===i.location);e.push(r)};return s.hvSiteId&&ke(i,this._config.marmalade.hvThreshold)&&r(),e.push(this.getPrebidAdUnitBidRequest(s.siteId,t,n,"Video_StickyOutstream"===i.location)),e}),[]))}),new Map)}getVideoParams(e,t){const i={...this._config.video,...t},s=i.playbackmethod&&i.playbackmethod.get(e),n=new Map([[3,[3]],[6,[2]]]),r=s&&{playbackmethod:n.get(s[0])};return{api:i.apiValue,mimes:i.mimeType,...r,minduration:0,maxduration:30,protocols:i.videoProtocols.protocols,pos:i.position.id}}getPrebidAdUnitBidRequest(e,t,i,s){return{bidder:this._bidderName,params:{id:t,siteId:e,...s?{video:{}}:{size:i}}}}getSlotSizeIds(e){return e.filter((e=>Es.has(e.placementMapName))).reduce(((e,t)=>[...e,...Es.get(t.placementMapName).filter((({size:e})=>t.hasSize(e))).map((e=>({slot:t,sizeId:e})))]),[])}getVideoSizeSites(e){const t=Ce()?"desktop":"mobile";return e.filter((e=>xs.has(e.name))).reduce(((e,i)=>[...e,...xs.get(i.name).filter((({device:e,size:s},n,r)=>(!e||e&&e===t)&&i.size[0]===s[0]&&i.size[1]===s[1])).map((e=>({video:i,sizeSite:e})))]),[])}};Ps=M([We("IndexExchangeBidder"),T(),O("design:paramtypes",[Ni,Hi])],Ps);const[Ts,Is,Ms,As,Os]=["desktop","content","sidebar","header","footer"],zs={desktop:{content:{placementId:"_mfu14jCkaN",size:[300,250]},header:{placementId:"_vzS4k9rMKu",size:[728,90]},sidebar:{placementId:"_zxmQwsW17E",size:[300,600]},footer:{placementId:"_lP4vuVhICu",size:[728,90]}}},Rs=new Map([["Below_Post_1",[zs[Ts][Is],zs[Ts][As]]],["Content_1",[zs[Ts][Is],zs[Ts][As]]],["Content_2",[zs[Ts][Is],zs[Ts][As]]],["Content_3",[zs[Ts][Is],zs[Ts][As]]],["Content_4",[zs[Ts][Is],zs[Ts][As]]],["Content_5",[zs[Ts][Is],zs[Ts][As]]],["Content_6",[zs[Ts][Is],zs[Ts][As]]],["Content_7",[zs[Ts][Is],zs[Ts][As]]],["Content_8",[zs[Ts][Is],zs[Ts][As]]],["Content_9",[zs[Ts][Is],zs[Ts][As]]],["Header_1",[zs[Ts][As],zs[Ts][Is]]],["Header_2",[zs[Ts][As],zs[Ts][Is]]],["Footer_1",[zs[Ts][Os]]],["Recipe_1",[zs[Ts][Is]]],["Recipe_2",[zs[Ts][Is]]],["Recipe_3",[zs[Ts][Is]]],["Recipe_4",[zs[Ts][Is]]],["Recipe_5",[zs[Ts][Is]]],["Sidebar_1",[zs[Ts][Ms],zs[Ts][Is]]],["Sidebar_2",[zs[Ts][Ms],zs[Ts][Is]]],["Sidebar_3",[zs[Ts][Ms],zs[Ts][Is]]],["Sidebar_4",[zs[Ts][Ms],zs[Ts][Is]]],["Sidebar_5",[zs[Ts][Ms],zs[Ts][Is]]],["Sidebar_9",[zs[Ts][Ms],zs[Ts][Is]]]]),Bs=new Map([["10000",{id:"_htv2gWQDl4",isOutstream:!1}],["11000",{id:"_rEapvpk6cZ",isOutstream:!0}],["11100",{id:"_hDLFEUkifu",isOutstream:!0}],["10100",{id:"_kEvPWSnblw",isOutstream:!1}],["00011",{id:"_hRaLC9FgYn",isOutstream:!1}],["00010",{id:"_iyznbek6ki",isOutstream:!1}],["00001",{id:"_g1dEyYpnCU",isOutstream:!1}]]),Ds=["Below_Post_1","Content_1","Content_2","Content_3","Content_4","Content_5","Content_5","Content_6","Content_7","Content_8","Content_9","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9"],Vs=["Below_Post_1","Content_1"],Ls={desktop:Rs,mobile:null},Fs=["Below_Post_1","Content_1","Content_3","Content_5","Recipe_1 "];let js=class extends os{constructor(e,t,i){super(),this.adthrive=e,this._config=t,this._mediaType=i,this.bidderConfig=this._config.partners.getBidderConfig("kargo");const s=Ee()?"mobile":"desktop";this._map=Ls[s]}get enabled(){return this._config.partners.kargo}createBitStringAdOptions(e){const t=e.hasSize([300,250]),i=e.hasSize([320,50]);return[+this.isBanner(e,t,i),+this.isOutstream(e,t),+this.isInterscroller(e),+this.isAnimatedFooter(e,i),+this.isExpandableFooter(e,i)].join("")}isBanner(e,t,i){return t&&i&&-1!==Ds.indexOf(e.placementMapName)}isOutstream(e,t){return t&&-1!==Fs.indexOf(e.placementMapName)&&this._mediaType.outstreamEnabled(e).outstreamCapable}isInterscroller(e){return this._config.adTypes.has("interscroller")&&-1!==Vs.indexOf(e.placementMapName)}isAnimatedFooter(e,t){return t&&this._config.adTypes.has("animatedFooter")&&"Footer_1"===e.placementMapName}isExpandableFooter(e,t){return t&&this._config.adTypes.has("expandableFooter")&&"Footer_1"===e.placementMapName}getSlotBidRequests(e){if(this._map){if(this._map&&this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:t,mobileCollapsePlayer:i,size:s})=>(!t||this._config.adTypes.has(t))&&(!i||!this._config.video.mobileStickyPlayerOnPage)&&e.hasSize(s))).map((({placementId:e})=>({bidder:this.name,params:{placementId:e}})))}else{const t=this.createBitStringAdOptions(e);if(Bs.has(t)){const i=Bs.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id}}]}}}getLabels(e,t){const i=[];return e&&i.push(`outstreamEnabled_${t}`),i.length?{labelAny:i}:{}}};js=M([We("KargoBidder"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,Ni,ps])],js);let Ns=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("grid"),this.settings={bidCpmAdjustment:(e,t)=>this._getCPMAdjustment(e,t),adserverTargeting:[{key:"hb_format",val:e=>e&&e.meta&&"trustx"===e.meta.demandSource?`trustx_${e.mediaType}`:e.mediaType}]},this._getCPMAdjustment=(e,t)=>{const i=t.dealId,s=("vastUrl"in t||"vastXml"in t)&&i&&i.toString().indexOf("G-TRUSTX")>-1;return L(this._config,e,"grid",{...t,...s&&{dealId:void 0}})},this._map=new Map([["Below_Post_1",357],["Content_1",358],["Content_2",359],["Content_3",360],["Content_4",361],["Content_5",362],["Content_6",363],["Content_7",364],["Content_8",365],["Content_9",366],["Footer_1",367],["Header_1",368],["Header_2",369],["Interstitial_1",48428],["Recipe_1",370],["Recipe_2",371],["Recipe_3",372],["Recipe_4",373],["Sidebar_1",375],["Sidebar_2",376],["Sidebar_3",377],["Sidebar_4",378],["Sidebar_5",379],["Sidebar_9",380],["Video_StickyOutstream_1",133519]])}get enabled(){return this._config.partners.mediaGrid}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{uid:this._map.get(e.placementMapName)}}]}};Ns=M([We("MediaGridBidder"),T(),O("design:paramtypes",[Ni])],Ns);let qs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("gridvid"),this.adapterName="grid",this._map=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,[{uid:2163}]],[Ct.Video_Coll_SOff_Smartphone,[{uid:2165}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{device:"desktop",uid:2164},{device:"mobile",uid:6056}]],[Ct.Video_Individual_Autoplay_SOff,[{device:"desktop",uid:2166},{device:"mobile",uid:6057}]]])}get enabled(){return this._config.partners.mediaGridVideo}get videoEnabled(){return this._config.partners.video.mediaGridVideo}getVideoSlotBidRequests(e){const t=Ce()?"desktop":"mobile";if(this._map.has(e.name))return this._map.get(e.name).filter((({device:e})=>!e||e===t)).map((({uid:e})=>({bidder:this.name,params:{uid:e}})))}};qs=M([We("MediaGridVideoBidder"),T(),O("design:paramtypes",[Ni])],qs);let Us=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("nativo"),this.adapterName="nativo",this._map=new Set(["Content_1","Content_2","Recipe_1","Recipe_2","Sidebar_1","Sidebar_2"])}get enabled(){return this._config.partners.nativo}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return[{bidder:this.name,params:{}}]}};Us=M([We("NativoBidder"),T(),O("design:paramtypes",[Ni])],Us);let Hs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("openx"),this._params={delDomain:"cafemedia-d.openx.net"},this._highImpactParamsMap=new Map([["Content_1",["interscroller","miniscroller"]]]),this._map=new Map([["Below_Post_1","538699862"],["Content_1","538699864"],["Content_2","538699865"],["Content_3","538699866"],["Content_4","538699867"],["Content_5","538699868"],["Content_6","538699869"],["Content_7","538699870"],["Content_8","538699871"],["Content_9","538699872"],["Footer_1","538699840"],["Header_1","538699873"],["Header_2","538699874"],["Interstitial_1","543876568"],["Recipe_1","538699843"],["Recipe_2","538699844"],["Recipe_3","540594416"],["Recipe_4","540751624"],["Sidebar_1","538699853"],["Sidebar_2","538699854"],["Sidebar_3","538699855"],["Sidebar_4","538699856"],["Sidebar_5","538699857"],["Sidebar_9","538699861"],["Video_StickyOutstream_1","545721971"],[Ct.Video_Collapse_Autoplay_SoundOff,"540679731"],[Ct.Video_Coll_SOff_Smartphone,"540679733"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"540679727"],[Ct.Video_Individual_Autoplay_SOff,"540925853"]]),this._custParams={...this._config.site.filteredSensitiveCategories.length&&{sens:this._config.site.filteredSensitiveCategories},bucket:[this._config.context.bucket]}}get enabled(){return this._config.partners.openx}get videoEnabled(){return this._config.partners.video.openx}getSlotBidRequests(e){if(this._map.has(e.placementMapName)){const t=this._highImpactParamsMap.get(e.placementMapName)||[];return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.placementMapName),customParams:{...this._custParams,hi_au:t.filter((e=>this._config.adTypes[e]))}}}]}}getVideoSlotBidRequests(e){var t;if(this._map.has(e.name)){const i="all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"";return[{bidder:this.name,params:{...this._params,unit:this._map.get(e.name),video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,...i,pos:this._config.video.position.id,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)}}}}]}}};Hs=M([We("OpenXBidder"),T(),O("design:paramtypes",[Ni])],Hs);let $s=class{constructor(){this.segmentName="www.iris.tv",this.segtax=501,this._irisEndpoint="https://context.iris.tv/video_info",this._token="5d8f38ad6d7de4253cfa501b84c30b1014868d9884be5d68dc64bd50a6edb54c",this._clientToken="EXJQESR8SMWMZCJ"}fetchIrisResponse(e){return te(`${this._irisEndpoint}?access_token=${this._token}&client_token=${this._clientToken}&platform_id=${e}`)}async setContextualData(e){return this.fetchIrisResponse(e).then((e=>{if(e&&"boolean"!=typeof e){const t=e.video_info,i=t&&t.context;i&&i.length&&(this._contextualData=i,this._irisId=t.iris_id)}return!0})).catch((()=>!1))}get irisContextualData(){return this._contextualData}get irisId(){return this._irisId}};$s=M([I()],$s);let Ws=class extends os{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig("pubmatic"),this.adapterName="pubmatic",this.serverBidderName="pubm_ss",this.pubId="157347",this._map=new Map([["Below_Post_1",{client:"BelowPost1",server:"BelowPost1_XandrS2S"}],["Content_1",{client:"Content1",server:"Content1_XandrS2S"}],["Content_2",{client:"Content2",server:"Content2_XandrS2S"}],["Content_3",{client:"Content3",server:"Content3_XandrS2S"}],["Content_4",{client:"Content4",server:"Content4_XandrS2S"}],["Content_5",{client:"Content5",server:"Content5_XandrS2S"}],["Content_6",{client:"Content6",server:"Content6_XandrS2S"}],["Content_7",{client:"Content7",server:"Content7_XandrS2S"}],["Content_8",{client:"Content8",server:"Content8_XandrS2S"}],["Content_9",{client:"Content9",server:"Content9_XandrS2S"}],["Footer_1",{client:"Footer1",server:"Footer1_XandrS2S"}],["Header_1",{client:"Header1",server:"Header1_XandrS2S"}],["Header_2",{client:"Header2",server:"Header2_XandrS2S"}],["Interstitial_1",{client:"interstitial",server:"interstitial_XandrS2S"}],["Recipe_1",{client:"Recipe1",server:"Recipe1_XandrS2S"}],["Recipe_2",{client:"Recipe2",server:"Recipe2_XandrS2S"}],["Recipe_3",{client:"Recipe3",server:"Recipe3_XandrS2S"}],["Recipe_4",{client:"Recipe4",server:"Recipe4_XandrS2S"}],["Sidebar_1",{client:"Sidebar1",server:"Sidebar1_XandrS2S"}],["Sidebar_2",{client:"Sidebar2",server:"Sidebar2_XandrS2S"}],["Sidebar_3",{client:"Sidebar3",server:"Sidebar3_XandrS2S"}],["Sidebar_4",{client:"Sidebar4",server:"Sidebar4_XandrS2S"}],["Sidebar_5",{client:"Sidebar5",server:"Sidebar5_XandrS2S"}],["Sidebar_9",{client:"Sidebar9",server:"Sidebar9_XandrS2S"}],["Video_StickyOutstream_1",{client:"2267845",server:"4018943"}],[Ct.Video_Collapse_Autoplay_SoundOff,{client:"1961309",server:"3437231"}],[Ct.Video_Coll_SOff_Smartphone,{client:"1961310",server:"3437234"}],[Ct.Video_In_Post_ClicktoPlay_SoundOn,{client:"1961308",server:"3437232"}],[Ct.Video_Individual_Autoplay_SOff,{client:"2503033",server:"3443766"}]])}get enabled(){return this._config.partners.pubMatic}get videoEnabled(){return this._config.partners.video.pubMatic}getSlotBidRequests(e){const t=[];return this._map.has(e.placementMapName)&&(t.push(this.getBidParams(this.name,this._map.get(e.placementMapName).client,e)),t.push(this.getBidParams(this.serverBidderName,this._map.get(e.placementMapName).server,e))),t}getBidParams(e,t,i){return{bidder:e,params:{publisherId:this.pubId,adSlot:`${t}@${i.sizes[0][0]}x${i.sizes[0][1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}getVideoSlotBidRequests(e){const t=[];return this._map.has(e.name)&&(t.push(this.getVideoBidParams(this.name,this._map.get(e.name).client,e)),t.push(this.getVideoBidParams(this.serverBidderName,this._map.get(e.name).server,e))),t}getDCTRParam(e){const t=[],i=this._irisTv.irisContextualData;return i&&i.length&&t.push(`iris_context=${i.toString()}`),t.join("|")}getVideoBidParams(e,t,i){var s;const n=this.getDCTRParam(e);return{bidder:e,params:{publisherId:this.pubId,...n&&{dctr:n},video:{mimes:this._config.video.mimeType,api:this._config.video.apiValue,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},...(null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(i.name))&&{playbackmethod:this._config.video.playbackmethod.get(i.name)}},adSlot:`${t}@${i.size[0]}x${i.size[1]}`,...this._config.site.filteredSensitiveCategories.length&&{pmzoneid:this._config.site.filteredSensitiveCategories.join(",")}}}}};Ws=M([We("PubMaticBidder"),T(),O("design:paramtypes",[Ni,$s])],Ws);let Gs=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("roundel"),this.adapterName="ix",this._params={siteId:"377190"},this._map=new Map([["Below_Post_1",[{size:[728,90]},{size:[300,250]}]],["Content_1",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_2",[{size:[728,90]},{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_5",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_6",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_7",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_8",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Content_9",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Header_1",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Header_2",[{size:[728,90]},{size:[970,250]},{size:[320,50]},{size:[300,50]}]],["Footer_1",[{size:[728,90]},{size:[970,90]},{size:[320,50]},{size:[320,100]},{size:[300,50]}]],["Recipe_1",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_2",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_3",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Recipe_4",[{size:[300,250]},{size:[320,50]},{size:[300,50]}]],["Sidebar_1",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_2",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_3",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_4",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_5",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]],["Sidebar_9",[{size:[300,250]},{size:[300,600]},{size:[160,600]}]]]),this._videoMap=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],siteId:"485376",device:"desktop"}]],[Ct.Video_Coll_SOff_Smartphone,[{size:[400,225],siteId:"485377",device:"mobile"}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],siteId:"485380",device:"desktop"},{size:[400,225],siteId:"485381",device:"mobile"}]],[Ct.Video_Individual_Autoplay_SOff,[{size:[640,360],siteId:"485378",device:"desktop"},{size:[400,225],siteId:"485379",device:"mobile"}]]]),this._playbackmethodMap=new Map([[3,[3]],[6,[2]]])}get enabled(){return this._config.partners.roundel}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({size:t})=>({bidder:this.name,...e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,size:t}})))}getVideoSlotBidRequests(e){var t;if(this._videoMap.has(e.name)){const i=Ce()?"desktop":"mobile",s=this._videoMap.get(e.name).filter((e=>e.device===i)).map((({device:e,...t})=>t))[0];return[{bidder:this.name,params:{...s,video:{mimes:this._config.video.mimeType,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._playbackmethodMap.get(this._config.video.playbackmethod.get(e.name)[0])},api:this._config.video.apiValue,minduration:0,maxduration:30,protocols:this._config.video.videoProtocols.protocols}}}]}}};Gs=M([We("RoundelBidder"),T(),O("design:paramtypes",[Ni])],Gs);let Qs=class extends os{constructor(e,t){super(),this._config=e,this._rubiconExperiment=t,this.bidderConfig=this._config.partners.getBidderConfig("rubicon"),this.adapterName="rubicon",this.serverBidderName="rubi_ss",this._bidders=[],this._map=new Map([["Below_Post_1",{client:881394,server:1974272}],["Content_1",{client:881398,server:1974276}],["Content_2",{client:881400,server:1974280}],["Content_3",{client:881402,server:1974282}],["Content_4",{client:881404,server:1974284}],["Content_5",{client:881406,server:1974286}],["Content_6",{client:881408,server:1974288}],["Content_7",{client:881410,server:1974290}],["Content_8",{client:881412,server:1974292}],["Content_9",{client:881414,server:1974294}],["Footer_1",{client:881416,server:1974296}],["Header_1",{client:881422,server:1974304}],["Header_2",{client:881426,server:1974306}],["Interstitial_1",{client:1979348,server:1979354}],["Recipe_1",{client:881428,server:1974308}],["Recipe_2",{client:881430,server:1974310}],["Recipe_3",{client:1187188,server:1974312}],["Recipe_4",{client:1279328,server:1974314}],["Sidebar_1",{client:881440,server:1974316}],["Sidebar_2",{client:881454,server:1974318}],["Sidebar_3",{client:881460,server:1974320}],["Sidebar_4",{client:881462,server:1974322}],["Sidebar_5",{client:881466,server:1974324}],["Sidebar_9",{client:881478,server:1974332}],["Video_StickyOutstream_1",{client:2150398,server:2150396}],[Ct.Video_Collapse_Autoplay_SoundOff,{client:1259006,server:2055644}],[Ct.Video_Coll_SOff_Smartphone,{client:1259010,server:2055648}],[Ct.Video_In_Post_ClicktoPlay_SoundOn,{client:1259008,server:2055642}],[Ct.Video_Individual_Autoplay_SOff,{client:1506800,server:2055646}]]);const i="both"===this._rubiconExperiment.result||"client"===this._rubiconExperiment.result;("both"===this._rubiconExperiment.result||"server"===this._rubiconExperiment.result)&&this._bidders.push({name:this.serverBidderName,type:"server"}),i&&this._bidders.push({name:this.name,type:"client"})}getDisplayParams(e,t){return{accountId:9262,siteId:"Video_StickyOutstream"===t?386004:{server:363698,client:180726}[e],..."Video_StickyOutstream"===t&&{video:{language:"en"}}}}getVideoParams(e){return{accountId:9262,siteId:{server:375144,client:253996}[e],video:{language:"en"}}}get enabled(){return this._config.partners.rubicon}get videoEnabled(){return this._config.partners.video.rubicon}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._bidders.map((t=>{const i=ke(e,this._config.marmalade.hvThreshold);return{bidder:t.name,params:{...this.getDisplayParams(t.type,e.location),zoneId:this._map.get(e.placementMapName)[t.type],...i&&{position:"atf"}}}}))}getVideoSlotBidRequests(e){if(this._map.has(e.name))return this._bidders.map((t=>({bidder:t.name,params:{...this.getVideoParams(t.type),zoneId:this._map.get(e.name)[t.type]}})))}updateBidParams(e,t,i){return 1===e.refreshCount&&(i.params.position="atf"),i}};Qs=M([We("RubiconBidder"),T(),O("design:paramtypes",[Ni,ai])],Qs);const Ks=new Map([["Below_Post_1",[{size:[300,250],pkey:"7SbWFfJm2dn10YEIuTIpKDME"},{size:[728,90],pkey:"rcC1EVV27zshgwZefZtMMbQH"},{size:[320,50],pkey:"T7Qor0zFsfzE8d0WArpJPwQX"},{size:[336,280],pkey:"WoVFJAUvQg9oowjifOQLhHfb"}]],["Content_1",[{size:[300,250],pkey:"Hqhk8OQEu54TMfika2qbQjZe"},{size:[728,90],pkey:"Abg2OePLqx4qSJsbvcMFeKMd"},{size:[320,50],pkey:"nlcvbONm7a7qbEq1CUb60bDG"},{size:[336,280],pkey:"ygZ1JVS7p7SMDBgz7ueGgfVr"},{size:[300,50],pkey:"9kDU40A4BJXchR7ikuWND5Ui"}]],["Content_2",[{size:[300,250],pkey:"h28JMhou2Lu9BYHVipYoXuJC"},{size:[320,50],pkey:"jdumKQjHDTttqY113Cyf8Dg5"},{size:[728,90],pkey:"zXUbUzaRyn8LyqVmiSSGFcf5"},{size:[300,50],pkey:"D3MXJwPThTgUD48ESouRejcn"},{size:[336,280],pkey:"ocdg6DMXhAfaTk7KgImuPCPi"}]],["Content_3",[{size:[300,250],pkey:"BFOY9pnh071TtzOy9lBjIr2i"},{size:[320,50],pkey:"96aXzW1FyE1LlnVyOMYuFW7x"},{size:[728,90],pkey:"HhDmPHv4VTNzHzcG65kBlpS0"},{size:[300,50],pkey:"JQXmRwXj1jOjHCQF8ufXkKIJ"}]],["Content_4",[{size:[300,250],pkey:"GA7GQONt3evAWTb7QFsfr4kT"},{size:[320,50],pkey:"iN7VUlNOwy5Nem9ve7HCjt1O"},{size:[728,90],pkey:"WlK6M3BJTYR6CKgtW4fpeWwc"},{size:[300,50],pkey:"7DEh5436UHnmeKGzVXQVsvRk"}]],["Content_5",[{size:[300,250],pkey:"ZKk36rd21PTfmO81jIh4Yogg"},{size:[320,50],pkey:"Dc9sjnVcwjTK2iG3wYmqLveY"},{size:[728,90],pkey:"wuq8OFVQSXj9rmtUlnLo57Tm"},{size:[300,50],pkey:"ZWVmSVe4txKlxxCQoqMcGIus"}]],["Content_6",[{size:[300,250],pkey:"1rWi9eEX25aaJTBP0gYbRZkI"},{size:[320,50],pkey:"xpvziI7Hx5t9ZYEhjNh559PS"},{size:[728,90],pkey:"NCS2KzLcAOxlnkaJ4xjxF0yY"},{size:[300,50],pkey:"T3CRI7sep8LYNDkOrvgSZUPQ"}]],["Content_7",[{size:[300,250],pkey:"UyoEFm2doVvp7106fNDYQWUD"},{size:[320,50],pkey:"TaEN9LCRL7njBnuDdcqFl45i"},{size:[728,90],pkey:"F9qCCjLusYbKBOeMYwTpuEPE"},{size:[300,50],pkey:"T4LKxfIKZJCqFzBemjae6MGu"}]],["Content_8",[{size:[300,250],pkey:"Kx7r3bEMtM8oX76sHwPJmKc0"},{size:[320,50],pkey:"yFU6LWetkGsn5PDQKYT2IDsb"},{size:[728,90],pkey:"SzRqozC7KE5CHZ5X0MYolGNg"},{size:[300,50],pkey:"TIHmP6MqapPY4RpbkOm3pYpV"}]],["Content_9",[{size:[300,250],pkey:"ME02OxIG42MNrqtEtkRcC3WI"},{size:[320,50],pkey:"FZAEaVzZWYVTEcRNmWJmjUXB"},{size:[728,90],pkey:"d2Rjluzn2K59G2BS6dcOSTnQ"},{size:[300,50],pkey:"mBGMr6mqftj8c2qcQky6UjEB"}]],["Footer_1",[{size:[728,90],pkey:"3B3mEOFlqzWznInsydJTcOM4"},{size:[320,50],pkey:"D7FU4vgB3xSrSUsE8x941axF"},{size:[300,50],pkey:"GNY9gDQKzEGt6Tlb13yLfmuX"},{size:[970,90],pkey:"QpPUq12xurb2uH4eesPfZAHF"},{size:[320,100],pkey:"B1C8tQAkMN7kpCuxh1hW6CY8"}]],["Header_1",[{size:[728,90],pkey:"gEiCP252abCex8X60QDCQ18Q"},{size:[320,50],pkey:"1edt8nVrdCirRPclWUszxTkp"},{size:[970,250],pkey:"8vU2bELnZC87m9GLY6XrB82g"},{size:[300,50],pkey:"hjIoNE7R9iO7fInGsX0iibTz"},{size:[300,250],pkey:"jStKXZxN8Ccuf6XS4dKqhKr9"},{size:[970,90],pkey:"InTyYn8hF3Qs7LnzMuZosUTQ"}]],["Header_2",[{size:[728,90],pkey:"qJiJRp6ukhtMyrprTZKHjL2M"},{size:[320,50],pkey:"8FmqCiT44WYjSNLDf1gQE8JU"},{size:[300,250],pkey:"HkFfwTqoieNv9hxPhJKPKoX8"},{size:[970,250],pkey:"NwtHSBVFWxfm6Yh7UeCfuHa6"},{size:[300,50],pkey:"4kwwuV84b6KhCJQy0yjDYdfl"},{size:[320,100],pkey:"TJx2N6gevlYeFawnBbRy4gRl"}]],["Recipe_1",[{size:[300,250],pkey:"uf0lKHKQpMCXGy4lxiCspQq7"},{size:[320,50],pkey:"lklI3sAvIozfaIGNQGORtPOR"},{size:[300,50],pkey:"yiehMO6LI3FNHjbCPIb1L3Sk"},{size:[250,250],pkey:"LyZ0FEa1r0IYt8G2ZZsZi389"}]],["Recipe_2",[{size:[300,250],pkey:"k3diT2fkJ9qUBWQussCusqH3"},{size:[320,50],pkey:"nWhVYiRycgz0snwL4hTcS3vA"},{size:[300,50],pkey:"dq7FbogqyhCRRIH60EEOqCSU"},{size:[250,250],pkey:"yiWtNVya1yOMCncI5pNF5kc5"}]],["Recipe_3",[{size:[300,250],pkey:"43441FPoOkNSE3t2cVABWnsj"},{size:[320,50],pkey:"XTsNJ5wTa3CksG40rnRNHiib"},{size:[300,50],pkey:"OogAcgEwqjMqWmbuSN0n1fhg"},{size:[250,250],pkey:"t9D4xPUErCl21pJOFQemQp9h"}]],["Recipe_4",[{size:[300,250],pkey:"DYIoV5pkMmf8Dh6Z328lJjVS"},{size:[320,50],pkey:"00kJPcqve45ZTYX6hicr37iK"},{size:[300,50],pkey:"BpO7D8zDzdyGmFUOGNcRhUUm"},{size:[300,600],pkey:"xv9dO3gYMP1nJKg1FZVtIUlc"}]],["Sidebar_1",[{size:[300,250],pkey:"CrsU69OOlLRE1gDlLVGWIIV6"},{size:[300,600],pkey:"3pyeQzDRiW84Hg8gNrOq7BUr"},{size:[160,600],pkey:"CFUyMykS3nc38kL2GnT0S7E4"},{size:[320,50],pkey:"1BptSVedVseFELcEHmSjZmDr"},{size:[300,50],pkey:"2pg9IZthU4rVlb45qoI2081a"}]],["Sidebar_2",[{size:[300,250],pkey:"SRG5uYvQkWqlTzkqgXr65zTB"},{size:[300,600],pkey:"Ean6FEKv8T4dKoDEQtgf6J5K"},{size:[160,600],pkey:"WbYPSpMSXQPKyD7MaH1Qc5z7"},{size:[320,50],pkey:"TAk15aJmBw3jMFoV9vSYYWLl"},{size:[300,50],pkey:"9w6UD5z59ooQWpW98mmpv0mD"}]],["Sidebar_3",[{size:[300,250],pkey:"ePJzx8Sm7N35TzihmA98puiL"},{size:[160,600],pkey:"P4EOkxn1ZtpxOxx2lahCdYOJ"},{size:[300,600],pkey:"6mOPwEqEtbkwuuzizUPzdQhN"},{size:[320,50],pkey:"oSwBRQCb6174NZ0wDEyxZW9E"},{size:[300,50],pkey:"LImddo0cIDhlsk6dkvMaHxsW"}]],["Sidebar_4",[{size:[300,250],pkey:"xVf5XsMi0sHZYN4WvjiFhCt3"},{size:[300,600],pkey:"WH8DfDE6oJYbphu2nD4xxeIV"},{size:[160,600],pkey:"8ZBBtdUqKqArOUPgW7bpiUia"},{size:[320,50],pkey:"UMKQPvhCYMOH1sOPVdYEDEQt"},{size:[300,50],pkey:"UoweNgEnjfmpxKoHzSXkuoWg"}]],["Sidebar_5",[{size:[300,250],pkey:"EhtNcAaPOBeM8QI5ypGM7lZy"},{size:[160,600],pkey:"zAOUkIaCHmzOCw2Ma5rrzaql"},{size:[300,600],pkey:"LDMKwAfNFjGKWXL0OWKksknT"},{size:[320,50],pkey:"WdPWJ92IfPqKgO5vRXvlsDO4"},{size:[300,50],pkey:"MgyTpbqDa5nWNz6aDNWyucFn"}]],["Sidebar_9",[{size:[300,250],pkey:"JmiI0R5Mw4cFlLp9pgaem31E"},{size:[300,600],pkey:"IoYC7dL9wONQvhjMnu3iqP3R"},{size:[160,600],pkey:"np3Ol8PXscn2cbaUcrthhTKg"},{size:[320,50],pkey:"Cd46ns56pySxsSXXdRi3KlYq"},{size:[300,50],pkey:"k8W1t71k8qmkYsiK4v3pop6j"},{size:[250,250],pkey:"qINMbG0pc3n9CO2oIW1qxWGE"}]]]),Xs=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,[{size:[640,360],pkey:"I5VjN89qESPMegBdpCt92W8S"}]],[Ct.Video_Coll_SOff_Smartphone,[{size:[400,225],pkey:"iZXbFkwkNrOgpI7ue8o3mJda"}]],[Ct.Video_In_Post_ClicktoPlay_SoundOn,[{size:[640,360],pkey:"sMLWZBQNa6GaKC2khQiIg5Tj"},{size:[400,225],pkey:"yHkEhAMj24ubV101Fklbp6fA"}]],[Ct.Video_Individual_Autoplay_SOff,[{size:[640,360],pkey:"GCV9Do84nDBEFaVjb507H4iE"},{size:[400,225],pkey:"6lY8mDlZX6W7ijhbh6OuDCfj"}]]]);let Js=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("sharethrough")}get enabled(){return this._config.partners.sharethrough}get videoEnabled(){return this._config.partners.video.sharethrough}getSlotBidRequests(e){if(Ks.has(e.placementMapName))return Ks.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}getVideoSlotBidRequests(e){return Xs.get(e.name).filter((({size:t})=>e.size[0]===t[0]&&e.size[1]===t[1])).map((({pkey:e})=>({bidder:this.name,params:{pkey:e}})))}};Js=M([We("SharethroughBidder"),T(),O("design:paramtypes",[Ni])],Js);let Ys=class extends os{constructor(e,t){super(),this._config=e,this._irisTv=t,this.bidderConfig=this._config.partners.getBidderConfig("spotx"),this._videoParams={ad_unit:"instream",secure:!0,mimes:this._config.video.mimeType,position:this._config.video.position.id},this._map=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,279547],[Ct.Video_Coll_SOff_Smartphone,279549],[Ct.Video_In_Post_ClicktoPlay_SoundOn,279548],[Ct.Video_Individual_Autoplay_SOff,279550]])}get videoEnabled(){return this._config.partners.video.spotx}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._irisTv.irisContextualData,i=this._irisTv.irisId,s=i&&t&&t.length;return[{bidder:this.name,params:{...this._videoParams,channel_id:this._map.get(e.name),...s&&{custom:{iris_context:t,iris_id:i}}}}]}}};Ys=M([We("SpotXBidder"),T(),O("design:paramtypes",[Ni,$s])],Ys);let Zs=class extends os{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("teads"),this._pageId=112062,this._adTypeBitIndexMap=new Map([["outstream",{adType:Ee()?"outstreamMobile":"outstreamDesktop",index:1}],["interscroller",{adType:"interscroller",index:2}],["miniscroller",{adType:"miniscroller",index:3}]]),this._adUnitsMap=new Map([["Below_Post_1",[]],["Content_1",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_2",["miniscroller","interscroller"]],["Content_3",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_4",["miniscroller","interscroller"]],["Content_5",["outstreamDesktop","outstreamMobile","miniscroller","interscroller"]],["Content_6",["miniscroller","interscroller"]],["Content_7",["miniscroller","interscroller"]],["Content_8",["miniscroller","interscroller"]],["Content_9",["miniscroller","interscroller"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["outstreamDesktop","outstreamMobile","miniscroller"]],["Recipe_2",["miniscroller"]],["Recipe_3",["miniscroller"]],["Recipe_4",["miniscroller"]],["Sidebar_1",[]],["Sidebar_2",[]],["Sidebar_3",[]],["Sidebar_4",[]],["Sidebar_5",[]],["Sidebar_9",[]]]),this._deviceAdTypes={mobile:["outstreamMobile","interscroller","miniscroller"],desktop:["outstreamDesktop"]},this._placementIdMap=new Map([["1000",{id:121842,isOutstream:!1}],["1001",{id:121836,isOutstream:!0}],["1010",{id:121835,isOutstream:!0}],["1011",{id:121840,isOutstream:!0}],["1100",{id:121834,isOutstream:!1}],["1101",{id:121838,isOutstream:!0}],["1110",{id:121837,isOutstream:!0}],["1111",{id:121895,isOutstream:!0}]])}get enabled(){return this._config.partners.teads}createBitArrayAdOptions(e){const t=Ee()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop,i=["1","0","0","0"],s=this._adUnitsMap.get(e.placementMapName);return this._adTypeBitIndexMap.forEach(((n,r)=>{const o=n.adType;t.indexOf(o)>-1&&this._config.adTypes.has(o)&&s.indexOf(o)>-1&&(i[n.index]="outstream"===r?this._mediaType.outstreamEnabled(e).currentlyActive?"1":"0":"1")})),i}updateBidParams(e,t,i){if(1===e.refreshCount&&this._adUnitsMap.has(e.placementMapName)){const t=this.createBitArrayAdOptions(e),s=this._placementIdMap.get(t.join(""));i.params.placementId=s.id;const n=i.labelAny||[],r=`outstreamEnabled_${e.placementMapName}`;-1===n.indexOf(r)&&s.isOutstream&&(n.push(r),i.labelAny=n)}return i}getSlotBidRequests(e){if(this._adUnitsMap.has(e.placementMapName)){const t=this.createBitArrayAdOptions(e),i=this._placementIdMap.get(t.join(""));return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,pageId:this._pageId}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamEnabled_${t}`),i.length?{labelAny:i}:{}}};Zs=M([We("TeadsBidder"),T(),O("design:paramtypes",[Ni,ps])],Zs);let en=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("telaria"),this._map=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,{supplyCode:"6psex-fm1gy",adCode:"6psex-o3fcq"}],[Ct.Video_In_Post_ClicktoPlay_SoundOn,{supplyCode:"6psex-bgapy",adCode:"6psex-kln5k"}],[Ct.Video_Coll_SOff_Smartphone,{supplyCode:"6psex-axuft",adCode:"6psex-jaes3"}],[Ct.Video_Individual_Autoplay_SOff,{supplyCode:"6psex-sootr",adCode:"6psex-0vosj"}]])}get videoEnabled(){return this._config.partners.video.telaria}getVideoSlotBidRequests(e){if(this._map.has(e.name)){const t=this._map.get(e.name);return[{bidder:this.name,params:{...t,videoId:e.name}}]}}};en=M([We("TelariaBidder"),T(),O("design:paramtypes",[Ni])],en);let tn=class extends os{constructor(e,t,i){super(),this._config=e,this._tripleLiftExperiment=t,this._mediaType=i,this.bidderConfig=this._config.partners.getBidderConfig("triplelift"),this.adapterName="triplelift",this.serverBidderName="tripl_ss",this._clientEnabled=!1,this._serverEnabled=!1,this.settings={adserverTargeting:[{key:"hb_format",val:({meta:e,tl_source:t})=>e&&e.mediaType||this.tlSourceMap.get(t||"")}]},this.tlSourceMap=new Map([["hdx","banner"],["tlx","native"]]),this._verticalCategoryMap=new Map([["Baby","Family"],["Family and Parenting","Family"],["Natural Parenting","Family"],["Pregnancy","Family"],["Toddler","Family"],["Personal Finance","Finance"],["Professional Finance","Finance"],["Deals","Finance"],["Clean Eating","Food"],["Food","Food"],["Crafts","Home"],["Gardening","Home"],["Green Living","Home"],["Home Decor and Design","Home"],["Pets","Home"],["Travel","Travel"],["News","News"],["Lifestyle","Lifestyle"],["Beauty","Lifestyle"],["Other","Lifestyle"],["Health and Fitness","Health"],["Entertainment","Entertainment"],["Sports","Sports"],["Womens Style","Womens Style"],["Mens Style and Grooming","Mens Style"],["Tech","Tech"],["Wedding","Wedding"],["Auto","Auto"]]),this._categoryPriorityList=new Set(["Food","Home","Family","Finance","Travel","News","Health","Entertainment","Sports","Womens Style","Mens Style","Tech","Wedding","Auto","Lifestyle"]),this._category=Q(this.getCategory(),"Lifestyle"),this._map=new Map([["Interstitial_1",[]],["Below_Post_1",[]],["Content_1",["nativeMobileContent","nativeDesktopContent"]],["Content_2",["nativeMobileContent","nativeDesktopContent"]],["Content_3",["nativeMobileContent","nativeDesktopContent"]],["Content_4",["nativeMobileContent","nativeDesktopContent"]],["Content_5",["nativeMobileContent","nativeDesktopContent"]],["Content_6",["nativeMobileContent","nativeDesktopContent"]],["Content_7",["nativeMobileContent","nativeDesktopContent"]],["Content_8",["nativeMobileContent","nativeDesktopContent"]],["Content_9",["nativeMobileContent","nativeDesktopContent"]],["Footer_1",[]],["Header_1",[]],["Header_2",[]],["Recipe_1",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_2",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_3",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_4",["nativeMobileRecipe","nativeDesktopRecipe"]],["Recipe_5",["nativeMobileRecipe","nativeDesktopRecipe"]],["Sidebar_1",["nativeDesktopSidebar"]],["Sidebar_2",["nativeDesktopSidebar"]],["Sidebar_3",["nativeDesktopSidebar"]],["Sidebar_4",["nativeDesktopSidebar"]],["Sidebar_5",["nativeDesktopSidebar"]],["Sidebar_9",["nativeDesktopSidebar"]]]),this._videoMap=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,{client:"AdThriveRON_instream_desktopcollapse_prebid_c2s",server:"AdThriveRON_instream_desktopcollapse_prebid"}],[Ct.Video_Coll_SOff_Smartphone,{client:"AdThriveRON_instream_mwebsticky_prebid_c2s",server:"AdThriveRON_instream_mwebsticky_prebid"}],[Ct.Video_In_Post_ClicktoPlay_SoundOn,{client:"AdThriveRON_instream_CTP_prebid_c2s",server:"AdThriveRON_instream_CTP_prebid"}],[Ct.Video_Individual_Autoplay_SOff,{client:"AdThriveRON_instream_contextcollapse_prebid_c2s",server:"AdThriveRON_instream_contextcollapse_prebid"}]]),this._deviceAdTypes={mobile:["nativeMobileContent","nativeMobileRecipe"],desktop:["nativeDesktopContent","nativeDesktopRecipe","nativeDesktopSidebar"]},this._clientEnabled="both"===this._tripleLiftExperiment.result||"client"===this._tripleLiftExperiment.result,this._serverEnabled="both"===this._tripleLiftExperiment.result||"server"===this._tripleLiftExperiment.result}get enabled(){return this._config.partners.tripleLift}get videoEnabled(){return this._config.partners.video.tripleLift}getSlotBidRequests(e){const t=(Ee()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName)){const i=[];let s="Interstitial"===e.location?"interstitial":"standard";this._map.get(e.placementMapName).forEach((e=>{-1!==t.indexOf(e)&&(s=e)}));const n=this.getInventoryCode(s,e),r=this.isOutstreamEligible(e);return this._clientEnabled&&i.push({bidder:this.name,...this.getLabels(e.placementMapName,r),params:{inventoryCode:n}}),this._serverEnabled&&i.push({bidder:this.serverBidderName,params:{inventoryCode:n+"_pbs2s"}}),i}}inventoryCodeAppend(e){return this.isOutstreamEligible(e)?"_BV":""}isOutstreamEligible(e){return!1}getInventoryCode(e,t){if("standard"===e)return`AdThrive_${t.placementMapName}_HDX`;if("interstitial"===e)return"AdThriveRON_interstitial_multisize";const i="Content_1"===t.placementMapName||"Sidebar_9"===t.placementMapName?t.location.toLowerCase():t.placementMapName.toLowerCase().replace(/_(?!.*_)/,""),s=Ee()?"mobile":"desktop",n=this.inventoryCodeAppend(t);return`adthrive${this._category}_${i}_fixed_${s}${n}`}getVideoBidParams(e,t,i){var s,n;return{bidder:e,params:{inventoryCode:i,video:{...Ce()?{w:640,h:360}:{w:400,h:225},api:this._config.video.apiValue,mimes:this._config.video.mimeType,..."all"===this._config.video.videoProtocols.scope&&{protocols:this._config.video.videoProtocols.protocols},playbackmethod:null===(n=null===(s=this._config.video.playbackmethod)||void 0===s?void 0:s.get(t.name))||void 0===n?void 0:n[0],pos:this._config.video.position.id}}}}getVideoSlotBidRequests(e){const t=[];return this._videoMap.has(e.name)&&(this._clientEnabled&&t.push(this.getVideoBidParams(this.name,e,this._videoMap.get(e.name).client)),this._serverEnabled&&t.push(this.getVideoBidParams(this.serverBidderName,e,this._videoMap.get(e.name).server))),t}getCategory(){const e=this._config.site.verticals.filter((e=>this._verticalCategoryMap.has(e))).map((e=>this._verticalCategoryMap.get(e)));for(const t of this._categoryPriorityList)if(-1!==e.indexOf(t))return t}getLabels(e,t){const i=[];return t&&i.push(`outstreamEnabled_${e}`),i.length?{labelAny:i}:{}}};tn=M([We("TripleLiftBidder"),T(),O("design:paramtypes",[Ni,li,ps])],tn);let sn=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("ttd"),this._device=this._config.context.device,this._set=new Set(["Below_Post_1","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_Collapse_Autoplay_SoundOff","Video_Coll_SOff_Smartphone","Video_In-Post_ClicktoPlay_SoundOn","Video_Individual_Autoplay_SOff"])}get enabled(){return this._config.partners.ttd}get videoEnabled(){return this._config.partners.video.ttd}getSlotBidRequests(e){if(this._set.has(e.placementMapName)){const t=e.id,i=new RegExp(`_${this._device}`);return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t.replace(i,""),supplySourceId:"cafemedia"}}]}}getVideoSlotBidRequests(e){if(this._set.has(e.name)){const t=`${e.name}`;return[{bidder:this.name,params:{publisherId:this._config.site.id,siteId:this._config.site.id,placementId:t,supplySourceId:"cafemedia"}}]}}};sn=M([We("TTDBidder"),T(),O("design:paramtypes",[Ni])],sn);let nn=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("undertone"),this._params={publisherId:2002},this._deviceAdTypes={mobile:["animatedFooter","expandableFooter","interscroller","miniscroller"],desktop:[]},this._map=new Map([["Below_Post_1",[{placementId:"2002034",size:[[1,2]],adType:"interscroller",highViewability:!0},{placementId:"2002035",size:[[1,2]],adType:"miniscroller",highViewability:!0},{placementId:"2002036",size:[[300,250]],highViewability:!0}]],["Content_1",[{placementId:"2002001",size:[[1,2]],adType:"interscroller"},{placementId:"2002002",size:[[1,2]],adType:"miniscroller"}]],["Content_2",[{placementId:"2002003",size:[[1,2]],adType:"miniscroller"}]],["Content_3",[{placementId:"2002004",size:[[1,2]],adType:"miniscroller"}]],["Content_4",[{placementId:"2002005",size:[[1,2]],adType:"miniscroller"}]],["Content_5",[{placementId:"2002006",size:[[1,2]],adType:"miniscroller"}]],["Footer_1",[{placementId:"2002033",size:[[320,50]],adType:"expandableFooter"},{placementId:"2002038",size:[[1,1]],adType:"expandableFooter",mobileCollapsePlayer:!0},{placementId:"2002039",size:[[1,1]],adType:"animatedFooter"}]],["Header_1",[{placementId:"2002037",size:[[970,250]]}]],["Interstitial_1",[{placementId:"2002040",size:[[1,1]]}]],["Recipe_1",[{placementId:"2002020",size:[[300,250]]}]],["Recipe_2",[{placementId:"2002021",size:[[300,250]]}]],["Recipe_3",[{placementId:"2002022",size:[[300,250]]}]],["Recipe_4",[{placementId:"2002023",size:[[300,250]]}]],["Sidebar_9",[{placementId:"2002032",size:[[300,250]]}]]])}get enabled(){return this._config.partners.undertone}getSlotBidRequests(e){const t=(Ee()?this._deviceAdTypes.mobile:this._deviceAdTypes.desktop).filter((e=>this._config.adTypes.has(e)));if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({adType:i,mobileCollapsePlayer:s,size:n})=>(!i&&e.hasSize(n[0])||i&&-1!==t.indexOf(i))&&(!s||!this._config.video.mobileStickyPlayerOnPage))).map((({placementId:t,size:i,highViewability:s})=>({bidder:this.name,...s&&e.viewability<this._config.marmalade.hvThreshold?{labelAny:["refresh"]}:{},params:{...this._params,placementId:t,size:i}})))}};nn=M([We("UndertoneBidder"),I(),O("design:paramtypes",[Ni])],nn);let rn=class extends os{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("unruly"),this._params={siteId:208686}}get enabled(){return this._config.partners.unruly}getSlotBidRequests(e){const{outstreamCapable:t,currentlyActive:i}=this._mediaType.outstreamEnabled(e);if(t&&"Video_StickyOutstream"!==e.location)return[{bidder:this.name,...i?{}:{labelAny:["refresh"]},params:{...this._params}}]}};rn=M([We("UnrulyBidder"),T(),O("design:paramtypes",[Ni,ps])],rn);let on=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("verizon"),this.adapterName="aol",this._params={dcn:Ee()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},this._desktopMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]]]),this._mobileMap=new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]]]),this._map=Ee()?this._mobileMap:this._desktopMap}get enabled(){return this._config.partners.verizon}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:e})=>({bidder:this.name,params:{...this._params,...this._config.site.filteredSensitiveCategories.length&&{ext:{sens:this._config.site.filteredSensitiveCategories}},pos:e}})))}};on=M([We("VerizonBidder"),T(),O("design:paramtypes",[Ni])],on);let an=class extends os{constructor(e){super(),this._config=e,this.bidderConfig=this._config.partners.getBidderConfig("oneVideo"),this.instreamPubId="CMIExchange",this.outstreamPubId="CafeMediaOS",this._map=new Map([["Video_StickyOutstream_1",[{size:[300,250],id:"1286612"},{size:[320,50],id:"1286612"}]]])}get videoEnabled(){return this._config.partners.video.oneVideo}get enabled(){return this._config.partners.oneVideo}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:e})=>({bidder:this.name,params:{pubId:this.outstreamPubId,video:{inventoryid:e}}})))}getVideoSlotBidRequests(e){var t;return[{bidder:this.name,params:{pubId:this.instreamPubId,video:{playerWidth:e.size[0],playerHeight:e.size[1],mimes:this._config.video.mimeType,..."all"===this._config.video.videoProtocols.scope?{protocols:this._config.video.videoProtocols.protocols}:"",api:this._config.video.apiValue,...(null===(t=this._config.video.playbackmethod)||void 0===t?void 0:t.get(e.name))&&{playbackmethod:this._config.video.playbackmethod.get(e.name)},position:this._config.video.position}}}]}};an=M([We("VerizonVideoBidder"),T(),O("design:paramtypes",[Ni])],an);let ln=class extends os{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.bidderConfig=this._config.partners.getBidderConfig("yahoossp"),this._params={display:{dcn:Ee()?"8a969d580177771bc13c2047d6290082":"8a9694d00177771bcae21c6941d30023"},video:{dcn:"8a969469017b7bdf59b2e07862af0281"}},this._videoMap=new Map([[Ct.Video_Collapse_Autoplay_SoundOff,"8a96941a017e7e91c49492261bdf000c"],[Ct.Video_Coll_SOff_Smartphone,"8a9690ee017e7e91bee0922682f1000b"],[Ct.Video_In_Post_ClicktoPlay_SoundOn,"8a969951017e7e91ba38923576c20011"],[Ct.Video_Individual_Autoplay_SOff,"8a969951017e7e91ba389236dc470014"]]),this._displayMap={desktop:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c20458198007e"},{size:[728,90],id:"8a96918c0177771bc65220467ff60092"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204531fe0091"}]],["Content_3",[{size:[300,250],id:"8a9694d00177771bcae220463a710058"}]],["Footer_1",[{size:[728,90],id:"8a9694d00177771bcae21c6a7d880025"},{size:[970,90],id:"8a969d580177771bc13c2046cd280081"},{size:[320,50],id:"8a9694d00177771bcae2204408520056"}]],["Header_1",[{size:[728,90],id:"8a969d580177771bc13c2045cac4007f"}]],["Interstitial_1",[{size:[300,250],id:"8a969449017c7c9d384d9f8170b10066"},{size:[300,600],id:"8a969449017c7c9d384d9f80b9970064"},{size:[320,480],id:"8a969958017c7c9d2d8a9f812d360081"},{size:[336,280],id:"8a969449017c7c9d384d9f80f2a20065"}]],["Sidebar_1",[{size:[300,250],id:"8a9694d00177771bcae2204449d80057"}]],["Sidebar_9",[{size:[320,50],id:"8a969d580177771bc13c2045ff6b0080"},{size:[300,600],id:"8a96918c0177771bc6522043c8540090"},{size:[160,600],id:"8a969d580177771bc13c2044ea91007d"},{size:[300,250],id:"8a96918c0177771bc6521c6b5f4e003f"}]],["Recipe_1",[{size:[300,250],id:"8a9694d00177771bcae21c6bc7e80027"}]],["Recipe_2",[{size:[300,250],id:"8a969d580177771bc13c2044ac08007c"}]],["Video_StickyOutstream_1",[{size:[300,250],id:"8a969d87017b7be074aae07a22b70005"}]]]),mobile:new Map([["Content_1",[{size:[300,250],id:"8a969d580177771bc13c2048bd0e0085"},{size:[320,50],id:"8a969d580177771bc13c204b68670088"}]],["Content_2",[{size:[300,250],id:"8a96918c0177771bc652204877c50094"},{size:[320,50],id:"8a96918c0177771bc652204b257e0097"}]],["Content_3",[{size:[300,250],id:"8a96918c0177771bc6522048f24e0095"}]],["Content_4",[{size:[300,250],id:"8a9694d00177771bcae220497831005a"}]],["Content_5",[{size:[300,250],id:"8a969d580177771bc13c204a5f240087"}]],["Content_6",[{size:[300,250],id:"8a9694d00177771bcae2204a9092005c"}]],["Footer_1",[{size:[320,100],id:"8a96918c0177771bc652204a27cb0096"},{size:[300,50],id:"8a9694d00177771bcae22049449a0059"},{size:[728,90],id:"8a9694d00177771bcae2204ad481005d"},{size:[320,50],id:"8a969d580177771bc13c20480cf50084"}]],["Interstitial_1",[{size:[300,250],id:"8a969161017c7c9d32879f82491c007d"},{size:[300,600],id:"8a969161017c7c9d32879f8195b3007c"},{size:[320,480],id:"8a969958017c7c9d2d8a9f81f2c50082"},{size:[336,280],id:"8a969449017c7c9d384d9f81c5660067"},{size:[320,50],id:"8a969449017c7c9d384d9f8279950068"}]],["Recipe_1",[{size:[300,250],id:"8a96918c0177771bc6522048483a0093"}]],["Recipe_2",[{size:[300,250],id:"8a9694d00177771bcae22049e596005b"}]],["Recipe_3",[{size:[300,250],id:"8a969d580177771bc13c2049b47f0086"}]],["Video_StickyOutstream_1",[{size:[300,50],id:"8a969d87017b7be074aae07a22b70005"}]]])},this._setYahooMediaConfig();const i=this._displayMap;this._map=Ee()?i.mobile:i.desktop}get enabled(){return this._config.partners.yahoossp}get videoEnabled(){return this._config.partners.video.yahoossp}getSlotBidRequests(e){if(this._map.has(e.placementMapName))return this._map.get(e.placementMapName).filter((({size:t})=>e.hasSize(t))).map((({id:t})=>({bidder:this.name,params:{..."Video_StickyOutstream"!==e.location?this._params.display:this._params.video,pos:t}})))}getVideoSlotBidRequests(e){if(this._videoMap.has(e.name))return[{bidder:this.name,params:{...this._params.video,pos:this._videoMap.get(e.name)}}]}_setYahooMediaConfig(){this._prebidMethods.setConfig({yahoossp:{mode:"all"}})}};ln=M([We("YahooSSPBidder"),T(),O("design:paramtypes",[Ni,Hi])],ln);let dn=class extends os{constructor(e,t){super(),this._config=e,this._mediaType=t,this.bidderConfig=this._config.partners.getBidderConfig("yieldmo"),this.settings={adserverTargeting:[{key:"hb_format",val:e=>this._creativeFormatMap.get(this.getCreativeFormatId(e.ad))||e.mediaType}]},this._creativeFormatMap=new Map([["44","banner"],["47","banner"],["49","banner"],["50","banner"],["43","banner"],["17","banner"],["23","banner"],["33","banner"],["40","outstream"],["51","outstream"],["48","outstream"],["34","outstream"],["14","miniscroller"],["16","miniscroller"],["37","miniscroller"],["15","miniscroller"],["18","native"],["36","native"],["46","native"],["10","native"],["6","native"]]),this._adOptionsMap=new Map([["100000",{id:"2626064683911553041",isOutstream:!1}],["110000",{id:"2626064684062547986",isOutstream:!0}],["111000",{id:"2626064684196765715",isOutstream:!0}],["110100",{id:"2626064684339372052",isOutstream:!0}],["110010",{id:"2626064684498755605",isOutstream:!0}],["111100",{id:"2626064684632973334",isOutstream:!0}],["111010",{id:"2626064684775579671",isOutstream:!0}],["111110",{id:"2626064684934963224",isOutstream:!0}],["101000",{id:"2626064685069180953",isOutstream:!1}],["101100",{id:"2626064685203398682",isOutstream:!1}],["101010",{id:"2626064685337616411",isOutstream:!0}],["101110",{id:"2626064685471834140",isOutstream:!0}],["100100",{id:"2626064685606051869",isOutstream:!1}],["100110",{id:"2626064685740269598",isOutstream:!0}],["100010",{id:"2626064685882875935",isOutstream:!0}],["110110",{id:"2626807131797397582",isOutstream:!0}],["110001",{id:"2820437600580345895",isOutstream:!0}]]),this._bannerMap=["Below_Post_1","Content","Content_1","Content_2","Content_3","Content_4","Content_5","Content_6","Content_7","Content_8","Content_9","Footer_1","Header_1","Header_2","Recipe_1","Recipe_2","Recipe_3","Recipe_4","Recipe_5","Sidebar_1","Sidebar_2","Sidebar_3","Sidebar_4","Sidebar_5","Sidebar_9","Video_StickyOutstream_1"]}getCreativeFormatId(e){const t=/creative_format_id":([0-9]*)/.exec(e);if(null!==t)return t[1]}get enabled(){return this._config.partners.yieldmo}isMiniScroller(e){return e.sequence&&this._config.adTypes.has("miniscroller")&&("Content"===e.location||"Recipe"===e.location)}isNative(e){const t={mobile:new Map([["Content","nativeMobileContent"],["Recipe","nativeMobileRecipe"]]),desktop:new Map([["Content","nativeDesktopContent"],["Recipe","nativeDesktopRecipe"],["Sidebar","nativeDesktopSidebar"]])},i=Ee()?t.mobile:t.desktop;return e.sequence&&i.has(e.location)&&this._config.adTypes.has(i.get(e.location))}isOutstream(e){return this._mediaType.outstreamEnabled(e).currentlyActive}isStickyOutstream(e){return"Video_StickyOutstream"===e.location}isMobileOustreamSingleInstance(e){return Ee()&&"Content_1"===e.placementMapName&&this._mediaType.outstreamEnabled(e).currentlyActive&&this._config.adTypes.has("outstreamMobile")&&!this._config.video.mobileStickyPlayerOnPage}updateBidParams(e,t,i){if(1===e.refreshCount){const t=this.createBitStringAdOptions(e),s=this._adOptionsMap.get(t);if(this._adOptionsMap.has(t)){i.params.placementId=s.id;const t=i.labelAny||[],n=`outstreamEnabled_${e.placementMapName}`;-1===t.indexOf(n)&&s.isOutstream&&(t.push(n),i.labelAny=t)}}return i}createBitStringAdOptions(e){let t=-1!==this._bannerMap.indexOf(e.placementMapName)?"1":"0";return t+=this.isOutstream(e)?"1":"0",t+=this.isMiniScroller(e)?"1":"0",t+=this.isNative(e)?"1":"0",t+=this.isMobileOustreamSingleInstance(e)?"1":"0",t+=this.isStickyOutstream(e)?"1":"0",t}getSlotBidRequests(e){const t=this.createBitStringAdOptions(e);if(this._adOptionsMap.has(t)){const i=this._adOptionsMap.get(t);return[{bidder:this.name,...this.getLabels(i.isOutstream,e.placementMapName),params:{placementId:i.id,..."Video_StickyOutstream"===e.location&&{video:{placement:2}}}}]}}getLabels(e,t){const i=[];return e&&i.push(`outstreamEnabled_${t}`),i.length?{labelAny:i}:{}}};dn=M([We("YieldmoBidder"),T(),O("design:paramtypes",[Ni,ps])],dn);let cn=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,C,S,w,k,E,x,P,T,I,M,A,O,z){this._config=e,this._biddersParams=new Map,this._orderedDisplayBidders=[x,u,w,M,A,t,v,f,o,m,C,g,i,r,P,l,d,_,I,p,T,y,E,z,a,n,b,O,s].filter((e=>this._bidderFilter(e))),this._orderedVideoBidders=[t,O,A,r,l,c,p,C,h,u,m,y,v,P,f,o,S,k,x,s].filter((e=>this._bidderFilter(e,!0)))}get orderedDisplayBidders(){return this._orderedDisplayBidders}get orderedVideoBidders(){return this._orderedVideoBidders}get biddersParams(){return this._biddersParams}_bidderFilter(e,t=!1){const i=this._config,s=e.name,n=t?i.vbho.bidders:i.hbho.bidders,r=t?"videoEnabled":"enabled",o=t||!e.updateBidParams;return e[r]&&this._holdoutValidation(n,s)&&this._ccpaValidation(i.ccpa,s)&&this._gdprValidation(i.gdpr,s)&&(o||this._biddersParams.set(s,e))}_holdoutValidation(e,t){return!e.length||-1===e.indexOf(t)}_ccpaValidation(e,t){return!e.enabled||-1===e.nonCompliantBidders.indexOf(t)}_gdprValidation(e,t){return!e.enabled||-1===e.nonCompliantBidders.indexOf(t)}};cn=M([I(),O("design:paramtypes",[Ni,us,gs,_s,ms,fs,ys,vs,Ss,bs,Cs,qs,ws,Ps,js,Ns,Hs,Ws,Gs,Qs,Us,Js,Ys,Zs,en,as,tn,sn,nn,rn,on,ln,an,dn])],cn);let hn=class extends it{constructor(e){super(),this.key="crtvmon",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.1).get()}};hn=M([We("CreativeMonitoringExperiment"),I(),O("design:paramtypes",[et])],hn);let pn=class{constructor(e,t,i,s){this._config=e,this._gam=t,this._prebidMethods=i,this._creativeMonitoringExperiment=s,this._auctionData=new Set,this._prebidAdvertiserId=413678576}setupCreativeEventListeners(){this._prebidMethods.onEvent("auctionInit",this._storeAuctionData.bind(this)),this._prebidMethods.onEvent("adRenderFailed",this._renderFailedHandler.bind(this)),this._prebidMethods.onEvent("adRenderSucceeded",this._renderSucceededHandler.bind(this)),this._prebidMethods.onEvent("staleRender",this._staleRenderHandler.bind(this)),this._creativeMonitoringExperiment.result&&this._gam.slotRenderEnded.on(this._checkSlotRender.bind(this))}_storeAuctionData(e){e.adUnitCodes.forEach((t=>this._auctionData.add(`${e.auctionId}-${t}`)))}_deleteStoredAuction(e,t){this._auctionData.delete(`${e}-${t}`)}_renderFailedHandler(e){const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode);const i={message:e.message,reason:e.reason};t&&t.meta&&Object.keys(t.meta).length>0?i.buyerInformation=t.meta:i.markup=t&&t.ad,D.error("PrebidAuctionManager","init","adRenderFailed",i)}_staleRenderHandler(e){e&&this._deleteStoredAuction(e.auctionId,e.adUnitCode)}_renderSucceededHandler(e){const t=e.bid;t&&this._deleteStoredAuction(t.auctionId,t.adUnitCode)}_isSafeFrame(e){const t=e.element.querySelector("iframe");return!(!t||!t.src)}_checkSlotRender(e){const t=e.event;this._isSafeFrame(e.slot)||t.advertiserId!==this._prebidAdvertiserId||setTimeout((()=>{this._logUnknownFailure(e)}),2e3)}_getHeightWidth(e){if(!e)return{};const t=e.split("x").map(Number);return{...Array.isArray(t)&&2===t.length&&{height:t[1],width:t[0]}}}_getPrebidCreativeWindowData(e){return{adId:e.bidderAdId,bidder:e.bidder,size:e.bidderSize,adserverTargeting:e.targeting}}_getPrebidBidderData(e){const t=e.element.querySelector("iframe").contentWindow;if(!t)return{};const{adId:i,adserverTargeting:s,bidder:n,size:r}=this._getPrebidCreativeWindowData(t),{height:o,width:a}=this._getHeightWidth(t&&t.bidderSize);return{adId:i,adserverTargeting:s,adUnitCode:e.id,bidder:n,height:o,size:r,width:a}}_logUnknownFailure(e){const t=this._config.context,i=e.slot,s=e.event,{adId:n,adserverTargeting:r,auctionId:o,adUnitCode:a,bidder:l,height:d,meta:c,size:h,width:p}=i.servedPrebidBidResponse||this._getPrebidBidderData(i);if(o&&a&&!this._auctionData.has(`${o}-${a}`))return;const u={adId:n,advertiserDomains:c&&c.advertiserDomains||r&&r.hb_adomain,bidderSize:h||r&&r.hb_size,bidder:l,branch:t.branch,bucket:t.bucket,campaignId:s.campaignId,creativeId:s.creativeId||s.sourceAgnosticCreativeId,lineItemId:s.lineItemId||s.sourceAgnosticLineItemId,message:"An unknown error occurred rendering the Prebid creative",slotSizes:i.sizes,slot:i.location,...p&&d&&{size:[p,d]},...c&&(c.dchain&&{dchain:c.dchain}||c.networkId&&{networkId:c.networkId}),...(!n||n.length<2)&&r&&{hbAdId:r.hb_adid}};D.error("PrebidAuctionManager","init","prebidCreativeFailure",u),o&&a&&this._deleteStoredAuction(o,a)}};pn=M([I(),O("design:paramtypes",[Ni,Wi,Hi,hn])],pn);let un=class extends it{constructor(e){super(),this.key="jwb",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.95).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],un.prototype,"run",null),un=M([We("JwBoostExperiment"),I(),O("design:paramtypes",[et])],un);let gn=class{constructor(e,t,i){this._config=e,this._prebidMethods=t,this._jwBoostExperiment=i,this._data={},this._highViewabilityThreshold=.6,this._staticFirstPartyData={mcmp:this._config.marmalade.mcmp.filter(ee),site_code:this._config.marmalade.siteCodes.filter(ee),site_id:[this._config.site.id],sens:this._config.site.filteredSensitiveCategories,verticals:this._config.site.verticals,pmp_elig:[this._config.adOptions.pmp]},this._userSegments=this._config.marmalade.ortbSegments.get("iaba")||[],this._siteSegments=this._config.marmalade.ortbSegments.get("iabc")||[],this._data={...this._userSegments.length&&{user:{data:this.buildSegmentData(this._userSegments,4)}},...this._siteSegments.length&&{site:{content:{data:this.buildSegmentData(this._siteSegments,6)}}}}}get data(){return this._data}buildSegmentData(e,t,i="cafemedia.com"){return[{name:i,segment:e,ext:{segtax:t}}]}buildSegmentDataFromArray(e,t,i){return this.buildSegmentData(e.map((e=>({id:e}))),t,i)}setOrtb2Imp(e,t,i=!0){if(t)for(const s of Object.keys(e)){i&&t.ext&&t.ext.data?t.ext.data[s]=e[s]:t[s]=e[s]}}_setVideoOrtb2ImpData(e,t){this.setOrtb2Imp({adserver:{name:"gam",adslot:`/${this._config.gam.account}/${this._config.gam.prefix}_${t.name}/${this._config.site.id}`}},e),this._jwBoostExperiment.result&&this.setOrtb2Imp({jwTargeting:t.getJwBoostTargeting()},e)}addOrtb2Imp(e,t=!1){const{slot:i,video:s}=e,n={ext:{data:{}}};return i&&ke(i,this._config.marmalade.hvThreshold)&&this.setOrtb2Imp({pos:"atf"},n),s&&this._setVideoOrtb2ImpData(n,s),i&&t&&this.setOrtb2Imp({instl:1},n),n}};gn=M([T(),O("design:paramtypes",[Ni,Hi,un])],gn);let _n=class extends it{constructor(e){super(),this.key="sab",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(1).get()}};_n=M([We("BidLimitExperiment"),I(),O("design:paramtypes",[et])],_n);let mn=class extends it{constructor(e){super(),this.key="mxrpog",this._choices=[{choice:4,weight:50},{choice:5,weight:20},{choice:6,weight:20},{choice:7,weight:10}],this._result=this.run(),e.set(this.key,String(this._result))}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],mn.prototype,"run",null),mn=M([We("MaxRequestsExperiment"),I(),O("design:paramtypes",[et])],mn);let fn=class extends it{constructor(e){super(),this.key="dajto",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.1).get()}};fn=M([We("DisableAjaxTimeoutExperiment"),I(),O("design:paramtypes",[et])],fn);const yn={buckets:[{precision:2,max:.1,increment:.01},{precision:2,max:5,increment:.05},{precision:2,max:20,increment:.1},{precision:2,max:100,increment:.5}]};let vn=class{constructor(e){this._config=e,this._configuration={suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_bidder",val:e=>e.bidderCode},{key:"hb_adid",val:e=>e.adId},{key:"hb_pb",val:e=>e.pbCg},{key:"hb_size",val:e=>this._config.video.instreamAdUnits.has(e.adUnitCode)?"":e.size},{key:"hb_deal",val:e=>e.dealId},{key:"hb_format",val:e=>e.mediaType},{key:"hb_adomain",val:e=>{var t,i;return(null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)?null===(i=e.meta)||void 0===i?void 0:i.advertiserDomains[0]:""}}]}}get configuration(){return this._configuration}};vn=M([I(),O("design:paramtypes",[Ni])],vn);let bn=class{constructor(e,t,i,s,n,r,o){this._config=e,this._prebidMethods=t,this._bidLimitExperiment=i,this._maxRequestsExperiment=s,this._disableAjaxTimeoutExperiment=n,this._ortb2=r,this._standardPrebidBidderSetting=o,this._uspConfig={usp:{cmpApi:"iab",timeout:0}},this._gdprConfig={gdpr:{cmpApi:"iab",timeout:1e4,defaultGdprScope:!0,rules:[{purpose:"storage",enforcePurpose:!0,enforceVendor:!0},{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0},{purpose:"measurement",enforcePurpose:!0,enforceVendor:!0}]}},this._defaultConfig={maxRequestsPerOrigin:this._maxRequestsExperiment.result,auctionOptions:{secondaryBidders:this._config.auctionOptions.bidders},bidderSequence:"fixed",...this._bidLimitExperiment.result&&{sendBidsControl:{bidLimit:3}},useBidCache:!0,enableSendAllBids:this._bidLimitExperiment.result,disableAjaxTimeout:this._disableAjaxTimeoutExperiment.result,userSync:{syncsPerBidder:1,aliasSyncEnabled:!0,enableOverride:!0,filterSettings:{iframe:{bidders:"*",filter:"include"}}},gptPreAuction:{mcmEnabled:!0},priceGranularity:yn,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},consentManagement:{},targetingControls:{allowTargetingKeys:this._config.prebid.targetingKeys,allowSendAllBidsTargetingKeys:this._config.prebid.sendAllBidsTargetingKeys},schain:{validation:"strict",config:(new es).getSupplyChainConfig(this._config.site.id)},ortb2:this._ortb2.data}}setDefaultConfig(){const e=this.addPrebidConsent(),t=this._defaultConfig;t.consentManagement=e,this._prebidMethods.setConfig(t)}applyClientAndServerBidderSettings(e){this._prebidMethods.setBidderSettings(e.reduce(((e,t)=>this._setupBidderSettings(e,t)),{standard:this._standardPrebidBidderSetting.configuration}))}aliasBidders(e){e.forEach((e=>{e.adapterName&&(e.adapterName!==e.name&&this._prebidMethods.setAliasBidder(e.adapterName,e.name),e.serverBidderName&&this._prebidMethods.setAliasBidder(e.adapterName,e.serverBidderName))}))}_setupBidderSettings(e,t){return e[t.name]=this.getBidderSettings(t,t.name),t.serverBidderName&&(e[t.serverBidderName]=this.getBidderSettings(t,t.serverBidderName)),e.standard.adserverTargeting&&t.adServerTargeting&&e.standard.adserverTargeting.push(...t.adServerTargeting),e}addPrebidConsent(){return!0===this._config.gdpr.enabled?this._gdprConfig:this._uspConfig}getBidderSettings(e,t){return{bidCpmAdjustment:(e,i)=>L(this._config,e,t,i),...e.settings}}};bn=M([I(),O("design:paramtypes",[Ni,Hi,_n,mn,fn,gn,vn])],bn);let Cn=class extends it{constructor(e){super(),this.key="vpred",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.99).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Cn.prototype,"run",null),Cn=M([We("PredictiveAnalysisExperiment"),I(),O("design:paramtypes",[et])],Cn);let Sn=class{constructor(e,t){this._config=e,this._prebidMethods=t,this._s2sConfig=[{accountId:"9262",enabled:!0,bidders:this._config.prebid.s2s.bidders,defaultTtl:300,timeout:this._config.timeouts.initialBidsRequest-200,adapter:"prebidServer",endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"}}]}init(){this._prebidMethods.setConfig({s2sConfig:this._s2sConfig.filter((e=>e.bidders.length))})}};Sn=M([T(),O("design:paramtypes",[Ni,Hi])],Sn);let wn=class extends Gi{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g){super(),this._adthrive=e,this._bootstrapConfig=t,this._config=i,this._gam=s,this._s2s=n,this._bidderSetup=r,this._mediaType=o,this._prebidMethods=a,this._prebidConfiguration=l,this._predictiveAnalysisExperiment=d,this._slots=c,this._creativeMonitoring=h,this._ortb2=p,this.videoAdUnits=[],this.bidsRequested=new R,this._orderedDisplayBidders=this._bidderSetup.orderedDisplayBidders,this._orderedVideoBidders=this._bidderSetup.orderedVideoBidders,this._analytics=[u,g].filter((e=>e.enabled))}init(){const e=this._prebidConfiguration,t=this._orderedDisplayBidders,i=this._orderedVideoBidders,s=[...t,...i];e.setDefaultConfig(),e.aliasBidders(s),this._s2s.init(),this._analytics.forEach((e=>void 0!==e.init&&e.init())),t.forEach((e=>void 0!==e.init&&e.init())),e.applyClientAndServerBidderSettings(s),Me().then((()=>this._prebidMethods.triggerUserSyncs())).catch((e=>{D.error("PrebidAuctionManager","init","pageLoaded",e)})),this._setEvents(),this._predictiveAnalysisExperiment.result&&this._setVideoBidsFilter()}_setEvents(){this._creativeMonitoring.setupCreativeEventListeners(),this._prebidMethods.onEvent("bidWon",(e=>{const t=this._slots.get(e.adUnitCode);t&&(t.servedPrebidBidResponse=e,this._slots.bidServed.emit(t).catch((()=>{})))})),this._prebidMethods.onEvent("auctionEnd",(e=>{e.adUnitCodes.forEach((e=>{const t=this._slots.get(e);if(t){const e=this._prebidMethods.getAdserverTargetingForAdUnitCode(t.id);t.googleTagSlot&&!Object.keys(e).length&&t.googleTagSlot.setTargeting("hb_bidder","noBid")}}))}));const e=()=>{!this._mediaType.oneStreamExpResult&&this._mediaType.isOutstreamAllowed()||this._updateHighImpactUnitTargeting(),this._prebidMethods.offEvent("beforeRequestBids",e)};this._prebidMethods.onEvent("beforeRequestBids",e),this._predictiveAnalysisExperiment.result&&this._setVideoBidsFilter(),this._prebidMethods.onEvent("bidRequested",(()=>{this.bidsRequested.emit()}))}_setVideoBidsFilter(){if(this._adthrive.core=this._adthrive.core||{},this._adthrive.core.predictiveAnalysis=this._adthrive.core.predictiveAnalysis||[],!this._adthrive.core.predictiveAnalysis.length)return;const e=e=>{const t=this._config.context.device;return"1"===e?"phone"===t:"tablet"===t||"desktop"===t},t=this._adthrive.core.predictiveAnalysis.filter((t=>"1"===t.chrome===N()&&e(t.mobile))),i={};t.forEach((e=>{const t=`${e.adomain},${e.bidder}`;i[t]=!0})),this._prebidMethods.setBidsReceivedFilter((e=>e.length&&this._config.video.instreamAdUnits.has(e[0].adUnitCode)?e.filter((e=>{var t,s;let n=!0;return null===(s=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains)||void 0===s||s.forEach((t=>{const s=t+","+e.bidder;i[s]&&(n=!1)})),n})):e))}_updateSlotTargeting(e){if(!this._mediaType.outstreamSlots.has(`${e.placementMapName}`))return;const t=this._config.adTypes.enabledMinified.map((e=>e.toLowerCase())).filter((e=>"od"===e||"om"===e));t.length&&this._gam.setSlotTargeting({key:"hi_au",value:t},e.googleTagSlot)}instlEnabled(e){return"Interstitial"===e&&this._config.adOptions.interstitial.prebid}addSlots(e){const t=this._orderedDisplayBidders.map((t=>t.getBidRequests(e))),i=e.filter((e=>"Interstitial"!==e.location||this.instlEnabled(e.location))).sort(((e,t)=>e.auctionPriority-t.auctionPriority)).map((e=>{const i=this.instlEnabled(e.location),s=this._ortb2.addOrtb2Imp({slot:e},i);return this._mediaType.oneStreamExpResult&&this._updateSlotTargeting(e),{code:i?this._config.prebid.interstitialAdUnitCode:e.element.id,mediaTypes:this._mediaType.getMediaType({slot:e}),...s?{ortb2Imp:s}:{},bids:t.map((t=>t.get(e.id))).filter(Ve).reduce(((e,t)=>e.concat(t)),[])}}));return this._prebidMethods.addAdUnits(i),i}_updateAdUnitParams(e){var t;(null===(t=pbjs.adUnits)||void 0===t?void 0:t.length)&&pbjs.adUnits.filter((t=>t.code===e.element.id)).forEach((t=>{const i=this._ortb2.addOrtb2Imp({slot:e});t.ortb2Imp=i,t.mediaTypes=this._mediaType.getMediaType({slot:e})}))}_updateBidParams(e){var t;(null===(t=pbjs.adUnits)||void 0===t?void 0:t.length)&&pbjs.adUnits.filter((t=>{var i;return t.code===e.element.id&&(null===(i=t.bids)||void 0===i?void 0:i.length)})).forEach((t=>{t.bids.forEach((i=>{var s,n;i=null!==(n=null===(s=this._bidderSetup.biddersParams.get(i.bidder))||void 0===s?void 0:s.updateBidParams(e,t,i))&&void 0!==n?n:i}))}))}_updateHighImpactUnitTargeting(){const e=this._gam;Wi.pushToQueue((()=>{const t="hi_au",i=e.getTargetingValuesForKey(t).filter((e=>"od"!==e&&"om"!==e));i.length?e.setTargeting({key:t,value:i}):e.clearTargetingForKey(t)}))}_includeOutstreamWhenNoInstreamVideo(e,t){return this._mediaType.isOutstreamAllowed()&&e.forEach((e=>{this._mediaType.outstreamEnabled(e).outstreamCapable&&t.push(`outstreamEnabled_${e.placementMapName}`)})),t}requestBids(e,t=this._config.timeouts.initialBidsRequest,i=[]){return new Promise((s=>{this.checkLibLoaded().then((n=>{n||s();const r=e.map((e=>this.instlEnabled(e.location)?this._config.prebid.interstitialAdUnitCode:e.element.id));i=this._includeOutstreamWhenNoInstreamVideo(e,i),e.forEach((e=>this._updateBidParams(e))),e.forEach((e=>this._updateAdUnitParams(e))),this._prebidMethods.requestBids({adUnitCodes:r,timeout:t,bidsBackHandler:()=>{Wi.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(r),s()}))},labels:i})})).catch((e=>D.error("PrebidAuctionManager","requestBids",e)))}))}addVideoSlots(e){const t=this._orderedVideoBidders.map((t=>t.getVideoBidRequests(e))),i=e.map((e=>{const i=this._ortb2.addOrtb2Imp({video:e}),s={code:e.name,ortb2Imp:i,mediaTypes:this._mediaType.getMediaType({video:e}),bids:t.map((t=>t.get(e.name))).filter(Ve).reduce(((e,t)=>e.concat(t)),[])};return e.videoAdUnit=s,s}));this._prebidMethods.addAdUnits(i)}requestVideoBids(e,t=this._config.timeouts.initialBidsRequest){const i=e.map((({name:e})=>e));if(i.length>0)return new Promise((e=>{this.checkLibLoaded().then((s=>{s||e(),this._prebidMethods.requestBids({adUnitCodes:i,timeout:t,bidsBackHandler:()=>{Wi.pushToQueue((()=>{this._prebidMethods.setTargetingForGPTAsync(i),e()}))}})})).catch((e=>D.error("PrebidAuctionManager","requestVideoBids",e)))}))}refreshBids(e){return this.requestBids(e,this._config.timeouts.refreshBidsRequest,["refresh"])}checkLibLoaded(){return new Promise((e=>{this._bootstrapConfig.bootstrapLoaders[vt.Prebid].then((()=>e(!0))).catch((()=>e(!1)))}))}get enabled(){return!H()}};wn=M([We("PrebidAuctionManager"),I(),A(0,P("AdThrive")),O("design:paramtypes",[Object,pt,Ni,Wi,Sn,cn,ps,Hi,bn,Cn,Ui,pn,gn,ns,rs])],wn);let kn=class{constructor(e,t,i){this._config=e,this._auctionManagers=[i,t],this._auctionManagers=this._auctionManagers.filter((e=>e.enabled))}init(){this._auctionManagers.forEach((e=>void 0!==e.init&&e.init()))}requestBids(e){return Promise.all(this._auctionManagers.map((t=>t.requestBids(e))))}refreshBids(e){return Promise.all(this._auctionManagers.map((t=>t.refreshBids(e))))}addSlots(e){this._auctionManagers.forEach((t=>{void 0!==t.addSlots&&t.addSlots(e)}))}addVideoSlots(e){this._auctionManagers.filter((e=>e.videoEnabled&&e.addVideoSlots)).forEach((t=>t.addVideoSlots(e)))}requestVideoBids(e,t){return Promise.all(this._auctionManagers.filter((e=>e.videoEnabled)).map((i=>i.requestVideoBids(e,t))))}getAmazonAuctionManager(){for(const e of this._auctionManagers)if(e instanceof ts)return e}};kn=M([We("AuctionManagers"),I(),O("design:paramtypes",[Ni,wn,ts])],kn);let En=class{constructor(e){this._commands=e.cmd||[]}init(){if(this._commands.length>0){for(const e of this._commands){this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}this._commands=[]}}push(e){if(this._commands.length>0)this._commands.push(e);else{this._isGamMethod(e.toString())?this._addToGamQueue(e):this._call(e)}}_call(e){e.call(void 0)}_isGamMethod(e){return e&&(-1!==e.indexOf("setTargeting(")||-1!==e.indexOf("googletag")||-1!==e.indexOf("pubads"))}_addToGamQueue(e){Wi.pushToQueue((()=>{this._call(e)}))}};En=M([I(),A(0,P("AdThrive")),O("design:paramtypes",[Object])],En);class xn{get enabled(){return!0}}let Pn=class{constructor(e,t,i,s){this._auctionManagers=e,this._config=t,this._googleAdManager=i,this._slots=s,this.added=new R,this.cleared=new R,this.displayed=new R,this.displaying=new R,this.refreshed=new R,this.refreshing=new R,this.refreshingBids=new R,this.refreshedBids=new R,this.requestingBids=new R,this.requestedBids=new R,this.refreshInterval=25e3}async add(e){await this._googleAdManager.waitForQueue();const t=this._googleAdManager.defineSlots(this.castArray(e));return t.forEach((e=>{e.setViewability(this._config.marmalade),this._config.clsOptimizedAds.setStyle(e.element,e.location),this.checkForGoogleTestSlot(e)})),this._auctionManagers.addSlots(t),this._slots.add(t),await this.added.emit(t),t}async clear(e){const t=this.castArray(e);return t.forEach((e=>{e.displayed=!1,this.setMinDimensions(e.element)})),this._googleAdManager.clearSlots(t),await this.cleared.emit(t),t}destroy(e){const t=this.castArray(e);return this.pauseRefresh(t),this._slots.remove(t),this._googleAdManager.destroySlots(t),t}rebuild(e){const t=this.castArray(e),i=this._googleAdManager;for(const e of t)Wi.pushToQueue((()=>{const t=["refresh","inf_scroll","decref","nref","hvp","lazy"].reduce(((t,i)=>{const s=e.getTargeting(i);return s.length&&t.push({key:i,value:s}),t}),[]);i.destroySlots(this.castArray(e)),i.defineSlots(this.castArray(e)),e.setTargeting(t)}));return t}async refresh(e,t=!0){const i=this.castArray(e);for(const e of i)e.refreshCount=e.refreshCount+1,e.servedPrebidBidResponse=void 0;return await this.refreshing.emit(i),await Promise.all([!t||K(this._config.timeouts.refreshBidsRequest),this.refreshBids(i)]).then((()=>this._googleAdManager.refreshSlots(i))),await this.refreshed.emit(i),i}async display(e){const t=this.castArray(e);return await this.displaying.emit(t),await this.requestBids(t).then((()=>this._googleAdManager.displaySlots(t))),t.forEach((e=>{e.displayed=!0})),await this.displayed.emit(t),t}inView(e){const t=this.castArray(e);return t.forEach((e=>this.setRefreshTimeout(e))),t}outOfView(e){const t=this.castArray(e);return t.filter((e=>!e.alwaysInView)).filter((e=>"IntersectionObserver"in window?e.outOfViewGPT&&e.outOfViewIO:e.outOfViewGPT)).forEach((e=>{const t=e.element.querySelector("div > iframe");Se(e.element)&&t&&Se(t)&&this.clearRefreshTimeout(e)})),t}pauseRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshTimeout)).forEach((e=>{e.refreshPaused=!0,this.clearRefreshTimeout(e)})),t}resumeRefresh(e){const t=this.castArray(e);return t.filter((e=>e.refreshPaused)).forEach((e=>{e.refreshPaused=!1,this.setRefreshTimeout(e)})),t}updateRefreshTimeout(e,t){const i=this.castArray(e);return i.forEach((e=>{e.refreshInterval=t,e.refreshTimeout&&(this.clearRefreshTimeout(e),this.setRefreshTimeout(e))})),i}clearRefreshTimeout(e,t=!1){this.castArray(e).filter((e=>e.refreshTimeout)).forEach((e=>{window.clearTimeout(e.refreshTimeout),e.refreshTimeout=void 0,t?e.viewableDuration=0:e.viewableSince&&(e.viewableDuration+=(new Date).getTime()-e.viewableSince.getTime())}))}setRefreshTimeout(e){this.castArray(e).filter((e=>!e.refreshTimeout)).filter((e=>!e.disabledRefreshSlot)).forEach((e=>{const t=Q(e.refreshInterval,this.refreshInterval);t>0&&(e.viewableSince=new Date,e.refreshTimeout=window.setTimeout((()=>{e.viewableDuration=0,e.refreshInterval=void 0,e.refreshTimeout=void 0,this.refresh(e).catch((e=>{}))}),t-e.viewableDuration))}))}async requestBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction&&(!e.lazy||this._config.lazyLoad.lzhb)));return t.length>0&&(await this.requestingBids.emit(t),await this._auctionManagers.requestBids(t),await this.requestedBids.emit(t)),t}async refreshBids(e){const t=this.castArray(e).filter((e=>e.enabledForAuction));return t.length>0&&(await this.refreshingBids.emit(t),await this._auctionManagers.refreshBids(t),await this.refreshedBids.emit(t)),t}checkForGoogleTestSlot(e){if(!this._config.marmalade.disableSlotsForGoogleTest)return;const{location:t,sequence:i}=e;"Content"!==t||4!==i&&5!==i||(e.disabledRefreshSlot=!0)}castArray(e){if("string"==typeof e){const t=this._slots.get(e);return void 0!==t?[t]:[]}return Array.isArray(e)?e:[e]}setMinDimensions(e){const t=getComputedStyle(e,null);e.style.minHeight=t.getPropertyValue("height"),e.style.minWidth=t.getPropertyValue("width")}};Pn=M([We("SlotManager"),I(),O("design:paramtypes",[kn,Ni,Wi,Ui])],Pn);let Tn=class{constructor(){this.wasClosed=!1,this.wasStarted=!1,this.totalTimeCollapsed=0}};Tn=M([We("CollapsibleVideoLoggingStore"),I()],Tn);let In=class extends it{constructor(e){super(),this.key="UserPageDataLoggingExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set("upl",this._result?"on":"off")}get result(){return this._result}run(){return new nt(.25).get()}};In=M([We("UserPageDataLoggingExperiment"),I(),O("design:paramtypes",[et])],In);let Mn=class extends it{constructor(){super(),this.key="UserPageDataPrivacyLoggingExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new nt(.1).get()}};Mn=M([We("UserPageDataPrivacyLoggingExperiment"),I(),O("design:paramtypes",[])],Mn);let An=class extends xn{constructor(e,t,i,s,n,r,o,a,l){super(),this._bootstrapConfig=e,this._config=t,this._pageManager=i,this._prebidMethods=s,this._slotManager=n,this._userPageDataLoggingExperiment=r,this._userPageDataPrivacyLoggingExperiment=o,this._userPageDataLogEvents=a,this._collapsibleVideoLoggingStore=l,this._userPrivacyData={},this._getUserData=()=>({device:this._config.context.device,timePageOpen:Pe()-this._config.timing.started,timeOnPage:this._config.timing.totalTimeOnPage,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,video:{nonclose:!this._collapsibleVideoLoggingStore.wasClosed,playerName:this._collapsibleVideoLoggingStore.playerName,totalTimeCollapsed:this._collapsibleVideoLoggingStore.totalTimeCollapsed,wasStarted:this._collapsibleVideoLoggingStore.wasStarted},...this._userPrivacyData,...!this._config.gdpr.enabled&&!this._config.ccpa.userOptedOut&&{uid1:Ne("adserver.org",this._prebidMethods.isPrebidLoaded())}}),this._legacy=1===this._config.impressionLog.enabled}init(){if(!this._legacy){const{reasons:e}=this._config.disableAds;Promise.all([0!==e.size?0:this._slotManager.requestingBids.once().then((()=>Pe())),0!==e.size?0:this._slotManager.requestedBids.once().then((()=>Pe())),0!==e.size?0:this._slotManager.displayed.once().then((()=>Pe())),Me()]).then((([e,t,i])=>this._setTimingData(e,t,i))).catch((e=>D.error("UserPageDataComponent","init",e)))}Ee()&&this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.visibilityChange],(()=>{"hidden"===document.visibilityState&&this._logUserData()})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload,this._pageManager.pageHide],(()=>this._logUserData())),this._logUserPrivacyData().catch((()=>{D.error("_logUserPrivacyData: ","Could not log user privacy.")}))}get enabled(){return this._userPageDataLoggingExperiment.result}_setTimingData(e,t,i){if(window.performance&&window.performance.timing){const s=window.performance.timing;if(s&&0!==s.navigationStart){const n={pageLoad:s.loadEventStart-s.navigationStart,domainLookup:s.domainLookupEnd-s.domainLookupStart,connect:s.connectEnd-s.connectStart,request:s.responseStart-s.requestStart,response:s.responseEnd-s.responseStart,navigation:s.fetchStart-s.navigationStart,domInteractive:s.domInteractive-s.navigationStart,domContentLoaded:s.domContentLoadedEventStart-s.navigationStart};if(Object.keys(n).map((e=>n[e])).every((e=>!isNaN(e)&&e>=0&&e<36e5))){this._config.timing.setPrebidTimingData(this._bootstrapConfig.bootstrapResult);const{reasons:s}=this._config.disableAds;this._timingData={...n,...this._config.timing.timingData,disableAds:s.size>0?[...s].join(","):"none",auctionStarted:e,auctionFinished:t,displayed:i}}}}}_logUserData(){this._userPageDataLogEvents.loggingData.emit().catch(null),this._userPageDataLogEvents.setUserPageData({...!this._legacy&&this._timingData&&{UserPageTimingData:this._timingData},UserPageDataLoggingComponent:this._getUserData()})}async _logUserPrivacyData(){this._userPageDataPrivacyLoggingExperiment.result&&(this._userPrivacyData=await this._getUserPrivacyData())}async _getUserPrivacyData(){return{gpc:"navigator"in window&&"globalPrivacyControl"in window.navigator?window.navigator.globalPrivacyControl:null,dcp:await this._getDataConsent()}}async _getDataConsent(){if("dataConsentPreference"in document)try{return await document.dataConsentPreference()}catch(e){return null}return null}};An=M([We("UserPageDataLoggingComponent"),T(),O("design:paramtypes",[pt,Ni,Ci,Hi,Pn,In,Mn,vi,Tn])],An);let On=class extends it{constructor(){super(),this.key="AdDensityExperiment",this._choices=[{choice:!0},{choice:!1}],this._result=this.run()}get result(){return this._result}run(){return new nt(.25).get()}};On=M([We("AdDensityExperiment"),I(),O("design:paramtypes",[])],On);const zn=()=>window.location.origin+"/"===Rn(window.location.href),Rn=e=>e.split("?")[0];let Bn=class extends xn{constructor(e,t,i,s,n,r,o){super(),this._gam=e,this._config=t,this._adDensityExperiment=i,this._slots=s,this._slotManager=n,this._pageManager=r,this._userPageDataLogEvents=o,this._initialSlotsTimeout=1e4,this._addToMainContent=new Set(["Below_Post"]),this._slotsForAdDensity=new Set(["Content","Recipe","Native_Recipe","Sponsor_Tile","Below_Post","Footer"]),this._mainContent=null,this._commentElem=null,this._heightsRegistered=!1,this._initMainContentHeight=null,this._endMainContentHeight=null,this._slotsHeightLoad=null,this._slotsHeightEnd=null,this._slotsHeightVideo=null,this._slotsForInitial=new Set,this._slotsForMainContent=new Set,this._slotsForEnd=new Set}init(){this._mainContent=(()=>{const e=document.querySelectorAll("article");if(0===e.length)return null;let t=e.item(0);return e.forEach((e=>{e.offsetHeight>t.offsetHeight&&(t=e)})),t&&t.offsetHeight>1.5*window.innerHeight?t:null})(),null!==this._mainContent&&(this._initObserver(this._mainContent),this._gam.slotOnload.on((()=>{this._heightsRegistered||(setTimeout((()=>{this._getSlotHeights()}),this._initialSlotsTimeout),this._heightsRegistered=!0)})),this._slotManager.added.on((e=>{e.some((e=>e.infinite))||this._addSlots(e)})),this._userPageDataLogEvents.addCallbackToQueue([this._pageManager.beforeUnload],(()=>this._logAdDensity())))}_logAdDensity(){const e={...this._initMainContentHeight&&this._slotsHeightLoad&&{addensload:Math.round(this._slotsHeightLoad/this._initMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightEnd&&{addensend:Math.round(this._slotsHeightEnd/this._endMainContentHeight*100)},...this._endMainContentHeight&&this._slotsHeightVideo&&{addensvid:Math.round(this._slotsHeightVideo/this._endMainContentHeight*100)}};Object.keys(e).length>0&&this._userPageDataLogEvents.setUserPageData({AdDensityComponent:e})}_addSlots(e){e.filter((e=>this._slotsForAdDensity.has(e.location))).forEach((e=>{e.lazy||(this._slotsForInitial.add(e.name),this._addToMainContent.has(e.location)&&this._slotsForMainContent.add(e.name)),this._slotsForEnd.add(e.name)}))}isSlotInMainContent(e){var t;return!(!(null===(t=this._mainContent)||void 0===t?void 0:t.querySelector(`#${e.id}`))||this.isSlotInComment(e))}isSlotInComment(e){return!(!this._commentElem||!this._commentElem.querySelector(`#${e.id}`))}_getSlotHeights(){let e=0,t=0;this._slots.get().forEach((i=>{this._slotsForInitial.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightLoad=e,this._mainContent&&(this._initMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._initMainContentHeight+=t)}_initObserver(e){const t=e.querySelector("div #comments, section .comments");this._observer=this.getIntersectionObserver(t),null!==t?(this._commentElem=t,this._observer.observe(this._commentElem)):this._observer.observe(e)}getIntersectionObserver(e){return new IntersectionObserver((t=>{var i,s;for(const n of t)null!==this._initMainContentHeight&&(null===e&&n.boundingClientRect.top<0&&(this._calculateSlotHeightsAtEnd(),null===(i=this._observer)||void 0===i||i.unobserve(this._mainContent)),null!==e&&n.boundingClientRect.top>0&&(this._calculateSlotHeightsAtEnd(),null===(s=this._observer)||void 0===s||s.unobserve(e)))}),{})}_calculateSlotHeightsAtEnd(){let e=0,t=0;if(this._slots.get().forEach((i=>{this._slotsForEnd.has(i.name)&&("Content"!==i.location||this.isSlotInMainContent(i))&&(e+=i.element.offsetHeight),this._slotsForMainContent.has(i.name)&&(t+=i.element.offsetHeight)})),this._slotsHeightEnd=e,this._mainContent&&(this._endMainContentHeight=null!==this._commentElem?this._mainContent.offsetHeight-this._commentElem.offsetHeight:this._mainContent.offsetHeight,this._endMainContentHeight+=t),this._config.video.playlistPlayerAdded){const t=document.querySelector(".adthrive-collapse-player");e+=t?t.offsetHeight:0}if(this._config.video.contextualPlayerAdded){document.querySelectorAll(".adthrive-video-player").forEach((t=>{e+=t.offsetHeight}))}if(this._config.video.sekindoPlayerAdded){const t=document.querySelector(".adthrive-sekindo-player");e+=t?t.offsetHeight:0}this._slotsHeightVideo=e}get enabled(){return this._adDensityExperiment.result&&"IntersectionObserver"in window&&!(null!==document.querySelector("body.home")||null!==document.querySelector("body.archive"))&&!zn()}};Bn=M([We("AdDensityComponent"),T(),O("design:paramtypes",[Wi,Ni,On,Ui,Pn,Ci,vi])],Bn);let Dn=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t}init(){if(this._config.context.querystring.has("ad_test")){const e=this._config.context.querystring.get("ad_test");this._gam.setTargeting({key:"sec",value:e.split(",").map((e=>`test${e}`))})}}};Dn=M([We("AdTestComponent"),T(),O("design:paramtypes",[Ni,Wi])],Dn);let Vn=class extends it{constructor(e){super(),this._result=!1,this.key="bmetrics",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.99).get()}};Vn=M([We("BrandMetricsExperiment"),I(),O("design:paramtypes",[et])],Vn);let Ln=class extends xn{constructor(e,t,i){super(),this._brandMetricsExperiment=e,this._gam=t,this._prebidAuctionManager=i,this._url="https://cdn.brandmetrics.com/tag/aa466d868b2742ffa2cc31bb6341dc12/cafemedia.js"}init(){this._prebidAuctionManager.bidsRequested.once().then((()=>{this._load()}))}get enabled(){return this._brandMetricsExperiment.result}_load(){ce(this._url).then((()=>this._monitorSurvey())).catch((()=>{}))}_monitorSurvey(){window._brandmetrics=window._brandmetrics||[],window._brandmetrics.push({cmd:"_querySurvey",val:{callback:(e,t)=>{e&&t&&t.measurementId&&this._gam.setTargeting({key:"bms",value:[t.measurementId.toString()]})}}})}};Ln=M([We("BrandMetrics"),T(),O("design:paramtypes",[Vn,Wi,wn])],Ln);let Fn=class extends xn{constructor(e){super(),this._config=e}init(){(e=>{const t=document.body,i=`adthrive-device-${e}`;if(!t.classList.contains(i))try{t.classList.add(i)}catch(e){D.error("BodyDeviceClassComponent","init",{message:e.message});const t="classList"in document.createElement("_");D.error("BodyDeviceClassComponent","init.support",{support:t})}})(this._config.context.device)}};Fn=M([We("BodyDeviceClassComponent"),T(),O("design:paramtypes",[Ni])],Fn);let jn=class extends xn{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this.ccpaRequired=this._config.ccpa.required,this.privacyString=this._config.ccpa.privacyString,this.ccpaNotApplicable=this._config.ccpa.ccpaNotApplicable,this.ccpaOptIn=this._config.ccpa.ccpaOptIn,this.ccpaOptOut=this._config.ccpa.ccpaOptOut,this.gpcEnabled=!!this._config.ccpa.gpcEnabled,this.gpcUpdated=!1,this.globalPrivacyControl=window.navigator.globalPrivacyControl}init(){window.__uspapi=this.uspapi.bind(this),this.addLocatorFrame(),this.ccpaRequired?(this.setGpcString(),!0===this.gpcEnabled?this.setPrivacyString(this.ccpaOptOut):this.setPrivacyString(this.ccpaOptIn),this.addOptOutLink(),this.setDeviceAccess()):this.setPrivacyString(this.ccpaNotApplicable)}setPrivacyString(e,t=!1){const i=this.ccpaRequired&&this.privacyString===this.ccpaNotApplicable,s=!this.ccpaRequired&&this.privacyString!==this.ccpaNotApplicable;(""===this.privacyString||!0===t||i||s||this.gpcUpdated)&&(document.cookie=`usprivacy=${e}`,this.privacyString=e)}setGpcString(){null!==this.gpcEnabled&&!1!==this.gpcEnabled||!this.globalPrivacyControl?!0!==this.gpcEnabled||this.globalPrivacyControl||(localStorage.removeItem("adthrive_gpc"),this.gpcEnabled=this.globalPrivacyControl,this.gpcUpdated=!0):(localStorage.setItem("adthrive_gpc",`${this.globalPrivacyControl}`),this.gpcEnabled=!!`${this.globalPrivacyControl}`,this.gpcUpdated=!0)}setDeviceAccess(){const e=this.privacyString===this.ccpaOptIn;this._prebidMethods.setConfig({deviceAccess:e})}addOptOutLink(){const e="Do not sell my personal information.",t="Customize my ad experience.",i=this.privacyString===this.ccpaOptIn?e:t,s=document.createElement("div");s.className="adthrive-ccpa-link",s.innerHTML="Information from your device can be used to personalize your ad experience. <br> ";const n=document.createElement("a");n.innerHTML=i,n.addEventListener("click",(()=>{this.privacyString===this.ccpaOptIn?(this.setPrivacyString(this.ccpaOptOut,!0),n.textContent=t):(this.setPrivacyString(this.ccpaOptIn,!0),n.textContent=e),this._config.ccpa.consentChange.emit(this.privacyString),this.setDeviceAccess()}).bind(this)),s.appendChild(n),this._config.footer.elements.push({order:1,element:s})}uspapi(e,t,i){i({command:e,version:t,uspString:ze("usprivacy")},!0)}addLocatorFrame(){if(null===document.getElementById("__uspapiLocator")){const e=document.createElement("iframe");e.style.display="none",e.id="__uspapiLocator",e.name="__uspapiLocator",document.body.appendChild(e)}}};jn=M([We("CCPAComponent"),T(),O("design:paramtypes",[Ni,Hi])],jn);let Nn=class extends xn{constructor(e){super(),this._config=e}init(){const{comscore:e,comscoreMessage:t}=this._config.comscore;e&&this._config.footer.elements.push({order:2,element:`<span>An Elite ${t} Publisher</span>`})}};Nn=M([We("ComscoreFooterComponent"),T(),O("design:paramtypes",[Ni])],Nn);let qn=class extends it{constructor(e){super(),this._result=!1,this.key="confiant",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"exp":"prod")}get result(){return this._result}run(){return new nt(.1).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],qn.prototype,"run",null),qn=M([We("ConfiantRefreshExperiment"),I(),O("design:paramtypes",[et])],qn);let Un=class extends it{constructor(e){super(),this._result=!1,this.key="cnfep",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(1).get()}};Un=M([We("ConfiantEndpointExperiment"),I(),O("design:paramtypes",[et])],Un);let Hn=class extends xn{constructor(e,t,i){super(),this._config=e,this._confiantRefreshExperiment=t,this._confiantEndpointExperiment=i,this._prodPropertyId="mOinGM9MTu5v-Lto835XLhlrSPY",this._expPropertyId="wyN88rwU6FImxcXgha7IWE-FzsE",this._trackerHoldoutKey="conf"}init(){const e=this._confiantRefreshExperiment.result?this._expPropertyId:this._prodPropertyId,t=this._confiantEndpointExperiment.result?"gpt_and_prebid/config.js":"gpt_and_prebid_v3l/config.js";return ce(`https://confiant-integrations.global.ssl.fastly.net/${e}/${t}`).then((e=>{const t=window.confiant;return t?(t.settings=t.settings||{},t.settings.callback=(e,t,i,s,n,r)=>{const o=$n.get(e);D.event("ConfiantComponent","adBlocked",{blockingTypeIntegerValue:e,blockingType:o?o.type:"unknown",description:o?o.description:"unknown",tagId:n,wrapperId:s,blockingId:t,isBlocked:i})},e):e}))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}};Hn=M([We("ConfiantComponent"),T(),O("design:paramtypes",[Ni,qn,Un])],Hn);const $n=new Map([[1,{type:"manual",description:"Deprecated"}],[2,{type:"creative",description:"Creative-based detection"}],[3,{type:"provider_security",description:"Domain-based detection for unsafe domains"}],[4,{type:"banned_domain",description:"Domain-based detection for bannded domains"}],[5,{type:"provider_ibv",description:"Domain-based detection for in-banner-video"}],[6,{type:"unsafejs",description:"JavaScript-based detection for unsafe ads"}],[7,{type:"hrap",description:"Domain-based detection for high risk ad platform domains"}]]);let Wn=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t,this.debug=!1,this.debug=this._config.context.debug}getConfigTargeting(){const e=this._config,t=this._config.context,i=this.debug;return[...e.gam.targeting,{key:"abgroup",value:e.abGroup.groups},{key:"bucket",value:i?"unsupported":t.bucket},{key:"sens",value:e.site.sensitiveCategories},{key:"domain",value:t.domain},{key:"plugin",value:t.plugin},{key:"hi_au",value:e.adTypes.enabledMinified},{key:"vpwxvph",value:`${window.innerWidth}x${window.innerHeight}`},{key:"ri",value:t.querystring.has("ri")?t.querystring.get("ri"):String(Math.floor(100*Math.random()))},{key:"pvk",value:t.pageviewKey},{key:"sess",value:t.sessionKey},{key:"branch",value:t.branch},{key:"deployment",value:i||t.invalidTraffic?"unsupported":t.deployment},{key:"hbho",value:e.hbho.bidders},{key:"vbho",value:e.vbho.bidders},{key:"gptv",value:googletag.getVersion()}]}getConditionalTargeting(){const e=[],t=this._config.context,i=this._config.site,s=this._config.ccpa;return i.sensCategoriesOff.length&&e.push({key:"sens_off",value:i.sensCategoriesOff}),t.connectionTargeting.length&&e.push({key:"connection",value:t.connectionTargeting}),s.required&&e.push({key:"ccpaOptOut",value:s.userOptedOut?"1":"0"}),e}setConditionalFlagTargeting(){const e=this._config.context;e.invalidTraffic&&this._gam.setTargetingFlag("bot",e.invalidTraffic),e.adsMinLoadDuration&&this._gam.setTargetingFlag("adsmnche",e.adsMinLoadDuration),this._config.adOptions.pmp&&this._gam.setTargetingFlag("pmp_elig",["1"]),this._config.clsOptions&&(this._gam.setTargetingFlag("clson",[!!this._config.clsOptions.injectedFromPlugin+""]),this._gam.setTargetingFlag("clsBranch",[this._config.clsOptions.branch||""]),this._gam.setTargetingFlag("clsBucket",[this._config.clsOptions.bucket||""])),e.integration&&this._gam.setTargetingFlag("integration",[e.integration])}init(){Wi.pushToQueue((()=>{this._gam.setTargeting([...this.getConfigTargeting(),...this.getConditionalTargeting()]),this.setConditionalFlagTargeting()}))}};Wn=M([We("ConfigTargetingComponent"),T(),O("design:paramtypes",[Ni,Wi])],Wn);let Gn=class extends xn{constructor(e,t){super(),this._gam=e,this._slots=t}init(){this._gam.slotRenderEnded.on((e=>this.confirmedClickOverlay(e)))}confirmedClickOverlay({event:e,slot:t}){Wi.pushToQueue((()=>{const{id:i,location:s,sequence:n,nref:r}=t.getTargetingMap(),o=this.confirmedClickStatus(this._slots.get(e.slot.getSlotElementId()));_e({event:e,ignoreOtherCompanyIds:!0})&&o&&D.event("confirmedClickOverlay","status",{id:i,location:s,sequence:n,nref:r,confirmedClick:o})}))}confirmedClickStatus(e){const t=["common_15click_overlay","common_15click_anchor"];try{const i=null==e?void 0:e.element.querySelectorAll("iframe[id^=google_ads_iframe]");let s;return i&&(null==i?void 0:i.length)>0&&(s=i[0]),t.some((e=>{var t;return null!=(null===(t=null==s?void 0:s.contentDocument)||void 0===t?void 0:t.getElementById(e))}))}catch(e){D.error("ConfirmedClickComponent","confirmedClickStatus",e)}return!1}};Gn=M([We("ConfirmedClicksComponent"),T(),O("design:paramtypes",[Wi,Ui])],Gn);let Qn=class extends xn{constructor(e,t,i){super(),this._config=e,this._gam=t,this._slotManager=i,this._device=this._config.context.device}init(){const e=this._slotManager;this._gam.slotRenderEnded.on((({event:t,slot:i})=>{this.isDeclaredRefreshCompliantSlot(i)&&_e({event:t})&&e.updateRefreshTimeout(i.id,24e4)})),e.added.on((e=>e.forEach((e=>{this.isDeclaredRefreshCompliantSlot(e)&&Wi.pushToQueue((()=>{e.setTargeting({key:"decref",value:"240"})}))}))))}isDeclaredRefreshCompliantSlot(e){return"Sidebar"===e.location&&("phone"===this._device||"tablet"===this._device)||"Header"===e.location&&2===e.sequence&&("phone"===this._device||"tablet"===this._device)}};Qn=M([We("DeclaredRefreshComponent"),T(),O("design:paramtypes",[Ni,Wi,Pn])],Qn);class Kn{constructor(){this._totalContentInserted=0,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._firstContentDiv=null,this._totalAvailableElements=0,this._densityDevice=bt.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this.locationMaxLazySequence=new Map([["Recipe",5],["Below_Post",1]])}inject(e,t=document){window.adthriveCLS&&window.adthriveCLS.targetDensityLog&&D.event("BaseDynamicAdsInjector","_logDensityInfo",window.adthriveCLS.targetDensityLog);const i=this._config.targetDensity.enabled,s=e.filter((e=>i?"Content"!==e.location:e)),n=e.filter((e=>i?"Content"===e.location:null));return[...s.length?this._injectNonDensitySlots(s,t):[],...n.length?this._injectDensitySlots(n,t):[]]}_injectNonDensitySlots(e,t=document){const i=[];for(const s of e){let e=0,n=0,r=0;s.spacing>0&&(e=window.innerHeight*s.spacing,n=e);const o=this._repeatDynamicAds(s),a=this.getElements(s.elementSelector,t);s.skip;for(let l=s.skip;l<a.length&&!(r+1>o.length);l+=s.every){let d=a[l];if(e>0){const{bottom:t}=Y(d);if(t<=n)continue;n=t+e}const c=o[r],h=`${c.location}_${c.sequence}`;if(i.some((e=>e.name===h))){r+=1;continue}const p=this.getDynamicElementId(c),u=`adthrive-${s.location.replace("_","-").toLowerCase()}`,g=[u,`${u}-${s.sequence}`,...s.classNames],_=this.addAd(d,p,s.position,g,s.location);if(_){const e=this._filterAdUnitSizes(c,_);e.length&&(i.push(this.createSlot(c,_,e,t!==document)),"Recipe"===s.location&&++this._recipeCount,r+=1),d=_}}}return i}_getMinDivHeight(e="Content"){return this._config.clsOptimizedAds.getDivHeight(e,this._config.context.device)}_shouldTargetAllElgibile(e){return e===this._densityMax}_injectDensitySlots(e,t=document){try{this._calculateMainContentHeightAndAllElements(e)}catch(e){return[]}this._densityDevice="desktop"===this._config.context.device?bt.Desktop:bt.Mobile;const i=[],{adDensity:s,onePerViewport:n}=this._getDensitySettings(),r=this._shouldTargetAllElgibile(s),o=this._getTargetDensityUnits(s),a=this._getCombinedMax(e),l=Math.min(this._totalAvailableElements,o,...a>0?[a]:[]);if(this._pubLog={onePerViewport:n,targetDensity:s,targetDensityUnits:o,combinedMax:a},!l)return[];let d=0,c=0;for(const s of e){const e=this.getElements(s.elementSelector,t),h=this._getInsertEvery(l,n);this._logDensityInfo(e,s.elementSelector,h);const p=e=>{let o=null;({insertNext:c,slot:o}=this._attemptInsertion({dynamicAd:s,element:e,insertNext:c,onePerViewport:n,contentInsertedThisPage:d,target:t,insertEvery:h,targetAll:r})),o&&(i.push(o),++d)};s.skip;for(let t=s.skip;t<e.length;t++){const i=e[t];if(!(i.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements>1)){if(!(d<a&&d<o))break;p(i)}}}return i}_getInsertEvery(e,t){const i=.43*this._mainContentHeight/e;return t&&window.innerHeight>i?window.innerHeight:i}_getDensitySettings(){const e=this._config.targetDensity.settings,t=this._determineOverrides(e.pageOverrides);return t.length?t[0]:e[this._densityDevice]}_determineOverrides(e){return e.filter((e=>{const t=Ue(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((e=>e[this._densityDevice]))}_getTargetDensityUnits(e){return Math.floor(e*this._mainContentHeight/(1-e)/this._getMinDivHeight())-this._recipeCount}_getCombinedMax(e){return Q(e.filter((e=>{let t;try{t=document.querySelector(e.elementSelector)}catch(e){}return t})).map((e=>e.max+(e.lazyMaxDefaulted?0:e.lazyMax))).sort(((e,t)=>t-e))[0],0)}_logDensityInfo(e,t,i){const{onePerViewport:s,targetDensity:n,targetDensityUnits:r,combinedMax:o}=this._pubLog;this._totalAvailableElements,D.event("BaseDynamicAdsInjector","_logDensityInfo",{onePerViewport:s,combinedMax:o,targetDensityUnits:r,targetDensityPercentage:n,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:e.length})}_attemptInsertion({dynamicAd:e,element:t,insertNext:i,onePerViewport:s,contentInsertedThisPage:n,target:r,insertEvery:o,targetAll:a}){let l=null;if(this._isElementSpacedCorrectly(t,i,s,e,a,o)){const s={...e,sequence:this._totalContentInserted+1,lazy:e.lazy&&n>=e.max};({insertedSlot:l,insertNext:i}=this._addContentAd(t,s,r,o))}return{insertNext:i,slot:l}}_isElementSpacedCorrectly(e,t,i,s,n,r){const o="beforebegin"===s.position||"afterbegin"===s.position,a="beforeend"===s.position||"afterbegin"===s.position,l=n||this._isElementFarEnough(i,e,t,o,r),d=a||this._isElementNotInRow(e,o),c=l&&d;return c&&(this._lastElement=e,this._lastAdPosition="beforebegin"===s.position||"afterbegin"===s.position?"top":"bottom"),c}_getMinimumSpacingByLastInjection(e){return this._lastAdPosition&&"bottom"===this._lastAdPosition&&e<this._getMinDivHeight()?this._getMinDivHeight():0}_isElementFarEnough(e,t,i,s,n){const r=Y(t),o=this._getMinimumSpacingByLastInjection(n),a=this._lastElement?Y(this._lastElement).bottom:0,l=s?r.top:r.bottom;return l>i&&(0===a||l-a>=n+o)}_isElementNotInRow(e,t){const i=e.previousElementSibling,s=e.nextElementSibling,n=t?!i&&s||i&&e.tagName!==i.tagName?s:i:s;return!(!n||0!==e.getBoundingClientRect().height)||(!n||e.getBoundingClientRect().top!==n.getBoundingClientRect().top)}_calculateMainContentHeightAndAllElements(e){const{mainContentDiv:t,firstContentDiv:i}=this._setMainContentAndElements(e);this._mainContentDiv=t,this._firstContentDiv=i;const s=this._mainContentDiv.querySelector("div #comments, section .comments");this._mainContentHeight=s?this._mainContentDiv.offsetHeight-s.offsetHeight:this._mainContentDiv.offsetHeight}_setMainContentAndElements(e){const t=this._getPotentialElements(e);if(0===t.length)throw Error("No Main Content Elements Found");return{mainContentDiv:Array.from(t).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e))||document.body,firstContentDiv:Array.from(t).reduce(((e,t)=>Y(t).top<Y(e).top?t:e))}}_getPotentialElements(e){const t=this._attemptArticleLookup(),i=t?[t]:[];return e.forEach((e=>this._getSelectors(e.elementSelector).forEach((e=>{const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++)t[e]&&t[e].parentElement&&t[e].parentElement!==document.body?i.push(t[e].parentElement):i.push(t[e]),++this._totalAvailableElements})))),i}_attemptArticleLookup(){const e=document.querySelectorAll("article");if(0===e.length)return null;const t=Array.from(e).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e));return t&&t.offsetHeight>1.5*window.innerHeight?t:null}_getSelectors(e){return e.indexOf(",")>-1?e.split(","):[e]}_addContentAd(e,t,i=document,s){let n=null;const r=`adthrive-${t.location.replace("_","-").toLowerCase()}`,o=`${r}-${t.sequence}`,a=this.addAd(e,this.getDynamicElementId(t),t.position,[r,o,...t.classNames],t.location),l=this._getNextInsertPosition(t.position,a,s);if(a){const e=this._filterAdUnitSizes(t,a);e.length&&(n=this.createSlot(t,a,e,i!==document),++this._totalContentInserted)}return{insertedSlot:n,insertNext:l}}_getNextInsertPosition(e,t,i){const s=t.getBoundingClientRect(),n=window.pageYOffset;return("beforebegin"===e||"afterbegin"===e?s.top:s.bottom)+n+i-this._getMinDivHeight()}getElements(e,t=document){return t.querySelectorAll(e)}_filterAdUnitSizes(e,t){const i=(e=>{let t=e.clientWidth;if(getComputedStyle){const i=getComputedStyle(e,null);t-=parseFloat(i.paddingLeft||"0")+parseFloat(i.paddingRight||"0")}return t})(t),s=e.sticky&&"Sidebar"===e.location;return e.sizes.filter((t=>{const n=!e.autosize||(t[0]<=i||t[0]<=320),r=!s||t[1]<=window.innerHeight-100;return n&&r}))}createSlot({location:e,sequence:t,sticky:i,lazy:s,stickyOverlapSelector:n,special:r,auctionPriority:o},a,l,d){return new qi(e,t,l,a,i,s,o,n,r,!0,d)}_repeatDynamicAds(e){const t=[],i=e.lazy?Q(this.locationMaxLazySequence.get(e.location),0):0,s=e.max,n=0===i&&e.lazy?s+e.lazyMax:Math.min(Math.max(i-e.sequence+1,0),s+e.lazyMax),r=Math.max(s,n);for(let i=0;i<r;i++){const n=e.sequence+i,r=e.lazy&&i>=s;t.push({...e,sequence:n,lazy:r})}return t}addAd(e,t,i,s=[],n){var r;let o=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;if("Video_StickyOutstream"===n){o=`<div class="adthrive-sticky-outstream adthrive-sticky-outstream-${t.indexOf("phone")>-1?"mobile":"desktop"}">`+o+"</div>"}return(null===(r=window.adthriveCLS)||void 0===r?void 0:r.injectedSlots.some((e=>e.element.id===t)))||e.insertAdjacentHTML(i,o),document.getElementById(t)}}let Xn=class extends Kn{constructor(e){super(),this._config=e}getDynamicElementId(e){return`${this._config.gam.prefix}_${e.location}_${e.sequence}_${this._config.context.device}`}};Xn=M([We("DynamicAdsInjector"),T(),O("design:paramtypes",[Ni])],Xn);let Jn=class extends xn{constructor(e,t,i,s){super(),this._config=e,this._injector=t,this._slotManager=i,this._gam=s}hasClsInjectedContent(){if(window.adthriveCLS&&window.adthriveCLS.injectedSlots.length)for(const e of window.adthriveCLS.injectedSlots)if(-1!==e.name.indexOf("Content"))return!0;return!1}start(){const e=this.hasClsInjectedContent(),t=this._config.dynamicAds.filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((t=>!e||e&&"Content"!==t.location)).filter((e=>"Interstitial"===e.location||"Video_StickyOutstream"===e.location?this.forPageBlocks(e.pageSelector):this.forPage(e))).filter((e=>!this.pluginInjected(e))).filter((e=>"Video_StickyOutstream"!==e.location||!this.shouldFilterStickyOutstream()));let i=this._injector.inject(t);if(this._config.clsOptions&&this._config.clsOptions.enabled){const e=[];this._config.clsOptions.injectedSlots.forEach((t=>{i.some((e=>e.name===t.name))||e.push(this._injector.createSlot(t.dynamicAd,t.element,t.sizes,t.infinite))})),i=i.concat(e)}this._slotManager.add(i).catch((e=>{D.error("DynamicAdsComponent","start","add",e)}))}get enabled(){return this._config.dynamicAds.length>0}shouldFilterStickyOutstream(){return!!(this._config.video.preventStickyOutstream||this._config.disableAds.video||zn())||(this._config.video.hasStickyOutstream=!0,!1)}pluginInjected(e){const t=JSON.stringify(e);return this._config.clsOptions&&this._config.clsOptions.injectedSlots.some((e=>JSON.stringify(e.clsDynamicAd)===t))}forDevice(e,t){return-1!==e.devices.indexOf(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}forPageBlocks(e){return 0===e.length||!e.split(",").some((e=>null!==document.querySelector(e)))}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};Jn=M([We("DynamicAdsComponent"),T(),O("design:paramtypes",[Ni,Xn,Pn,Wi])],Jn);let Yn=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t}init(){this._gam.slotOnload.once().then((()=>this.refreshExternal())).catch((e=>{D.error("ExternalSlotsComponent","init",e)}))}refreshExternal(){Wi.pushToQueue((()=>{const{account:e}=this._config.gam,t=googletag.pubads().getSlots().filter((t=>null===RegExp(`^/?${e}/`).exec(t.getAdUnitPath()))).filter((e=>null!==document.getElementById(e.getSlotElementId())));t.length&&googletag.pubads().refresh(t)}))}};Yn=M([We("ExternalSlotsComponent"),T(),O("design:paramtypes",[Ni,Wi])],Yn);let Zn=class extends xn{constructor(e){super(),this._gam=e}init(){const e=this.isFirstPageview()?"1":"0";this.setFPV(e)}setFPV(e="0"){+e&&localStorage.setItem("adthrive_fpv",(new Date).toString()),this._gam.setTargeting({key:"fpv",value:e})}isFirstPageview(){let e=0;try{const t=localStorage.getItem("adthrive_fpv");if(t&&(e=Date.now()-Date.parse(t)),!t||e>864e5)return!0}catch(e){}return!1}};Zn=M([We("FirstPageviewComponent"),T(),O("design:paramtypes",[Wi])],Zn);let er=class{constructor(e){this._auctionManagers=e,this.refreshingVideoBids=new R,this.requestingVideoBids=new R,this.requestingSekindoBids=new R}addVideoSlots(e){this._auctionManagers.addVideoSlots(e)}async requestVideoBids(e,t){await this.requestingVideoBids.emit(e).catch(),await this._determineIsRefreshing(e).catch(),await this._auctionManagers.requestVideoBids(e,t)}async _determineIsRefreshing(e){const t=e.filter((e=>e._prerollNum>0));t.length&&await this.refreshingVideoBids.emit(t)}};er=M([We("VideoRequestManager"),I(),O("design:paramtypes",[kn])],er);let tr=class extends xn{constructor(e,t,i,s,n,r){super(),this._slotManager=e,this._config=t,this._prebidMethods=i,this._videoRequestManager=s,this._ortb2=n,this._irisTv=r}init(){this._slotManager.added.once().then((()=>{this.setBidderSpecificFpd({bidders:["rubicon"],fpdData:{refresh:["false"],vp:"0"}}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["triplelift","tripl_ss"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["yahoossp"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1}),this._config.site.filteredSensitiveCategories.length&&this.setBidderSpecificFpd({bidders:["yahoossp"],fpdData:{sens:this._config.site.filteredSensitiveCategories},addStaticFpd:!1})})).catch((()=>{})),this._slotManager.refreshing.once().then((()=>{this.setBidderSpecificFpd({bidders:["rubicon"],fpdData:{refresh:["true"],vp:"0"}}),this._prebidMethods.addToQueue((()=>{this.setIXRefresh()}))})).catch((()=>{})),this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((()=>{const e=this._irisTv,t=e.irisContextualData;t&&t.length&&this.setBidderSpecificFpd({bidders:["pubmatic","pubm_ss"],fpdData:{content:{id:e.irisId}},addStaticFpd:!1,isExtData:!1})}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{e.forEach((e=>{e.vp>0&&e._prerollNum<=10&&(this.setBidderSpecificFpd({bidders:["rubicon"],fpdData:{refresh:["true"],vp:e.vp.toString()}}),this._prebidMethods.addToQueue((()=>{this.setIXVPParam(e.vp)})))}))}))}setBidderSpecificFpd({bidders:e,fpdData:t,addStaticFpd:i=!0,location:s="site",isExtData:n=!0}){const r={...i&&{...this._ortb2._staticFirstPartyData},...t},o=n?{ext:{data:r}}:r;this._prebidMethods.setBidderConfig({bidders:e,config:{ortb2:{[s]:o}}})}setIXRefresh(){const e=this._prebidMethods.getConfig("ix");e&&e.firstPartyData&&"True"!==e.firstPartyData.Refresh&&ue({Refresh:"True"},this._prebidMethods)}setIXVPParam(e){const t=this._prebidMethods.getConfig("ix");t&&t.firstPartyData&&e>0&&ue({vp:e.toString()},this._prebidMethods)}};tr=M([We("FirstPartyDataComponent"),T(),O("design:paramtypes",[Pn,Ni,Hi,er,gn,$s])],tr);let ir=class extends xn{constructor(e,t,i,s){super(),this._slotManager=e,this._prebidMethods=t,this._floors=i,this._floorsExperiment=s,this._percentile=0,this._sessionPercentile=0,this._contentCpms=[],this._percentile=this._floorsExperiment.result.percentile.lazy,this._sessionPercentile=this._floorsExperiment.result.percentile.session}init(){this._slotManager.requestingBids.on((e=>{const t=this._floors.getDefaultFloorConfig();e.filter((e=>"Content"===e.location&&e.lazy)).forEach((e=>{const i=xe(this._contentCpms,this._percentile);this._floors.setValues(t,e.id,i)})),this._floors.setLegacyFloorsConfig(t)})),this._slotManager.requestedBids.on((e=>{e.filter((e=>"Content"===e.location)).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveBids(e)}))}))}))}saveBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((e=>{this._contentCpms.push(e.cpm)}))}get enabled(){return Boolean(this._percentile)&&(!0===ie("session_fpv")||!this._sessionPercentile)&&!0===this._floorsExperiment.result.legacy}};ir=M([We("FloorsLazyContentComponent"),T(),O("design:paramtypes",[Pn,Hi,Zi,Yi])],ir);let sr=class extends xn{constructor(e,t,i,s,n){super(),this._slotManager=e,this._floors=t,this._prebidMethods=i,this._videoRequestManager=s,this._floorsExperiment=n}init(){this._slotManager.refreshing.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>e.id)))}))})),this._videoRequestManager.refreshingVideoBids.on((e=>{this._prebidMethods.addToQueue((()=>{this._setRefreshFloors(e.map((e=>{var t;return null===(t=e.videoAdUnit)||void 0===t?void 0:t.code})))}))}))}_setRefreshFloors(e){const t=this._floors.getDefaultFloorConfig();for(const i of e){const[e]=this._prebidMethods.getHighestCpmBids(i),s=null==e?void 0:e.cpm;s&&this._floors.setValues(t,i,s)}this._floors.setLegacyFloorsConfig(t)}get enabled(){return!0===this._floorsExperiment.result.legacy}};sr=M([We("FloorsRefreshComponent"),T(),O("design:paramtypes",[Pn,Zi,Hi,er,Yi])],sr);let nr=class extends xn{constructor(e,t,i,s,n){super(),this._floors=e,this._floorsExperiment=t,this._gam=i,this._prebidMethods=s,this._slots=n,this.baseUrl="https://ads.adthrive.com/api/v2/host/floors/",this._modalVersionMap=new Map([])}init(){this.setSlotTargeting(),this.getRubiconFloorData().then((e=>{this.buildFloorsMap(e.modelGroups),this._floors.rubiconData=e,this._floors.setPrebidFloors(e)})).catch((e=>{D.error("RubiconFloorsComponent","getRubiconFloorData",e)}))}buildFloorsMap(e){e.forEach(((e,t)=>{this._modalVersionMap.set(e.modelVersion,t)}))}async getRubiconFloorData(){return new Promise(((e,t)=>{const i=new XMLHttpRequest;i.open("get",`${this.baseUrl}${window.location.hostname}`),i.addEventListener("load",(()=>200!==i.status?t(new Error(`Error status: ${i.status} response: ${i.responseText}`)):e(JSON.parse(i.responseText)))),i.addEventListener("error",(()=>t(new Error("Request failed")))),i.send()}))}setSlotTargeting(){this._prebidMethods.onEvent("auctionEnd",(e=>{const t=e.adUnitCodes[0],i=e.adUnits[0].bids[0].floorData;if(i){const e=this._slots.get(),s=i.skipped,n=i.modelVersion,r=s?"s":`${this._modalVersionMap.get(n)}`;e.forEach((e=>{e.id===t&&e.setSlotTargetingFlag("rfmv",[r],!0)}))}}))}get enabled(){return!0===this._floorsExperiment.result.rubicon}};nr=M([We("FloorsRubiconComponent"),T(),O("design:paramtypes",[Zi,Yi,Wi,Hi,Ui])],nr);let rr=class extends xn{constructor(e,t,i,s){super(),this._slotManager=e,this._floors=t,this._prebidMethods=i,this._floorsExperiment=s,this._percentile=0,this._rdx=33;const n=ie("bc");this._savedBids=n?Te(n,this._rdx):{Content:[],Recipe:[],Header:[],Below_Post:[],Sidebar:[],Footer:[]}}init(){if(this._percentile=this._floorsExperiment.result.percentile.session,!1===ie("session_fpv")){const e=this._floors.getDefaultFloorConfig();this._slotManager.requestingBids.on((t=>{t.filter((e=>-1!==Object.keys(this._savedBids).indexOf(e.location))).forEach((t=>{const i=xe(this._savedBids[t.location],this._percentile);this._floors.setValues(e,t.id,i)})),this._floors.setLegacyFloorsConfig(e)}))}this.saveBids()}saveBids(){this._slotManager.requestedBids.on((e=>{e.filter((e=>-1!==Object.keys(this._savedBids).indexOf(e.location))).forEach((e=>{this._prebidMethods.addToQueue((()=>{this.saveSlotBids(e)}))})),se("bc",Ie(this._savedBids,this._rdx))}))}saveSlotBids(e){this._prebidMethods.getBidResponsesForAdUnitCode(e.id).bids.forEach((t=>{var i,s;i=this._savedBids[e.location],s=1e3,i.length>=s&&i.splice(Math.floor(Math.random()*i.length),1),this._savedBids[e.location].push(t.cpm)}))}get enabled(){return Boolean(this._percentile)&&!0===this._floorsExperiment.result.legacy}};rr=M([We("FloorsSessionComponent"),T(),O("design:paramtypes",[Pn,Zi,Hi,Yi])],rr);let or=class extends xn{constructor(e,t,i,s,n){super(),this._prebidMethods=n,this._floorsComponents=[e,t,i,s].filter((e=>e.enabled))}init(){this._floorsComponents.forEach((e=>void 0!==e.init&&e.init()))}};or=M([T(),O("design:paramtypes",[ir,sr,nr,rr,Hi])],or);let ar=class extends xn{constructor(e){super(),this._config=e}start(){if(this._config.footer.elements.length){const e=document.createElement("div");e.className="adthrive-comscore adthrive-footer-message",this._config.footer.elements.sort(((e,t)=>e.order-t.order)).forEach((({element:t})=>{t instanceof Element?e.insertAdjacentElement("beforeend",t):e.insertAdjacentHTML("beforeend",t)}));const t=""===this._config.adOptions.footerSelector?".adthrive-mobile #page-wrapper":this._config.adOptions.footerSelector;(document.querySelector(t)||document.body).insertAdjacentElement("beforeend",e)}}};ar=M([We("FooterComponent"),T(),O("design:paramtypes",[Ni])],ar);let lr=class extends xn{constructor(e){super(),this._slotManager=e}init(){this._slotManager.refreshing.on((e=>{const t=e.filter((e=>"Footer"===e.location)),i=window.GUMGUM&&window.GUMGUM.isad;t&&i&&window.GUMGUM.removeISAd()}))}};lr=M([We("GumGumInScreenComponent"),T(),O("design:paramtypes",[Pn])],lr);let dr=class{constructor(){this._elements=[],this._emailProviderOnPage=!1,this._emailProviders=[{divSelector:'div[id$="-optin"]'},{divSelector:'div[class^="cb-form-group"]'},{divSelector:"div.sumo-form-wrapper.listbuilder-popup"}],this.emailCaptured=new R,this._emailCheckTimeout=1500,this._eventMap=new Map([["mousemove",window],["scroll",window],["mouseleave",document],["om.Campaign.startShow",document]]),this._boundCallEventHandler=this.callCheckEmailProviders.bind(this),this._boundProcessEventHandler=this.processInputChange.bind(this),this.addElementListeners(),this.addEmailProviderListeners()}addEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.addEventListener(t,this._boundCallEventHandler)}))}removeEmailProviderListeners(){this._eventMap.forEach(((e,t)=>{e.removeEventListener(t,this._boundCallEventHandler)}))}callCheckEmailProviders(e){("mouseleave"!==e.type||e.clientY<=0)&&setTimeout((()=>{this._emailProviderOnPage||this.emailProviderHandler()}),this._emailCheckTimeout)}emailProviderHandler(){for(const e of this._emailProviders){if(document.querySelectorAll(e.divSelector).length){this.removeEmailProviderListeners(),this._emailProviderOnPage=!0,this.addElementListeners();break}}}setElements(){this._elements=Array.prototype.slice.call(document.querySelectorAll("input[type=text], input[type=email], input[name=email]"))}addElementListeners(){this.setElements();for(const e of this._elements)e.addEventListener("blur",this._boundProcessEventHandler),e.addEventListener("change",this._boundProcessEventHandler)}removeElementListeners(){for(const e of this._elements)e.removeEventListener("blur",this._boundProcessEventHandler),e.removeEventListener("change",this._boundProcessEventHandler)}processInputChange(e){const t=e.target.value,i=Z(t);i&&(this.emailCaptured.emit({email:i,source:"ecc"}).catch((()=>{})),this.removeElementListeners())}};dr=M([We("EmailCaptureHandler"),I(),O("design:paramtypes",[])],dr);let cr=class extends xn{constructor(e){super(),this._config=e}init(){this.addPrivacyPreferencesFooter()}addPrivacyPreferencesFooter(){this._config.footer.elements.push({order:1,element:'\n      <div class="adthrive-privacy-preferences">\n        <a href="javascript:adthrive.cmd.push(adthrive.showPrivacyPreferences);">Update Privacy Preferences</a>\n      </div>\n    '})}};cr=M([We("GDPRComponent"),T(),O("design:paramtypes",[Ni])],cr);let hr=class{constructor(){this.consentCaptured=new R}};hr=M([I()],hr);let pr=class extends xn{constructor(e,t){super(),this._events=e,this._config=t}init(){D.queueLogs=!0,this.checkConsent().then((e=>{e?(this._events.consentCaptured.emit(e).catch((()=>{})),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):D.disableLogging=!0})).catch((e=>{D.error("init","checkConsentForVendor",e)}))):this.listenForConsentSubmit().catch((e=>{D.error("init","listenForConsentSubmit",e)}))})).catch((e=>{D.error("init","checkConsent",e)}))}checkConsent(){return new Promise((e=>{window.__tcfapi("getTCData",2,((t,i)=>i&&t&&t.tcString?e(t.tcString):e("")))}))}checkConsentForVendor(e,t){return new Promise((i=>{window.__tcfapi("checkConsent",2,((e,t)=>i(!!t&&e)),{data:[{vendorId:e,purposeIds:t}]})}))}listenForConsentSubmit(){return new Promise((e=>{window.__tcfapi("addEventListener",2,((t,i)=>{i&&(t&&"useractioncomplete"===t.eventStatus&&(this._events.consentCaptured.emit(t.tcString).catch((()=>{})),this.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[7]).then((e=>{e?D.queueLogs&&D.clearLogQueue(!0):(D.disableLogging=!0,D.clearLogQueue(!1))})).catch((e=>{D.error("listenForConsentSubmit","checkConsentForVendor",e)})),window.__tcfapi("removeEventListener",2,(e=>{}),t.listenerId)),e(!0)),e(!1)}))}))}get enabled(){return"function"==typeof window.__tcfapi}};pr=M([We("GDPREnforcementComponent"),T(),O("design:paramtypes",[hr,Ni])],pr);let ur=class extends xn{constructor(e,t,i){super(),this._emailCaptureHandler=e,this._config=t,this._gdprEnforcement=i,this._hasRun=!1}init(){this._config.identityApi.optIn.on((({data:e,cb:t})=>this.identityOptIn(e,t).catch((()=>{})))),window.addEventListener("message",(e=>{if(window===window.top&&e&&e.origin===window.origin&&e.data&&"adthriveIdentityAPI"===e.data.message&&e.data.info){const t={message:"adthriveIdentityFinished",response:{}};this.identityOptIn(e.data.info,(i=>{var s;e.source instanceof MessagePort||e.source instanceof ServiceWorker||(t.response=i,null===(s=e.source)||void 0===s||s.postMessage(t,e.origin))})).catch((()=>{}))}}),!1)}start(){this._config.identityApi.apiReady.emit().catch((()=>{}))}validateData(e){if(!e.source||"string"!=typeof e.source||e.source.length>20)throw Error("source required with 20 characters or less");if(!e.plainText&&!e.sha256)throw Error("plainText or sha256 required");if(e.plainText&&("string"!=typeof e.plainText||!Z(e.plainText)))throw Error(`plainText not string or not valid email: ${e.plainText}`);if(e.sha256&&("string"!=typeof e.sha256||64!==e.sha256.length))throw Error(`sha256 not string or not encoded properly: ${e.sha256}`)}buildPII(e){const t={source:e.source};return e.plainText&&(t.email=e.plainText),e.sha256&&(t.hash=e.sha256),t}async identityOptIn(e,t){try{if(!this._config.identityApi.enabled)throw Error("Identity API not enabled");if(this._hasRun)throw Error("Identity API Already Successfully Called");if(this._config.ccpa.userOptedOut)throw Error("User has opted out of CCPA");if(this._config.gdpr.enabled){if(!await this._gdprEnforcement.checkConsentForVendor(this._config.gdpr.cafeMediaVendorId,[1]))throw Error("CafeMedia not given Purpose 1 consent to process identity data.")}this.validateData(e);const i=this.buildPII(e);this._emailCaptureHandler.emailCaptured.emit(i).catch((()=>{})),t({success:!0,data:{message:"OK"}}),this._hasRun=!0}catch(e){t({success:!1,data:{message:e.message}})}}};ur=M([We("IdentityAPIComponent"),T(),O("design:paramtypes",[dr,Ni,pr])],ur);let gr=class extends xn{constructor(e,t,i){super(),this._config=e,this._gam=t,this._slotManager=i,this._renderedSlotKey=new Map,this._filterKeys=new Set(["abgroup","pvk","bucket","branch","deployment","siteName","siteId"]),this._host="dev-track.adthrive.com",this._enabled=this._config.impressionLog.enabled}init(){if(this._gam.slotRenderEnded.on((e=>this.slotRenderEnded(e))),1===this._enabled){const{reasons:e}=this._config.disableAds;Promise.all([0!==e.size?0:this._slotManager.requestingBids.once().then((()=>Pe())),0!==e.size?0:this._slotManager.requestedBids.once().then((()=>Pe())),0!==e.size?0:this._slotManager.displayed.once().then((()=>Pe())),Me()]).then((([e,t,i])=>this.logTiming(e,t,i))).catch((e=>D.error("EventLogComponent","init",e)))}}get enabled(){return!!this._enabled}slotRenderEnded({event:e,slot:t}){const i=1===this._enabled,s=e.slot.getAdUnitPath(),n=Ze();this._renderedSlotKey.set(s,n);const r={adUnitPath:s,advertiserId:e.advertiserId,agnosticCreativeId:e.sourceAgnosticCreativeId,agnosticLineItemId:e.sourceAgnosticLineItemId,campaignId:e.campaignId,companyIds:e.companyIds,creativeId:e.creativeId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,serviceName:e.serviceName,siteTargeting:i?JSON.stringify(this._gam.getTargetingMap()):this.filterTargeting(this._gam.getTargetingMap()),size:e.size,slotElementId:t.id,slotKey:n,slotTargeting:i?JSON.stringify(t.getTargetingMap()):this.filterTargeting(t.getTargetingMap()),yieldGroupIds:e.yieldGroupIds};i?this.pixel(this._host,"/impression.gif",r):this.logImpressionEvent(r)}filterTargeting(e){return Object.keys(e).filter((t=>!this._filterKeys.has(t)&&e[t].length)).reduce(((t,i)=>(t[i]=e[i],t)),{})}logImpressionEvent(e){D.event("SlotRenderEnded","adImpression",e)}logTiming(e,t,i){window.performance&&window.performance.timing&&setTimeout((()=>{const s=window.performance.timing;if(s&&0!==s.navigationStart){const n={pageLoad:s.loadEventStart-s.navigationStart,domainLookup:s.domainLookupEnd-s.domainLookupStart,connect:s.connectEnd-s.connectStart,request:s.responseStart-s.requestStart,response:s.responseEnd-s.responseStart,navigation:s.fetchStart-s.navigationStart,domInteractive:s.domInteractive-s.navigationStart,domContentLoaded:s.domContentLoadedEventStart-s.navigationStart};if(Object.keys(n).map((e=>n[e])).every((e=>!isNaN(e)&&e>=0&&e<36e5))){const{reasons:s}=this._config.disableAds;this.pixel(this._host,"/timing.gif",{...n,...this._config.timing,disableAds:s.size>0?[...s].join(","):"none",auctionStarted:e,auctionFinished:t,displayed:i})}}}),0)}pixel(e,t,i){i.abgroup=this._config.abGroup.groups.join(","),i.bucket=this._config.context.bucket,i.branch=this._config.context.branch,i.deployment=this._config.context.deployment,i.siteId=this._config.site.id,i.pageviewKey=this._config.context.pageviewKey,i.sessionKey=this._config.context.sessionKey;const s=Oe(i);return(new Image).src=`https://${e}${t}?${s}`}};gr=M([We("ImpressionLogComponent"),T(),O("design:paramtypes",[Ni,Wi,Pn])],gr);let _r=class extends xn{constructor(e,t,i){super(),this._googleAdManager=e,this._config=t,this._slotManager=i,this._locations=["Footer"]}init(){this._googleAdManager.slotRenderEnded.on((({slot:e,event:t})=>{this.slotRenderEnded(e,t)}))}slotRenderEnded(e,t){var i;t.isEmpty||2!==(null===(i=t.size)||void 0===i?void 0:i.length)||e.element&&-1!==this._locations.indexOf(e.location)&&e.sticky&&(e.element.setAttribute("closable","true"),this._addCloseButton(e.element,e.location))}_addCloseButton(e,t){const i=e.hasAttribute("closable"),s=e.querySelector(".adthrive-close");if(i&&!s){const i=document.createElement("span");i.innerHTML="&times;",i.className="adthrive-close",i.addEventListener("click",(()=>{const i=document.createEvent("Event");i.initEvent(`adthrive${t}Close`,!0,!0),e.parentElement&&(window.dispatchEvent(i),e.parentElement.removeChild(e),this._slotManager.destroy(e.id))})),e.appendChild(i)}}get enabled(){return this._config.adOptions.footerCloseButtonMigrated?"phone"===this._config.context.device?this._config.adOptions.footerCloseButtonMobile:this._config.adOptions.footerCloseButtonDesktop:this._config.adOptions.footerCloseButton}};function mr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}_r=M([We("CloseButtonComponent"),T(),O("design:paramtypes",[Wi,Ni,Pn])],_r);var fr="object"==typeof global&&global&&global.Object===Object&&global,yr="object"==typeof self&&self&&self.Object===Object&&self,vr=fr||yr||Function("return this")(),br=function(){return vr.Date.now()},Cr=/\s/;var Sr=/^\s+/;function wr(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Cr.test(e.charAt(t)););return t}(e)+1).replace(Sr,""):e}var kr=vr.Symbol,Er=Object.prototype,xr=Er.hasOwnProperty,Pr=Er.toString,Tr=kr?kr.toStringTag:void 0;var Ir=Object.prototype.toString;var Mr=kr?kr.toStringTag:void 0;function Ar(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Mr&&Mr in Object(e)?function(e){var t=xr.call(e,Tr),i=e[Tr];try{e[Tr]=void 0;var s=!0}catch(e){}var n=Pr.call(e);return s&&(t?e[Tr]=i:delete e[Tr]),n}(e):function(e){return Ir.call(e)}(e)}var Or=/^[-+]0x[0-9a-f]+$/i,zr=/^0b[01]+$/i,Rr=/^0o[0-7]+$/i,Br=parseInt;function Dr(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Ar(e)}(e))return NaN;if(mr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=mr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=wr(e);var i=zr.test(e);return i||Rr.test(e)?Br(e.slice(2),i?2:8):Or.test(e)?NaN:+e}var Vr=Math.max,Lr=Math.min;function Fr(e,t,i){var s,n,r,o,a,l,d=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){var i=s,r=n;return s=n=void 0,d=t,o=e.apply(r,i)}function g(e){return d=e,a=setTimeout(m,t),c?u(e):o}function _(e){var i=e-l;return void 0===l||i>=t||i<0||h&&e-d>=r}function m(){var e=br();if(_(e))return f(e);a=setTimeout(m,function(e){var i=t-(e-l);return h?Lr(i,r-(e-d)):i}(e))}function f(e){return a=void 0,p&&s?u(e):(s=n=void 0,o)}function y(){var e=br(),i=_(e);if(s=arguments,n=this,l=e,i){if(void 0===a)return g(l);if(h)return clearTimeout(a),a=setTimeout(m,t),u(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=Dr(t)||0,mr(i)&&(c=!!i.leading,r=(h="maxWait"in i)?Vr(Dr(i.maxWait)||0,t):r,p="trailing"in i?!!i.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),d=0,s=l=n=a=void 0},y.flush=function(){return void 0===a?o:f(br())},y}function jr(e,t,i){var s=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return mr(i)&&(s="leading"in i?!!i.leading:s,n="trailing"in i?!!i.trailing:n),Fr(e,t,{leading:s,maxWait:t,trailing:n})}class Nr{constructor(e,t){this._overlap=null,this._stuck=!1,this._start=0,this._cutoff=0,this._cutoffBuffer=20,this._element=e.element,t&&(e.stickyOverlapSelector?this._overlap=document.querySelector(e.stickyOverlapSelector):this._overlap=this.findOverlap(this._element),this._overlap),window.addEventListener("scroll",jr((()=>this.update()),500)),window.addEventListener("resize",jr((()=>{this.unstick(),this.update(),this.check()}),500)),window.addEventListener("scroll",(()=>this.check()))}update(){this._element&&(this._stuck||(this._start=this.getTop(this._element)),this._overlap&&(this._cutoff=this.getTop(this._overlap)))}check(){if(0!==this._start){const e=window.pageYOffset,t=this._element.offsetHeight+this._cutoffBuffer,i=0!==this._cutoff&&e+t>this._cutoff;this._start<e&&!i?this.stick():this.unstick()}}stick(){if(!this._stuck){const e=getComputedStyle(this._element,null),t=this._element.parentElement;if(t){const e=getComputedStyle(t,null);t.style.minHeight=e.getPropertyValue("height")}this._element.style.width||(this._element.style.width=e.getPropertyValue("width")),this._element.classList.add("adthrive-stuck"),this._stuck=!0}}unstick(){this._stuck&&(this._element.classList.remove("adthrive-stuck"),this._stuck=!1)}getTop(e){return e.getBoundingClientRect().top+window.pageYOffset}findOverlap(e){let t=null;for(;e.parentElement;){let i=(e=e.parentElement).nextElementSibling;for(;i&&we(i);)i=i.nextElementSibling;i&&i.offsetTop>0&&(!t||i.offsetTop<t.offsetTop)&&(t=i)}return t}}class qr{constructor(e,t,i,s,n,r){this._config=e,this._slotManager=t,this._slot=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._isRendered=!1}setup(){void 0!==window.apstag&&this._config.amazon.enabled&&ce("https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"),this._isRendered||(this._isRendered=!0,this._appendCloseButton(),this._activate())}get renderState(){return this._isRendered}_activate(){this._handleWidthBreak(),this._eventProxy.videoPlaying.on(this._handleRelatedPlayClose.bind(this)),this._slot.element.parentElement.classList.add("adthrive-sticky-outstream-active")}_appendCloseButton(){const e=this._slot.element,t=this._videoCloseButton.createPlayerCloseButton(this._handleCloseClick.bind(this),this._stickyCloseButtonExperiment.result,"adthrive-sticky-outstream-close");e.parentNode.insertBefore(t,e),setTimeout((()=>{t.style.display="inline-flex"}),this._config.video.closeButtonTimeout)}_logPlayerClose(e){qr.closeEvent.emit().catch((()=>{})),D.event("StickyOutstream","handleClose",{device:Ce()?"desktop":"mobile",closeReason:e})}_handleRelatedPlayClose(){this._handleClose("relatedPlay")}_handleCloseClick(){this._handleClose("closeClick")}_handleClose(e){const t=this._slot.element,i=t.parentElement;this._logPlayerClose(e),i&&(i.removeChild(t),i.classList.remove("adthrive-sticky-outstream-active"),this._slotManager.destroy(t.id),this._removeListener())}_handleWidthBreak(){this._removeListener=this._eventProxy.footerRefreshed.on(this._handleFooterRefreshedEvent.bind(this)),this._repositionCollapseBottom()}_handleFooterRefreshedEvent(){this._repositionCollapseBottom()}_repositionCollapseBottom(){if("desktop"!==this._config.context.device){const e=G();this._slot.element.parentElement.style.setProperty("top","auto","important"),this._slot.element.parentElement.style.setProperty("bottom",`${e}px`,"important")}}}qr.closeEvent=new R;let Ur=class extends it{constructor(e){super(),this.abgroup=e,this.key="socbe",this._choices=[{choice:"sovpcc",weight:0},{choice:"sovpct1",weight:0},{choice:"sovpct2",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],Ur.prototype,"run",null),Ur=M([We("StickyCloseButtonExperiment"),I(),O("design:paramtypes",[et])],Ur);let Hr=class extends xn{constructor(){super(...arguments),this._experimentResult="",this._hasTitleBar=!1,this._isButtonInsideContainer=!1,this._isButtonOutsideContainerTop=!1,this._isDefaultPosition=!1,this._isInstreamExperiment=!1,this._isTopCollapse=!1}createDefaultButton(e){const t=document.createElement("div");return t.innerHTML="<span>&times;</span>",t.className="adthrive-wrapper-close",t.style.display="none",t.id="adthrive-collapse-close",t.onclick=e,t}createPlayerCloseButton(e,t,i,s=!1,n=!1){this._hasTitleBar=s,this._isTopCollapse=n,this._isInstreamExperiment="tlo"===t||n,this._isButtonOutsideContainerTop="sovpct1"===t||"tlo"===t,this._isButtonInsideContainer="sovpct2"===t,this._isDefaultPosition="sovpcc"===t||"off"===t,this._experimentResult=t;const r=this._getButtonClasses(),o=this._getSvgOptions(),a=this._createCloseButton(r,i,o);return a.onclick=e,this._isButtonInsideContainer?this.applyCloseButtonWrapper(a):a}_getButtonClasses(){let e=[];return(this._isButtonOutsideContainerTop||this._isDefaultPosition)&&e.push("adthrive-wrapper-float-close"),this._isInstreamExperiment?e=[...e,...this._getInstreamClasses()]:"sovpcc"!==this._experimentResult&&e.push("adthrive-wrapper-close-outside-left"),e}_getInstreamClasses(){const e=["adthrive-instream-close"];return this._isTopCollapse?e.push("adthrive-top-collapse-close"):this._isButtonOutsideContainerTop&&e.push("adthrive-top-left-outer","adthrive-float-left"),e}_getSvgOptions(){return this._isButtonInsideContainer||this._isTopCollapse?{fillColor:"transparent",strokeColor:"white"}:{fillColor:"white",strokeColor:"black"}}_createCloseButton(e,t,i){const{fillColor:s,strokeColor:n}=null!=i?i:{fillColor:"white",strokeColor:"black"},r=this._createButtonHtml(e,t),o=this._createSvg(s),a=this._createPath(n);return o.appendChild(a),r.appendChild(o),r}_createButtonHtml(e,t){const i=document.createElement("div");return i.className=e.join(" "),i.id=t,i}_createSvg(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("width","18"),t.setAttribute("height","18"),t.setAttribute("fill",e),t}_createPath(e){const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M 0.5 9 A 5 5 0 0 0 17.5 9 A 5 5 0 0 0 0.5 9 M 9 9 L 7 7 L 11 11 M 9 9 L 7 11 L 11 7"),t.setAttribute("stroke",e),t.setAttribute("stroke-width","1"),t}applyCloseButtonWrapper(e){const t=document.createElement("div"),i=["adthrive-wrapper-float-close","adthrive-wrapper-close-bkgd-50"];return this._hasTitleBar?i.push("adthrive-top-left-inner-wrapper"):i.push("adthrive-top-left-inner"),t.classList.add(...i),t.appendChild(e),t}};Hr=M([We("VideoCloseButtonComponent"),T()],Hr);let $r=class{constructor(e,t){this._gam=e,this._pageManager=t,this.scroll=new R,this.resize=new R,this.pageVisibility=new R,this.videoPlaying=new R,this.footerRefreshed=new R,this.addEventListeners(),this._gam.slotRenderEnded.on((({slot:e})=>{"Footer"===e.location&&this.footerRefreshed.emit()}))}addEventListeners(){let e=!1,t=!1;const i=()=>{e||(e=!0,setTimeout((()=>{this.scroll.emit(),e=!1}),100))},s=()=>{t||(t=!0,setTimeout((()=>{this.resize.emit(),t=!1}),100))};this._pageManager.scroll.on((()=>i())),this._pageManager.resize.on((()=>s())),this._pageManager.visibilityChange.on((()=>{this.pageVisibility.emit(document.hidden)}))}emitVideoPlayingEvent(e){this.videoPlaying.emit(e).catch((()=>{}))}};$r=M([I(),O("design:paramtypes",[Wi,Ci])],$r);let Wr=class extends xn{constructor(e,t,i,s,n,r,o,a){super(),this._slots=e,this._config=t,this._slotManager=i,this._stickyCloseButtonExperiment=s,this._eventProxy=n,this._videoCloseButton=r,this._gam=o,this._outstream=a,this._sticky=[],this._slots.added.on((e=>{e&&e.sticky&&(e.element.classList.add("adthrive-sticky"),"Sidebar"===e.location&&this._sticky.push(new Nr(e,!0)),"Video_StickyOutstream"===e.location&&(this._stickyOutstream=new qr(this._config,this._slotManager,e,this._stickyCloseButtonExperiment,this._eventProxy,this._videoCloseButton)))})),void 0!==window.apstag&&this._config.amazon.enabled&&this._gam.slotOnload.on((({slot:e})=>{const t=window.apsBidObject?window.apsBidObject.VAST:null;"Video_StickyOutstream"===e.location&&t&&(this._outstream.callANRendererWithUrl(t,e.id),delete window.apsBidObject)}))}stickyOutstreamReady(){this._stickyOutstream&&!this._stickyOutstream.renderState&&this._stickyOutstream.setup()}};Wr=M([We("StickyComponent"),T(),O("design:paramtypes",[Ui,Ni,Pn,Ur,$r,Hr,Wi,hs])],Wr);let Gr=class extends xn{constructor(e,t,i,s,n){super(),this._config=e,this._pageManager=t,this._slots=i,this._slotManager=s,this._sticky=n,this._debounce=new z(1e3),this._viewports=this._config.lazyLoad.viewports}init(){const e=new Map([["Below_Post",this._viewports.belowPost],["Content",this._viewports.content],["Default",this._viewports.default]]);this._slotManager.added.on((t=>{for(const i of t)if(i.lazy){const t=this._config.adOptions.infiniteScroll?this._viewports.infScroll:Q(e.get(i.location),e.get("Default"));this.getIntersectionObserver(t).observe(i.element)}else"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),this._slotManager.display([i]).catch((e=>{D.error("LazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):this._slotManager.display([i]).catch((e=>{D.error("LazyLoadComponent","init","display",e)}))}))}getIntersectionObserver(e){const t=window.innerHeight*e;return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this._debounce.limit(t.target.id).then((()=>this.processEvent(t,e))).catch((e=>{D.error("LazyLoadComponent","getIntersectionObserver",e)}))}}),{rootMargin:`${t}px 0px`,threshold:[0,1]})}processEvent(e,t){e.isIntersecting&&!t.displayed?this._slotManager.display(t).catch((e=>{D.error("LazyLoadComponent","processEvent","display",e)})):!e.isIntersecting&&t.displayed&&this._slotManager.clear(t).catch((e=>{D.error("LazyLoadComponent","processEvent","clear",e)}))}get enabled(){return!1}};Gr=M([We("LazyLoadComponent"),T(),O("design:paramtypes",[Ni,Ci,Ui,Pn,Wr])],Gr);let Qr=class extends xn{constructor(e,t,i,s,n,r){super(),this._config=e,this._gam=t,this._pageManager=i,this._slots=s,this._slotManager=n,this._sticky=r,this._debounce=new z(1e3)}init(){const e=this._slotManager;this._slotManager.added.on((t=>{for(const i of t)i.lazy?(Wi.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","true")})),this.getIntersectionObserver().observe(i.element)):"Video_StickyOutstream"===i.location?this._pageManager.setupOnceEvent("scroll",(()=>{this._sticky.stickyOutstreamReady(),e.display([i]).catch((e=>{D.error("GoogleLazyLoadComponent","scroll","display stickyOutstream slot",e)}))})):(Wi.pushToQueue((()=>{i.googleTagSlot.setTargeting("lazy","false")})),e.display(i).catch((e=>{D.error("GoogleLazyLoadComponent","init","display non lazy slot",e)})))}))}getIntersectionObserver(){const e=window.innerHeight*(this._config.lazyLoad.googleLazyLoadSettings.hbMarginPercent/100);return new IntersectionObserver(((e,t)=>{for(const i of e)this.processEntry(i,t)}),{rootMargin:`${e}px 0px`,threshold:[0]})}processEntry(e,t){const i=this._slots.get(e.target.id);i&&e.intersectionRatio>0&&(this._debounce.limit(e.target.id).then((()=>this._slotManager.display(i))).catch((e=>{D.error("GoogleLazyLoadComponent","callback","display lazy slot",e)})),t.unobserve(i.element))}};Qr=M([We("GoogleLazyLoadComponent"),T(),O("design:paramtypes",[Ni,Wi,Ci,Ui,Pn,Wr])],Qr);let Kr=class extends xn{constructor(e,t){super(),this._gam=e,this._slotManager=t,this._isMobile=Ee()}_isCustomHVP(e){return this._isMobile&&"Content"===e}init(){this._slotManager.added.on((e=>{Wi.pushToQueue((()=>{for(const t of e){const e=Math.min(10*Math.floor(100*t.viewability/10),80);e>=50&&t.setTargeting({key:"hvp",value:e.toString()})}}))})),this._slotManager.refreshing.on((e=>{Wi.pushToQueue((()=>{for(const t of e){const e=this._isCustomHVP(t.location);1===t.refreshCount?t.setTargeting({key:"hvp",value:e?"60":"80"}):2===t.refreshCount&&e&&t.setTargeting({key:"hvp",value:"80"})}}))}))}};Kr=M([We("HvpComponent"),T(),O("design:paramtypes",[Wi,Pn])],Kr);let Xr=class{constructor(e){this._config=e}inject(){try{return this._config.marmalade.selectorMatches.reduce(this.processMatch.bind(this),[])}catch(e){D.error("MarmaladeInjector","inject",e)}return[]}processMatch(e,t){const{adUnit:i,match:s}=t,n=this.getElementId(i.location,i.sequence);if(!e.some((e=>e.location===i.location&&e.sequence===i.sequence))){const t=this.addAd(s,n,i.position,i.classNames);if(t){const s=new qi(i.location,i.sequence,i.size,t,!1,i.lazy);e.push(s)}}return e}getElementId(e,t){return[this._config.gam.prefix,e,t].filter(Ve).join("_")}addAd(e,t,i,s=[]){const n=`<div id="${t}" class="adthrive-ad ${s.join(" ")}"></div>`;return e.insertAdjacentHTML(i,n),document.getElementById(t)}};Xr=M([We("MarmaladeInjector"),T(),O("design:paramtypes",[Ni])],Xr);let Jr=class extends xn{constructor(e,t,i,s,n){super(),this._config=e,this._marmaladeInjector=t,this._slotManager=i,this._gam=s,this._prebidMethods=n}init(){const e=this._marmaladeInjector.inject();e.forEach((e=>e.refreshInterval=0));const t=this._config.marmalade.siteCodes.filter(ee),i=this._config.marmalade.mcmp.filter(ee),s=this._config.marmalade.flpProdIds.filter(ee),n=this._config.marmalade.loaded?"true":"false";this._gam.setTargeting({key:"mcmp",value:i}),this._gam.setTargeting({key:"site_code",value:t}),this._gam.setTargeting({key:"marmalade",value:n});const r=t.reduce(((e,t)=>(e[t]="True",e)),{});if(ue({MCMP:i.join("#MCMP:"),...r},this._prebidMethods),e.length>0&&this._gam.started.on((()=>this._slotManager.add(e).catch((e=>{D.error("MarmaladeComponent","init",e)})))),s){((e,t)=>{window.addEventListener("message",(i=>{try{const{origin:s,source:n}=i,r=JSON.parse(i.data),o=r&&r.message===t.message;if(!s||!s.match(e)||!o)return;n.postMessage(JSON.stringify(t),s)}catch(e){return}}))})(/https:\/\/\S*\.safeframe.googlesyndication.com/i,{message:"adthriveFlippData",flippData:s})}}get enabled(){return!this._config.disableAds.all}};Jr=M([We("MarmaladeComponent"),T(),O("design:paramtypes",[Ni,Xr,Pn,Wi,Hi])],Jr);let Yr=class{constructor(e,t,i){this._emailCaptureHandler=e,this._gdprEvents=t,this._config=i,this._email="",this._consent="",this._hash="",this._source="",this._consentReceived=!1,this._emailCounted=!1,this.piiCaptured=new R}init(){this._emailCaptureHandler.emailCaptured.on((e=>this._handleEmailCapture(e))),this._gdprEvents.consentCaptured.on((e=>this._handleConsentCapture(e)))}async _handleEmailCapture(e){const{email:t,hash:i,source:s}=e;this._hash=i||await this._hashEmail(t),this._email=t,this._source=s,this._config.gdpr.enabled&&!this._consentReceived||this._sendPii()}_handleConsentCapture(e){this._consentReceived=!0,this._consent=e,this._email&&this._hash&&this._sendPii()}_sendPii(){this._emailCounted||(this._emailCounted=!0,D.event("PiiManager","_sendPii",this._source)),this.piiCaptured.emit({email:this._email,hash:this._hash,consent:this._consent,source:this._source}).catch((()=>{}))}async _hashEmail(e){if(!("msCrypto"in window)&&"https:"===location.protocol&&"crypto"in window&&"TextEncoder"in window){const t=(new TextEncoder).encode(e),i=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(i)).map((e=>("00"+e.toString(16)).slice(-2))).join("")}return""}};Yr=M([We("PiiManager"),I(),O("design:paramtypes",[dr,hr,Ni])],Yr);class Zr{get enabled(){return!0}}let eo=class extends Zr{constructor(e,t){super(),this._config=e,this._gam=t,this._liveRampBaseUrl="https://api.rlcdn.com/api/identity/envelope",this._pid=111,this._it=4,this._localKey="_lr_env"}get enabled(){var e;return(null===(e=this._config.liveRampAts)||void 0===e?void 0:e.enabled)&&"localStorage"in window}init(){window.localStorage.getItem(this._localKey)&&this._gam.setTargetingFlag("idp",["ats"])}async processPii(e){if(localStorage.getItem(this._localKey))return;let t=`${this._liveRampBaseUrl}?pid=${this._pid}&it=${this._it}&iv=${e.hash?e.hash:e.email}`;this._config.gdpr.enabled?t+=`&ct=4&cv=${e.consent}`:this._config.ccpa.required&&(t+=`&ct=4&cv=${ze("usprivacy")}`);try{const e=await fetch(t,{method:"GET",keepalive:!0}),i=await e.text();if(i){const{envelope:e}=JSON.parse(i);return void localStorage.setItem(this._localKey,btoa(JSON.stringify({envelope:e,timestamp:+new Date})))}}catch(e){}}};eo=M([We("LiveRampPiiPartner"),T(),O("design:paramtypes",[Ni,Wi])],eo);const to=(e,t)=>!e.idho.subModule||e.idho.subModule.name!==t,io=new Map([["connectId",{id:{name:"connectId",params:{pixelId:58404},storage:{name:"connectid",type:"html5",expires:15}},enabled(e){return to(e,this.id.name)&&e.liveRampAts.enabled},targetingKey:"cid"}],["unifiedId",{id:{name:"unifiedId",params:{url:"https://match.adsrvr.org/track/rid?ttd_pid=iowij76&fmt=json"},storage:{type:"html5",name:"pbjs-unifiedid",expires:60}},enabled(e){return to(e,this.id.name)},targetingKey:"uid1"}],["id5Id",{id:{name:"id5Id",params:{partner:367},storage:{type:"html5",name:"pbjs-id5id",expires:60,refreshInSeconds:28800}},enabled(e){return to(e,this.id.name)},targetingKey:"id5"}],["identityLink",{id:{name:"identityLink",params:{pid:"111"},storage:{type:"html5",name:"pbjs-identitylink",expires:60}},enabled(e){return to(e,this.id.name)},targetingKey:"idl"}],["sharedId",{id:{name:"sharedId",storage:{type:"html5",name:"pbjs-pubcommonid",expires:60}},enabled(e){return to(e,this.id.name)},targetingKey:"pc"}],["criteo",{id:{name:"criteo",storage:{type:"html5",name:"pbjs-criteo",expires:60}},enabled(e){return to(e,this.id.name)},targetingKey:"cri"}],["parrableId",{id:{name:"parrableId",params:{partner:"9fde8b8d-49db-4c9e-b841-0e777ab8d343"}},enabled(e){return to(e,this.id.name)&&(Be(["Pacific/Auckland"],[-720])||Be(["Pacific/Honolulu"],[600])||Be(["America/Phoenix"],[420])||De())},targetingKey:"par"}]]);let so=class extends Zr{constructor(e,t){super(),this._config=e,this._prebidMethods=t,this._submitted=!1,this.userId=io.get("connectId").id}get enabled(){return io.get("connectId").enabled(this._config)}updateUserIds(){return this._prebidMethods.getConfig("userSync.userIds").map((e=>(e.name===this.userId.name&&(e=this.userId),e)))}processPii(e){this._prebidMethods.addToQueue((()=>{this.run(e)}))}run(e){if(e.hash&&this.userId.params&&!this._submitted){this.userId.params.he=e.hash,this._submitted=!0;const t=this.updateUserIds();this._prebidMethods.setConfig({userSync:{userIds:t}}),this._prebidMethods.refreshUserIds({submoduleNames:[this.userId.name]},(()=>{}))}}};so=M([We("YahooPiiPartner"),T(),O("design:paramtypes",[Ni,Hi])],so);let no=class extends xn{constructor(e,t,i){super(),this._piiManager=e,this._partners=[t,i].filter((e=>e.enabled))}init(){this._piiManager.init(),this._partners.forEach((e=>e.init&&e.init())),this._piiManager.piiCaptured.on((e=>{this._partners.forEach((t=>{t.processPii(e)}))}))}};no=M([We("PiiCaptureComponent"),T(),O("design:paramtypes",[Yr,eo,so])],no);let ro=class extends xn{constructor(e){super(),this._slotManager=e,this._maxSlotRefreshCount=4}init(){this._slotManager.displaying.on((e=>{Wi.pushToQueue((()=>{e.forEach((e=>e.setTargeting({key:"refresh",value:"00"}))),e.forEach((e=>e.setTargeting({key:"nref",value:"0"})))}))})),this._slotManager.refreshing.on((e=>{Wi.pushToQueue((()=>{for(const t of e){const e=`0${Math.min(t.refreshCount,this._maxSlotRefreshCount)}`.slice(-2);t.setTargeting({key:"refresh",value:e}),t.setTargeting({key:"nref",value:t.refreshCount.toString()})}}))}))}};ro=M([We("RefreshCountComponent"),T(),O("design:paramtypes",[Pn])],ro);let oo=class extends it{constructor(e){super(),this.key="rebuildslot",this._choices=[{choice:!0},{choice:!1}],this._result=this.run(),e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.95).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],oo.prototype,"run",null),oo=M([We("RefreshRebuildExperiment"),I(),O("design:paramtypes",[et])],oo);let ao=class extends xn{constructor(e,t){super(),this._slotManager=e,this._refreshRebuildExperiment=t}init(){this._slotManager.refreshing.on((e=>{e.filter(this.slotHasHighRefreshCountIncrement).forEach((e=>this._slotManager.rebuild(e)))}))}slotHasHighRefreshCountIncrement(e){return e.refreshCount%100==0}get enabled(){return this._refreshRebuildExperiment.result}};function lo(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===i&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}ao=M([We("RefreshRebuildComponent"),T(),O("design:paramtypes",[Pn,oo])],ao);let co=class extends xn{constructor(e){super(),this._config=e}start(){this._config.site.style&&this._config.site.style.length>0?lo(this._config.site.style):this._config.context.styleUrl&&(e=>{const t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)})(this._config.context.styleUrl)}};co=M([We("SiteStyleComponent"),T(),O("design:paramtypes",[Ni])],co);let ho=class extends xn{constructor(e){super(),this._gam=e}init(){const e=this.getReferrer();null!==e&&this._gam.setTargeting({key:"doc_ref",value:e})}getReferrer(){const e=re();return e&&e.length&&se("referrer",e),e}};ho=M([We("TrafficSourceComponent"),T(),O("design:paramtypes",[Wi])],ho);let po=class{constructor(e){this._gam=e}getStoredIdValue(e){let t;return"cookie"===e.type&&window.navigator.cookieEnabled?t=ze(e.name):"html5"===e.type&&(t=window.localStorage.getItem(e.name)),t}getSyncedIdModules(e){return[...e].reduce(((e,t)=>void 0!==t.storage&&this.getStoredIdValue(t.storage)?(e.push(t.name),e):e),[])}setTargeting(e){const t=this.getSyncedIdModules(e).map((e=>{var t;return(null===(t=io.get(e))||void 0===t?void 0:t.targetingKey)||e}));this._gam.setTargetingFlag("idp",t)}};po=M([We("UserIdTargeting"),T(),O("design:paramtypes",[Wi])],po);let uo=class extends xn{constructor(e,t,i){super(),this._config=e,this._prebidMethods=t,this.userIdTargeting=i,this._enabledUserIds=[],this._ppid=null,this._enabledUserIds=[...io.values()].filter((e=>e.enabled(this._config))).map((e=>{if("sharedId"===e.id.name){const t=e.id.storage&&e.id.storage.name||"";this._ppid=localStorage.getItem(t),this._ppid&&(e.id.name="sharedId",e.id.value={pubcid:this._ppid})}return e.id}))}init(){let e={userIds:this._enabledUserIds};this._ppid&&(e={ppid:"pubcid.org",...e}),this._prebidMethods.setConfig({userSync:e}),this.userIdTargeting.setTargeting([...io.values()].map((e=>e.id)))}};uo=M([We("UserIdComponent"),T(),O("design:paramtypes",[Ni,Hi,po])],uo);let go=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t}init(){const e=Q(ie("utm",18e5),{});["utm_medium","utm_campaign","utm_session","utm_source"].forEach((t=>{const i=this._config.context.querystring.get(t),s=Q(i,e[t]);this._gam.setTargeting({key:t,value:s}),s&&(e[t]=s)})),se("utm",e)}};var _o;go=M([We("UTMComponent"),T(),O("design:paramtypes",[Ni,Wi])],go);let mo=_o=class{static changeState(e,t){const{mediaStarted:i,playerContainer:s,playerElement:n,playerInstance:r,playerState:o}=e;if(7===t)return this.uncollapse(e),r.pause(!0),7;switch(o){case 0:if(4===t)return e.collapseTimer.firstInView||(e.collapseTimer.firstInView=new Date),_o.startEvent.emit().catch((()=>{})),this._shouldCollapse(s,i)?(this.collapse(e),r.getViewable()&&r.play(!0),r._nonLinearAd?8:2):r._nonLinearAd?8:1;break;case 1:if(4===t){if(this._shouldCollapse(s,i))return this.collapse(e),r.play(!0),2;r.play(!0)}else{if(3===t)return r.pause(!0),5;if(1===t)return 3}break;case 2:if(4===t){if(!this._shouldCollapse(s,i))return this.uncollapse(e),r.play(!0),1;r.play(!0)}else{if(1===t)return 4;if(6===t)return e.lastCollapsedClasses=n.className,this.uncollapse(e),r.pause(!0),6;if(5===t)return this.uncollapse(e),r.pause(!0),7}break;case 8:if(4===t)this._shouldCollapse(s,i)&&this.collapse(e);else{if(3===t)return r.pauseAd(!0),9;if(6===t)return this.uncollapse(e),r.pauseAd(!0),10}break;case 4:if(4===t&&!this._shouldCollapse(s,i))return this.uncollapse(e),3;if(1===t)return 2;if(5===t)return this.uncollapse(e),r.pause(!0),7;break;case 3:if(4===t&&this._shouldCollapse(s,i))return this.collapse(e),4;if(1===t)return 1;break;case 5:if(4===t)return r.play(!0),1;case 9:if(4===t)return r.pauseAd(!1),8;if(this.playerWouldOverlapFooter(e))return 10;break;case 6:return this._shouldCollapse(n,i)&&!this.playerWouldOverlapFooter(e)?(this.collapse(e),r.play(!0),2):6;case 10:return this._shouldCollapse(n,i)&&!this.playerWouldOverlapFooter(e)?(this.collapse(e),r.pauseAd(!1),8):(r.pauseAd(!0),10);default:return o}return o}static handleResize(e){this._isCollapsed(e.playerState)?("adthrive-collapse-mobile"===e.collapseType&&"adthrive-collapse-top-center"===e.collapseMobileSubType&&e.topBackgroundElement&&(e.topBackgroundElement.style.height=`${e.playerElement.offsetHeight}px`,e.topBackgroundElement.style.width=`${window.innerWidth}px`),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e)):this.resizeContainer(e)}static handleScroll(e){Li.playerInView(e.playerElement)?this.playerWouldOverlapFooter(e)?e.playerState=this.changeState(e,6):e.playerState=this.changeState(e,4):e.playerState=this.changeState(e,3),2===e.playerState||4===e.playerState?_o.startCollapseTimer(e):_o.stopCollapseTimer(e)}static handleOtherVideoPlaying(e){e.playerState=this.changeState(e,7)}static handlePageVisibilityChange(e,t){7!==t.playerState&&0!==t.playerState&&3!==t.playerState&&4!==t.playerState&&5!==t.playerState&&6!==t.playerState&&(e?t.playerInstance.pause(!0):t.playerInstance.play(!0))}static handleWidthBreak(e,t){7!==t.playerState&&0!==t.playerState&&(e.matches?(this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!1,t),"adthrive-collapse-sticky"===t.collapseType&&this._unstickFromSidebar(t.playerElement),t.forceMobile=!0,this.toggleCollapsedPlayerClasses(!0,t)),t.forceMobile=!0):(this.toggleCollapsedPlayerClasses(!1,t),t.forceMobile=!1,this._isCollapsed(t.playerState)&&(this.toggleCollapsedPlayerClasses(!0,t),"adthrive-collapse-sticky"===t.collapseType&&this._stickToSidebar(t))))}static handleClose(e){_o.closeEvent.emit().catch((()=>{})),e.playerState=this.changeState(e,5),_o.stopCollapseTimer(e),D.event("jw-player","handleClose",{timeElapsed:e.collapseTimer.timeCollapsed,device:Ce()?"desktop":"mobile",playerType:e.playerType})}static handleUserClick(e){e.playerState=this.changeState(e,1)}static collapse(e){this.disableCollapse||(this.collapseEvent.emit().catch((()=>{})),this.toggleCollapsedPlayerClasses(!0,e),e.forceMobile||"adthrive-collapse-sticky"!==e.collapseType||this._stickToSidebar(e),e.playerInstance.resize(),setTimeout((e=>{this.displayCloseButton(e)}),e.closeButtonTimeout,e))}static displayCloseButton(e){this._isCollapsed(e.playerState)&&(e.closeButton.style.display="inline-flex")}static uncollapse(e){_o.uncollapseEvent.emit().catch((()=>{})),this.toggleCollapsedPlayerClasses(!1,e),this._unstickFromSidebar(e.playerElement),e.closeButton.style.display="none",this.resizeContainer(e)}static _shouldCollapse(e,t){return t&&Li.getScrollTop()>=Y(e).top+e.offsetHeight/2}static _isCollapsed(e){return 2===e||4===e}static _stickToSidebar(e){e.stickyElement&&(e.playerElement.style.left=`${e.stickyElement.getBoundingClientRect().left}px`,e.playerElement.style.width=`${e.stickyElement.clientWidth}px`),e.playerElement.style.top=`${e.topMargin}px`}static _unstickFromSidebar(e){e.style.cssText=""}static playerWouldOverlapFooter(e){if(!e.footerElement)return!1;if(e.playerElement.className.indexOf("adthrive-collapse-bottom")>=0||e.lastCollapsedClasses&&e.lastCollapsedClasses.indexOf("adthrive-collapse-bottom")>=0){const t=G();return!(window.innerHeight-t<e.footerElement.getBoundingClientRect().top)}return!((e.topMargin||0)+e.playerElement.getBoundingClientRect().height<e.footerElement.getBoundingClientRect().top)}static toggleCollapsedPlayerClasses(e,t){const i=t.playerInstance.utils,s=Le(i,"toggleClass")&&"function"==typeof i.toggleClass?i.toggleClass:()=>{};t.forceMobile?(s(t.playerElement,"adthrive-collapse-mobile",e),s(t.playerElement,t.collapseMobileSizeType,e),s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)):(s(t.playerElement,t.collapseType,e),t.collapseSubType&&s(t.playerElement,t.collapseSubType,e),t.collapseMobileSizeType&&s(t.playerElement,t.collapseMobileSizeType,e),"adthrive-collapse-mobile"===t.collapseType&&(s(t.playerElement,t.collapseMobileSubType,e),this.repositionCollapseMobile(t,e)))}static repositionCollapseMobile(e,t){"adthrive-collapse-bottom-left"===e.collapseMobileSubType||"adthrive-collapse-bottom-right"===e.collapseMobileSubType?this.repositionCollapseMobileBottom(e):"adthrive-collapse-top-center"===e.collapseMobileSubType&&this.repositionCollapseMobileTop(e,t)}static repositionCollapseMobileTop(e,t){e.topBackgroundElement&&(t?(e.topBackgroundElement.style.height=`${e.playerElement.offsetHeight}px`,e.topBackgroundElement.style.display="inline"):e.topBackgroundElement.style.display="none")}static repositionCollapseMobileBottom(e){if(e.playerElement.className.indexOf("adthrive-collapse-bottom")>=0){const t=G();e.playerElement.style.setProperty("top","auto","important"),e.playerElement.style.setProperty("bottom",`${t}px`,"important")}}static resizeContainer(e){e.playerContainer.style.height=`${e.playerElement.offsetHeight+30}px`}static startCollapseTimer(e){e.collapseTimer.isRunning||(e.collapseTimer.startTime?e.collapseTimer.lastCollapsedTime=new Date:(e.collapseTimer.startTime=new Date,e.collapseTimer.lastCollapsedTime=e.collapseTimer.startTime),e.collapseTimer.isRunning=!0)}static stopCollapseTimer(e){e.collapseTimer.isRunning&&(e.collapseTimer.lastCollapsedTime&&(e.collapseTimer.timeCollapsed+=(new Date).getTime()-e.collapseTimer.lastCollapsedTime.getTime()),e.collapseTimer.isRunning=!1)}};mo.collapseEvent=new R,mo.uncollapseEvent=new R,mo.closeEvent=new R,mo.startEvent=new R,mo.disableCollapse=!1,mo=_o=M([We("CollapseUtils")],mo);class fo{constructor(){}init(e){this.setup(e)}}let yo=class extends it{constructor(e){super(),this.abgroup=e,this.key="sicb",this._choices=[{choice:"tlo",weight:100}],this._result=this.run(),e.set(this.key,this._result)}get result(){return this._result}run(){return new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],yo.prototype,"run",null),yo=M([We("StickyInstreamCloseButtonExperiment"),I(),O("design:paramtypes",[et])],yo);let vo=class extends it{constructor(e){super(),this.abgroup=e,this.key="sppe50",this._result=!1,this._choices=[{choice:!0},{choice:!1}],Ee()&&(this._result=this.run(),this.abgroup.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new nt(0).get()}};vo=M([T(),We("StickyPlayerPositionExperiment"),O("design:paramtypes",[et])],vo);let bo=class extends it{constructor(e){super(),this.tearDownOnCrash="tdoc",this._choices=[{choice:9e5,weight:5},{choice:6e5,weight:5},{choice:3e5,weight:5},{choice:-1,weight:5},{choice:0,weight:80}],this.key="mgtdtw",this._result=this.run(),e.set(this.key,-1===this._result?this.tearDownOnCrash:(this._result/1e3).toString())}get result(){return this._result}run(){return new rt(this._choices).get()}};bo=M([We("TearDownPlayerExperiment"),I(),O("design:paramtypes",[et])],bo);const Co=(e,t=navigator.userAgent)=>((e=navigator.userAgent)=>/iP(hone|od|ad)/i.test(e))(t)&&((e,t=navigator.userAgent)=>new RegExp(`OS ${e}`,"i").test(t))(e.toString(),t);class So extends fo{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u){if(super(),this._playerId=e,this._playlistId=t,this._name=i,this._size=s,this._pageElement=n,this._eventProxy=r,this._vastLoadTimeout=o,this._config=a,this._collapseType=l,this._collapseMobileSizeType=d,this._prebidMethods=c,this._playerType=h,this._isCollapsible=p,this._saveVideoCloseState=u,this.initialAuctionPlayer=!1,this._prerollAdUrl="",this._prerollNum=0,this.requestVideoBids=()=>{throw new Error("Request video bids not set")},this.buildVideoUrl=()=>{throw new Error("Build video url not set")},this.setPlayerInstance=()=>{throw new Error("Reset player not set")},this._defaults={},this._state=0,this._collapseCollection=null,this._videoAdUnit=null,this._adPlayed=!1,this._nextAdFetched=!1,this._adDurationLogged=!1,this._isFirstPlay=!0,this._createdSkipContainer=!1,this._calledNextVideo=!1,this._wasClicked=!1,this._canSkip=!0,this._isAdvancePlaylist=!1,this._adDetails=null,this._canTearDown=!1,this._tearDownAfterNextAd=!1,this._tearDownTimer=null,this._tearDownPlayerTimeout=0,this._stalePlayerTimer=null,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._adTimingBuffer=10,this._defaultAdDuration=30,this._autoplayBehaviorConfig={autostart:"viewable",mute:!0},this._baseConfig={advertising:{adscheduleid:"DmULPHgQ",client:"googima",maxRedirects:this._config.video.maxRedirect,requestTimeout:this._config.video.jwRequestTimeout,vastLoadTimeout:this._vastLoadTimeout,vpaidmode:"insecure"}},this._stickyInstreamCloseButtonExperiment=x.resolve(yo),this._stickyPlayerPositionExperiment=x.resolve(vo),this._videoCloseButtonComponent=x.resolve(Hr),window.matchMedia){const e=window.matchMedia(`only screen and (max-width: ${this._config.site.breakpoints.desktop-1}px)`);e.addListener(this.handleWidthBreak.bind(this)),this.handleWidthBreak(e)}const g=this._config.video.advancePlaylist;this._isAdvancePlaylist="playlist"===this._playerType?g.playlistPlayer.enabled:g.relatedPlayer.enabled,("contextual"!==this._playerType||this._isCollapsible&&g)&&(this._tearDownPlayerTimeout=x.resolve(bo).result,this._canTearDown=0!==this._tearDownPlayerTimeout&&-1!==this._tearDownPlayerTimeout)}get name(){return`${this._name}`}get collapsible(){return this._isCollapsible}get size(){return this._size}get vp(){return this._prerollNum<=1?this._prerollNum:this._prerollNum<=9?2:3}get isPlayerType(){return this._playerType}init(){this.setup()}getDefaults(){return this._defaults}setDefaults(e){this._defaults=e}resetAdVars(){this._adPlayed=!1,this._nextAdFetched=!1,this._adDurationLogged=!1,this._currentAdTime=0,this._currentAdDurationWithBuffer=0,this._clearStaleTimers()}handleNextAdFetch(){var e;this._nextAdFetched||(this._nextAdFetched=!0,this._prerollNum++,null===(e=this.requestVideoBids([this]))||void 0===e||e.then((()=>this._prerollAdUrl=this.buildVideoUrl(this))).catch((()=>{})))}preventCollapse(){mo.disableCollapse=!0,this._collapseCollection&&mo.uncollapse(this._collapseCollection)}playLinearAd(){this._playerInstance._nonLinearAd=!1,this._playerInstance.playAd(this._prerollAdUrl),this._prebidMethods.markWinningBidAsUsed({adUnitCode:this.name}),this._adPlayed=!0}_setPlayerVersions(){const e=new RegExp("^[0-9]+.[0-9]+.[0-9]+","i"),t=this._playerInstance,i=e.exec(t.version);this.jwVersion=i&&i[0],this.imaVersion=t.plugins&&t.plugins.googima&&t.plugins.googima.version}_getPlayerVersions(){return{imaSDKVersion:this.imaVersion,jwVersion:this.jwVersion}}_tearDownPlayer(){this._tearDownAfterNextAd&&(this._tearDownAfterNextAd=!1,this._tearDownTimer&&clearTimeout(this._tearDownTimer),this._playerInstance.remove(),this.addToPage(),this.setPlayerInstance(this),this.handleScroll())}_enableTearDown(){this._tearDownAfterNextAd=!0}_startTearDownTimer(){const e=this._tearDownPlayerTimeout;this._canTearDown&&(this._tearDownTimer=window.setTimeout(this._enableTearDown.bind(this),e))}_handleErrors(){["adError","setupError","error"].forEach((e=>{const t="adError"===e;this._playerInstance.on(e,(i=>{if(this._clearStaleTimers(),"setupError"===e&&this.preventCollapse(),D.error("JwPlayer",e,{code:i.code,...t&&{message:i.message},...this.getJwEventLog(i)}),"adError"===e){const e={imaSDKVersion:this._playerInstance.plugins.googima.version,message:i.message,jwVersion:this._playerInstance.version,code:i.code,...this._adDetails};D.error("JwPlayer","vastError",e),this._tearDownPlayer()}}))}))}_handleTimeEvents(){this._playerInstance.on("beforeComplete",(()=>{this.resetAdVars(),this._playerInstance._nonLinearAd=!1})),this._playerInstance.on("time",(({position:e,duration:t})=>{!this._nextAdFetched&&t-e<5&&this.handleNextAdFetch()})),this._playerInstance.on("adTime",(e=>{if(this._currentAdTime=e.position,this._config.video.logAdDuration&&!this._adDurationLogged){const t={adDuration:e.duration,roundedAdDuration:Math.round(e.duration)};D.event("VideoManager","VideoAdDuration",t),this._adDurationLogged=!0}})),this._playerInstance.on("adComplete",(()=>{this._tearDownPlayer()}))}_handlePlayingEvents(){["play","firstFrame"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"firstFrame"===e&&this._isAdvancePlaylist&&!this._adPlayed&&this.playLinearAd()}))})),this._playerInstance.on("beforePlay",(async()=>{this._adPlayed||(!this._collapseCollection&&this._isFirstPlay&&(await this.requestVideoBids([this]),this._prerollAdUrl=this.buildVideoUrl(this)),this.playLinearAd(),this._isFirstPlay=!1)})),["adSkipped","adPause"].forEach((e=>{this._playerInstance.on(e,(()=>{this._clearStaleTimers(),"adPause"===e&&this._playerInstance.once("adPlay",(()=>{0!==this._currentAdTime&&this._setStaleAdDetection()}))}))})),this._collapseCollection&&["play","adPlay"].forEach((e=>{this._playerInstance.once(e,(()=>{this._collapseCollection.mediaStarted=!0,mo.handleScroll(this._collapseCollection)}))}))}_handleAdTrackingEvents(){this._playerInstance.on("adLoaded",(e=>{const t=e.ima&&e.ima.ad&&e.ima.ad.h,i=t&&t.duration||e.duration||this._defaultAdDuration;this._currentAdDurationWithBuffer=i+this._adTimingBuffer,t&&(this._adDetails={gamLineItem:t.adWrapperIds,gamCreativeId:t.adWrapperCreativeIds,vastCreativeId:t.creativeId,mediaFileURL:t.mediaUrl}),this._setStaleAdDetection()})),this._config.video.logAdLifeCycle&&["adRequest","adImpression","adStarted","adViewableImpression"].forEach((e=>{this._playerInstance.on(e,(t=>{D.event("JwPlayer",e,this.getJwEventLog(t))}))}))}_setupEventListeners(){this._handleErrors(),this._handleTimeEvents(),this._handlePlayingEvents(),this._handleAdTrackingEvents(),this._playerInstance.on("ready",(()=>{this._startTearDownTimer()}))}jwSetup(e){const t={...this._defaults,...this._baseConfig,...e};this._playerInstance.setup(t),this.handleNonLinearAd(),this._setupEventListeners(),this._playerInstance.on("adLoaded",(e=>{const t=e.ima&&e.ima.ad&&e.ima.ad.h,i=t&&t.duration||e.duration||this._defaultAdDuration;this._currentAdDurationWithBuffer=i+this._adTimingBuffer,t&&(this._adDetails={gamLineItem:t.adWrapperIds,gamCreativeId:t.adWrapperCreativeIds,vastCreativeId:t.creativeId,mediaFileURL:t.mediaUrl}),this._setStaleAdDetection()}))}_clearStaleTimers(){this._stalePlayerTimer&&(clearTimeout(this._stalePlayerTimer),this._stalePlayerTimer=null)}_setStaleAdDetection(){const e=this._currentAdDurationWithBuffer-this._currentAdTime;this._stalePlayerTimer||(this._stalePlayerTimer=window.setTimeout((()=>{D.error("JwPlayer","stalePlayer",{message:"JwPlayer encountered an unknown error during ad play",...this._getPlayerVersions(),...this._adDetails}),-1===this._tearDownPlayerTimeout?(this._enableTearDown(),this._tearDownPlayer()):this._playerInstance.playlistItem(this._playerInstance.getPlaylistIndex())}),1e3*e))}getJwEventLog(e){return{playerName:this._name,rawData:this.trimEventData(e)}}set videoAdUnit(e){this._videoAdUnit=e}get videoAdUnit(){return this._videoAdUnit}handleNonLinearAd(){this._playerInstance.on("adImpression",(e=>{const t=Le(e.ima,"ad")?e.ima.ad:null,i=Fe(t,"g")||Le(t,"h");if(i&&Le(i,"linear")&&!1===i.linear||"nonlinear"===e.linear){this._playerInstance._nonLinearAd=!0,this._playerInstance.pause();const e=document.getElementById(`${this._playlistId}`),t=e.querySelector("div > div.jw-overlays.jw-reset");t.style.backgroundColor="black";const i=e.querySelector("div.jw-wrapper.jw-reset > div.jw-controls.jw-reset");i.style.zIndex="-1",this._playerInstance.once("adComplete",(()=>{this._playerInstance._nonLinearAd=!1,t.style.backgroundColor="transparent",i.style.zIndex="",this._playerInstance.play()}))}}))}getJwBoostTargeting(){return{playerID:this._playlistId,...(this.name===Ct.Video_In_Post_ClicktoPlay_SoundOn||this.name===Ct.Video_Individual_Autoplay_SOff)&&{mediaID:this._playlistId}}}handleScroll(){this._collapseCollection&&mo.handleScroll(this._collapseCollection)}handleResize(){this._collapseCollection&&mo.handleResize(this._collapseCollection)}handlePageVisibilityChange(e){this._collapseCollection&&mo.handlePageVisibilityChange(e,this._collapseCollection)}displayCloseButton(){this._collapseCollection&&mo.displayCloseButton(this._collapseCollection)}handleClose(){this._collapseCollection&&(this._saveVideoCloseState&&se("video_closed",!0),mo.handleClose(this._collapseCollection))}handleUserClick(){this._collapseCollection&&mo.handleUserClick(this._collapseCollection)}handleWidthBreak(e){this._collapseCollection&&mo.handleWidthBreak(e,this._collapseCollection)}handleVideoPlayingEvent(e){if(this._collapseCollection){if(e===this._playlistId)return;mo.handleOtherVideoPlaying(this._collapseCollection)}}handleTitleClick(e){this._collapseCollection.collapseTimer.firstInView&&D.event("jw-player","handleTitleClick",{timeElapsed:Date.now()-this._collapseCollection.collapseTimer.firstInView.valueOf(),link:e.currentTarget.getAttribute("href")})}handleFooterRefreshedEvent(){this._collapseCollection&&mo.repositionCollapseMobileBottom(this._collapseCollection)}configureQuality(){Ce()||this._playerInstance.on("levels",(e=>{this._playerInstance.setCurrentQuality(e.levels.length-1)}))}getCollapseSubType(e,t){return"adthrive-collapse-bottom-right"}createDefaultButton(){return this._videoCloseButtonComponent.createDefaultButton(this.handleClose.bind(this))}createPlayerCloseButton(){const e=this._wrapperTitleWrapperElement||this._videoTitleElement,t=this._stickyPlayerPositionExperiment.result;return this._closeButton=this._videoCloseButtonComponent.createPlayerCloseButton(this.handleClose.bind(this),this._stickyInstreamCloseButtonExperiment.result,"adthrive-collapse-close",!!e,t),this._closeButton}createPlayerCollapseBackgroundElement(){const e=document.createElement("div");return e.classList.add("adthrive-collapse-mobile-background"),e.style.width=`${window.innerWidth}px`,e.style.display="none",e}createPlayerWrapper(e){if(e){this._wrapperTitleWrapperElement=document.createElement("a");const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","24"),e.setAttribute("height","24"),e.setAttribute("style","vertical-align: top;");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d","M 16 1 H 23 V 8 Z M 19.5 12.5 V 23 H 1 V 4.5 H 12 l 1 1 H 2 V 22 H 18.5 V 11.5 l 1 1 v 1 M 19 4 L 11.5 11.5 l 1 1 L 20 5"),t.setAttribute("stroke","white"),t.setAttribute("stroke-width","2"),t.setAttribute("stroke-linejoin","round"),e.appendChild(t),this._wrapperTitleWrapperElement.appendChild(e)}else this._wrapperTitleWrapperElement=document.createElement("div");this._videoTitleElement=document.createElement("span");const t=document.createElement("div"),i=document.createElement("div");return i.className="adthrive-wrapper-title-wrapper",this._videoTitleElement.classList.add("adthrive-video-text-cutoff"),this._videoTitleElement.classList.add("adthrive-video-title"),this._wrapperTitleWrapperElement.className="adthrive-video-text-cutoff",this._wrapperTitleWrapperElement.appendChild(this._videoTitleElement),this._wrapperTitleWrapperElement.target="_blank",this._wrapperTitleWrapperElement.onclick=this.handleTitleClick.bind(this),this._closeButton="off"!==this._stickyInstreamCloseButtonExperiment.result||this._stickyPlayerPositionExperiment.result?this.createPlayerCloseButton():this.createDefaultButton(),i.appendChild(this._wrapperTitleWrapperElement),t.className="adthrive-wrapper-bar",t.appendChild(i),t.appendChild(this._closeButton),t}trimEventData(e){var t,i,s,n,r;const o={...e};return(null==o?void 0:o.tag)&&delete o.tag,(null===(s=null===(i=null===(t=null==o?void 0:o.ima)||void 0===t?void 0:t.ad)||void 0===i?void 0:i.g)||void 0===s?void 0:s.traffickingParameters)&&delete o.ima.ad.g.traffickingParameters,(null===(r=null===(n=null==o?void 0:o.ima)||void 0===n?void 0:n.userRequestContext)||void 0===r?void 0:r.adTagUrl)&&delete o.ima.userRequestContext.adTagUrl,(null==o?void 0:o.mediaFile)&&delete o.mediaFile,o}handleNextButton(){this._calledNextVideo=!0,this.removeSkipContainer(),this.resetAdVars(),this._isAdvancePlaylist&&1===this._playerInstance.getPlaylist().length?(this._playerInstance.pause(),this._playerInstance.seek(0),this._playerInstance.trigger("firstFrame",{loadTime:0,viewable:1})):this._playerInstance.next()}createNavButton(e){const t=document.createElement("div");return t.id=`${e}-video`,t.textContent=e.charAt(0).toUpperCase()+e.slice(1),Co(15)||t.classList.add("video-box-shadow"),t}createSkipContainer(){const e=document.createElement("div");e.id="next-stay-container";const t=this.createNavButton("next");return t.onclick=this.handleNextButton.bind(this),e.appendChild(t),e.appendChild(this.createNavButton("stay")),e}initSkipContainer(){this._playerInstance.on("time",(({position:e,duration:t})=>{!this._canSkip||this._playerInstance._nonLinearAd||this._wasClicked||t<40||(!this._createdSkipContainer&&e>=25?(this._createdSkipContainer=!0,this.handleNextAdFetch(),this._skipContainer=this.createSkipContainer(),this._playerInstance.getContainer().appendChild(this._skipContainer),getComputedStyle(this._skipContainer).backgroundColor&&this._skipContainer.classList.add("loaded")):this._createdSkipContainer&&!this._calledNextVideo&&e>=30&&this.handleNextButton())}))}handleVideoPlayerClicked(){this._wasClicked=!0,this.removeSkipContainer()}removeSkipContainer(){var e,t;null===(t=null===(e=this._skipContainer)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this._skipContainer),this._skipContainer=void 0}handleFirstFrame(){this._calledNextVideo=!1,this._createdSkipContainer=!1,this._wasClicked=!1}}let wo=class extends So{constructor(e,t,i,s,n,r,o,a,l,d,c,h){super(e,t,i,s,n,r,1e4,o,l,d,c,"contextual",a),this._mobileLocation=h,this._topBackgroundElement=null,this._playerConfig={repeat:!0,nextupoffset:-.01,playlist:`https://cdn.jwplayer.com/v2/media/${this._playlistId}`},this._wrapperBarRemoved=!1,this._playerElement=document.createElement("div"),this._canSkip=!1,this._autoplayStationaryPlayer=this._shouldStationaryAutoplay(),(a||this._autoplayStationaryPlayer)&&(this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this._playerContainer=this._pageElement,this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)))}addToPage(){}_appendPlayer(){const e=document.createElement("div");e.id=this._playlistId,e.className="adthrive-jw-static-player",this._isCollapsible?(this._pageElement.id="adthrive-contextual-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-contextual-position",this._config.video.removeVideoTitleWrapper?this._playerElement.appendChild(this.createPlayerCloseButton()):this._playerElement.appendChild(this.createPlayerWrapper(!1)),this._playerElement.appendChild(e),"adthrive-collapse-mobile"===this._collapseType&&this._stickyPlayerPositionExperiment.result&&(this._topBackgroundElement=this.createPlayerCollapseBackgroundElement(),this._pageElement.appendChild(this._topBackgroundElement)),this._pageElement.appendChild(this._playerElement)):this._pageElement.appendChild(e)}setup(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._isCollapsible&&(this._collapseCollection={playerInstance:this._playerInstance,playerType:"contextualCollapse",playerState:this._state,playerContainer:this._pageElement,playerElement:this._playerElement,topBackgroundElement:this._topBackgroundElement,footerElement:this._config.video.footerSelector?document.querySelector(this._config.video.footerSelector):null,stickyElement:this._stickyElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseMobileSizeType:this._collapseMobileSizeType,collapseSubType:this.getCollapseSubType(this._collapseType,this._stickyElement),collapseMobileSubType:this._getCollapseMobileSubType(),collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}),this.jwSetup(this._playerConfig),this._playerInstance.on("play",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._isCollapsible?this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this)):this._eventProxy.videoPlaying.on(this.contextualHandleVideoPlayingEvent.bind(this)),this._config.video.contextualPlayerAdded=!0,this._playerInstance.on("ready",(()=>{this.configureQuality(),this.initRelatedPlaylist(),this._setPlayerVersions(),this._prerollAdUrl=this.buildVideoUrl(this),this._autoplayStationaryPlayer&&(Li.playerInView(this._pageElement)&&this._playerInstance.play(!0),this._logStationaryAutoplay()),this._isCollapsible&&this.playerReady()}))}_logStationaryAutoplay(){this._config.video.logAdLifeCycle&&D.event("JwPlayer","StaticPlayer",{message:`Static Player set to autoplay for playlist id ${this._playlistId}`,...this._getPlayerVersions()})}loadPlaylistPlayerVideos(){this._config.video.jwPlaylist.then((e=>{if(e.playlist&&e.playlist.length){const t=this._playerInstance.getPlaylist().concat(Li.shufflePlaylist(e.playlist));this._playerInstance.once("userInactive",(()=>{var e;return!(null===(e=this._collapseCollection)||void 0===e?void 0:e.mediaStarted)&&this.handleScroll()})),this._playerInstance.load(t),this.handleScroll()}})).catch((()=>!1))}setupAllowSkip(){this._config.video.advancePlaylist.relatedPlayer.applyToFirst&&(this._canSkip=!0),this._playerInstance.once("complete",(()=>{this.hideWrapperBar(),this._canSkip=!0}))}handleNextButton(){this.hideWrapperBar(),super.handleNextButton()}_shouldStationaryAutoplay(){return!this._config.video.playlistPlayerAdded&&!!document.querySelector("body.adthrive-video-autoplay")}setWrapperBar(){this._wrapperBar=this._playerElement.querySelector(".adthrive-wrapper-bar")}hideWrapperBar(){const e=this._wrapperBar,t=this._playerElement;!this._wrapperBarRemoved&&e&&(this._wrapperBarRemoved=!0,e.parentNode&&e.parentNode.removeChild(e),this._wrapperBar=null,t.insertBefore(this.createPlayerCloseButton(),t.firstChild),this._collapseCollection&&(this._collapseCollection.closeButton=this._closeButton,this.displayCloseButton()))}initRelatedPlaylist(){this._config.video.advancePlaylist.relatedPlayer.shouldRun.then((e=>{e&&(this.loadPlaylistPlayerVideos(),this.setupAllowSkip(),this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer())})).catch((()=>!1))}playerReady(){if(this.setWrapperBar(),this._wrapperBar&&this._wrapperBar.style.setProperty("display","flex"),this._videoTitleElement){const e=this._playerInstance.getPlaylistItem(0),t=Fe(e,"title");this._videoTitleElement.innerText="string"==typeof t?t:""}this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"===e.playReason&&this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this.handleResize()}contextualHandleVideoPlayingEvent(e){e!==this._playlistId&&this._playerInstance.pause(!0)}_getCollapseMobileSubType(){return this._mobileLocation?this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation:void 0}};wo=M([We("ContextualPlayer"),O("design:paramtypes",[Object,String,String,Array,HTMLElement,$r,Ni,Boolean,String,String,Hi,String])],wo);let ko=class extends So{constructor(e,t,i,s,n,r,o,a,l="adthrive-collapse-float",d,c,h,p,u,g){super(e,t,i,s,r,o,a.video.vastTimeout,a,l,d,c,"playlist",!0,p),this._sharedVideoSettings=n,this._mobileLocation=h,this._title=u,this._shuffle=g,this._topBackgroundElement=null,this._isCollapsible=!0,this._playerConfig={playlist:`https://cdn.jwplayer.com/v2/playlists/${this._playlistId}`,related:{autoplaytimer:0}},this._playerConfig={...this._playerConfig,...this._autoplayBehaviorConfig},this.initialAuctionPlayer=!0,this._stickyElement=null,this._checkVideoClose()&&(this._state=7),this._config.video.footerSelector?this._footerElement=document.querySelector(this._config.video.footerSelector):this._footerElement=null,"adthrive-collapse-mobile"===this._collapseType&&this._eventProxy.footerRefreshed.on(this.handleFooterRefreshedEvent.bind(this)),this.clsPlayerContainer=document.querySelector(`#cls-video-container-${this._playlistId} > div`),this._playerContainer=this.clsPlayerContainer?this.clsPlayerContainer:document.createElement("div"),this._playerElement=document.createElement("div"),this._collapseCollection={playerInstance:this._playerInstance,playerType:"playlist",playerState:this._state,playerContainer:this._playerContainer,playerElement:this._playerElement,stickyElement:this._stickyElement,footerElement:this._footerElement,closeButton:this._closeButton,closeButtonTimeout:this._config.video.closeButtonTimeout,forceMobile:"desktop"!==this._config.context.device,collapseType:this._collapseType,collapseSubType:this.getCollapseSubType(this._collapseType,this._stickyElement),collapseMobileSizeType:this._collapseMobileSizeType,collapseMobileSubType:this._getCollapseMobileSubType(),collapseTimer:{timeCollapsed:0,isRunning:!1},mediaStarted:!1}}setup(){this._eventProxy.scroll.on(this.handleScroll.bind(this)),this._eventProxy.resize.on(this.handleResize.bind(this)),this._eventProxy.pageVisibility.on(this.handlePageVisibilityChange.bind(this)),this._eventProxy.videoPlaying.on(this.handleVideoPlayingEvent.bind(this))}_appendPlayer(){const e=document.createElement("div"),t=document.createElement("h3");this._playerContainer.classList.add("adthrive-player-container"),this._playerContainer.classList.add("adthrive-collapse-player"),this._playerContainer.id="adthrive-collapse-container",this._playerElement.className="adthrive-player-position",this._playerElement.id="adthrive-collapse-position",e.id=this._playlistId,t.innerText=this._getTitle(),t.className="adthrive-player-title",t.id="adthrive-collapse-title",this._playerElement.appendChild(t),this._config.video.removeVideoTitleWrapper?this._playerElement.appendChild(this.createPlayerCloseButton()):this._playerElement.appendChild(this.createPlayerWrapper(!0)),this._collapseCollection.closeButton=this._closeButton,this._playerElement.appendChild(e),"adthrive-collapse-mobile"===this._collapseType&&this._stickyPlayerPositionExperiment.result&&(this._topBackgroundElement=this.createPlayerCollapseBackgroundElement(),this._playerContainer.appendChild(this._topBackgroundElement)),this._playerContainer.appendChild(this._playerElement),this.clsPlayerContainer||this._pageElement.insertAdjacentElement(this._sharedVideoSettings.position,this._playerContainer)}addToPage(){this._isFirstPlay&&this._appendPlayer(),this._playerInstance=window.jwplayer(this._playlistId),this._collapseCollection&&(this._collapseCollection.playerInstance=this._playerInstance,this._collapseCollection.playerContainer=this._playerContainer,this._collapseCollection.playerElement=this._playerElement,this._collapseCollection.topBackgroundElement=this._topBackgroundElement),this.jwSetup(this._playerConfig),this._playerInstance.on("ready",this.playerReady.bind(this)),this._config.video.playlistPlayerAdded=!0}playerReady(){var e;this._setPlayerVersions(),this._prerollAdUrl=this.buildVideoUrl(this),null===(e=this._playerElement.querySelector(".adthrive-wrapper-bar"))||void 0===e||e.style.setProperty("display","flex");if(this._getShuffle()){const e=this._playerInstance.getPlaylist();this._playerInstance.load(Li.shufflePlaylist(e))}this._config.video.advancePlaylist.playlistPlayer.enabled&&(this._playerInstance.on("firstFrame",(()=>this.handleFirstFrame())),this._playerInstance.getContainer().addEventListener("click",(()=>this.handleVideoPlayerClicked())),this.initSkipContainer()),this._playerInstance.on("pause",(e=>{"interaction"===e.pauseReason&&this.handleUserClick()})),this._playerInstance.on("play",(e=>{"interaction"!==e.playReason||this._calledNextVideo||this.handleUserClick(),this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("adPlay",(()=>{this._eventProxy.emitVideoPlayingEvent(this._playlistId)})),this._playerInstance.on("playlistItem",(e=>{const t=e.item;this._videoTitleElement&&Le(t,"title")&&"string"==typeof t.title&&(this._videoTitleElement.innerText=t.title),this._wrapperTitleWrapperElement&&Le(t,"link")&&"string"==typeof t.link&&(this._wrapperTitleWrapperElement.href=t.link)})),this.configureQuality(),this.handleResize()}_getShuffle(){return!!this._shuffle&&this._shuffle}_getTitle(){return this._title?this._title:""}_getCollapseMobileSubType(){return this._mobileLocation?this._stickyPlayerPositionExperiment.result?"adthrive-collapse-top-center":this._mobileLocation:void 0}_checkVideoClose(){return this._saveVideoCloseState&&this._config.video.videoWasClosed}};ko=M([We("PlaylistPlayer"),O("design:paramtypes",[String,String,String,Array,Object,HTMLElement,$r,Ni,String,String,Hi,String,Boolean,String,Boolean])],ko);let Eo=class extends fo{constructor(e,t,i,s,n,r,o,a,l){super(),this._playlistId=e,this._portalSettings=t,this._pageElement=i,this._device=s,this._width=n,this._height=r,this._isCollapse=o,this._config=a,this._videoRequestManager=l,this.API_ID="sekindoPlayer",this._clsContainer=null,this._hasTitle=!(!this._portalSettings.title||null===this._portalSettings.title&&""===this._portalSettings.title)}addToPage(){this.setup(),this._config.video.sekindoPlayerAdded=!0}setup(){window.addEventListener("primisPlayerInit",(e=>{e.detail.playerApiId===this.API_ID&&(D.event("sekindo-player","init","Sekindo player initialized"),this._videoRequestManager.requestingSekindoBids.emit(this).catch((()=>{})))})),this._clsContainer=document.querySelector(`#cls-video-container-${this._playlistId}`);const e=document.createElement("div");e.className="adthrive-sekindo-player",e.id="adthrive-sekindo-container";const t=document.createElement("script"),i=Li.createQueryString({s:this._isCollapse?98876:87493,cbuster:"%%CACHEBUSTER%%",pubUrl:"%%REFERRER_URL_ESC_ESC%%",x:this._width,y:this._height,vp_contentFeedId:this._playlistId,subId:this._config.site.id,playerApiId:this.API_ID});t.async=!0,t.defer=!0,t.type="text/javascript",t.src=`https://live.primis.tech/live/liveView.php?${i}`,"desktop"===this._device?this._desktopSetup(e,t):this._mobileSetup(e,t)}_desktopSetup(e,t){if(this._hasTitle){const t=document.createElement("h4");t.innerText=this._portalSettings.title,t.classList.add("widgettitle"),t.id="adthrive-sekindo-desktop-title",e.appendChild(t)}e.appendChild(t),this._clsContainer?this._clsContainer.appendChild(e):this._pageElement.insertAdjacentElement(this._portalSettings.position,e)}_mobileSetup(e,t){if(this._hasTitle){const t=document.createElement("strong");t.innerText=this._portalSettings.title,t.id="adthrive-sekindo-mobile-title",e.appendChild(t)}e.appendChild(t);const i=document.createElement("div");i.className="adthrive-sekindo-mobile-center",i.id="adthrive-sekindo-mobile-wrapper",i.appendChild(e),this._clsContainer?this._clsContainer.appendChild(i):this._pageElement.insertAdjacentElement(this._portalSettings.position,i)}};Eo=M([We("SekindoPlayer"),O("design:paramtypes",[String,Object,HTMLElement,String,Number,Number,Boolean,Ni,er])],Eo);class xo extends xn{constructor(e,t,i){super(),this._videoConfig=e,this._component=i,this._stickyRelatedOnPage=!1,this._contextualMediaIds=[];const s=this._videoConfig.players||[];this._device=Ce()?"desktop":"mobile",this._potentialPlayerMap=this._setPotentialPlayerMap(t);const n=s.filter((e=>"stationaryRelated"===e.type&&e.enabled));this._potentialPlayerMap.stationaryRelated=n}_setPotentialPlayerMap(e){const t=this._videoConfig.players,i={stickyRelated:[],stickyPlaylist:[],sekindo:[],stationaryRelated:[]};return t&&t.length?t.filter((e=>{var t;return(null===(t=e.devices)||void 0===t?void 0:t.indexOf(this._device))>-1})).reduce(((t,i)=>(t[i.type]||(D.event(this._component,"constructor","Unknown Video Player Type detected",i.type),t[i.type]=[]),i.enabled&&(e&&"sekindo"===i.type||t[i.type].push(i)),t)),i):i}_checkPlayerSelectorOnPage(e){const t=this._potentialPlayerMap[e].map((e=>({player:e,playerElement:this._getPlacementElement(e)})));return t.length?t[0]:{player:null,playerElement:null}}_getOverrideElement(e,t,i){if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}else{const{player:e,playerElement:t}=this._checkPlayerSelectorOnPage("stickyPlaylist");if(e&&t){const s=document.createElement("div");t.insertAdjacentElement(e.position,s),i=s}}return i}_shouldOverrideElement(e){const t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.contextualSettings&&this._videoConfig.contextualSettings.overrideEmbedLocation}_getPlacementElement(e){const t=Ue(e.pageSelector),i=qe(e.elementSelector);return t.valid?e.pageSelector&&!t.elements.length?(D.event("VideoUtils","getPlacementElement",new Error(`PSNF: ${e.pageSelector} does not exist on the page`)),null):i.valid?i.elements.length>e.skip?i.elements[e.skip]:(D.event("VideoUtils","getPlacementElement",new Error(`ESNF: ${e.elementSelector} does not exist on the page`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.elementSelector} is not a valid selector`)),null):(D.error("VideoUtils","getPlacementElement",new Error(`${e.pageSelector} is not a valid selector`)),null)}_getEmbeddedPlayerType(e){let t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.contextualSettings?this._videoConfig.contextualSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t}_getUnusedMediaId(e){const t=e.getAttribute("data-video-id");return!(!t||-1!==this._contextualMediaIds.indexOf(t))&&(this._contextualMediaIds.push(t),t)}_createRelatedPlayer(e,t,i){"collapse"===t?this._createCollapsePlayer(e,i):"static"===t&&this._createStaticPlayer(e,i)}_createCollapsePlayer(e,t){const{player:i,playerElement:s}=this._checkPlayerSelectorOnPage("stickyRelated"),n=i||this._potentialPlayerMap.stationaryRelated[0];if(n&&n.playerId){this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,s,t)),t=document.querySelector(`#cls-video-container-${e} > div`)||t,this._createStickyRelatedPlayer({...n,mediaId:e},t)}else D.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(e,t){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){const i=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer({...i,mediaId:e},t)}else D.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return!(!this._isVideoAllowedOnPage()||!(this._potentialPlayerMap.stickyRelated.length||this._potentialPlayerMap.stickyPlaylist.length||this._potentialPlayerMap.sekindo.length))}_determineAutoplayPlayers(){const e=this._component,t="VideoManagerComponent"===e,i=this._config;if(this._stickyRelatedOnPage)return void D.event(e,"stickyRelatedOnPage",t&&{device:i&&i.context.device,isDesktop:this._device}||{});const{player:s,playerElement:n}=this._checkPlayerSelectorOnPage("stickyPlaylist"),{player:r,playerElement:o}=this._checkPlayerSelectorOnPage("sekindo");s&&s.playerId&&s.playlistId&&n?this._createPlaylistPlayer(s,n):r&&r.playlistId&&o?this._createSekindoPlayer(r,o):D.event(e,"noStickyPlaylistOrSekindo",t&&{vendor:"none",device:i&&i.context.device,isDesktop:this._device}||{})}_initializeRelatedPlayers(e){for(let t=0;t<e.length;t++){const i=e[t],s=this._getEmbeddedPlayerType(i),n=this._getUnusedMediaId(i);n&&this._createRelatedPlayer(n,s,i)}}}let Po=class{constructor(e,t,i,s,n){this._abgroup=e,this._auctionManagers=t,this._config=i,this._gam=s,this._irisTv=n,this.shouldPrebidRun=!1}getVideoTargeting(e,t){const i=this._irisTv.irisContextualData,s={},n="rvadv_ab";if(Object.keys(t).forEach((e=>{const i=this._abgroup.get(n);"abgroup"===e&&i&&t[e].push(`rvadv_ab:${i}`),s[e]=encodeURIComponent(t[e].toString())})),s.vprenum=String(e._prerollNum),s.jwv=e.jwVersion||"",s.imav=e.imaVersion||"",i){s["iris_context"]=i.toString()}return s}getAmazonBidTargeting(e,t){const i=e&&e.getVideoBid&&e.getVideoBid(t);if(i)return{amznbid:i.amznbid,amzniid:i.amzniid,amznp:i.amznp}}getCustParams(e){const t=this._gam.getTargetingMap(),i=this._auctionManagers.getAmazonAuctionManager();return{...this.getVideoTargeting(e,t),...i&&this.getAmazonBidTargeting(i,e._playlistId)}}handleGdprConsent(){const e={gdpr:1,gdpr_consent:"tcunavailable"};return"function"==typeof window.__tcfapi&&window.__tcfapi("getFullTCData",2,(t=>{t&&t.tcString.length&&(e.gdpr_consent=t.tcString),t&&t.addtlConsent.length&&(e.addtl_consent=t.addtl_consent)})),e}getConsentParams(){if(this._config.gdpr.enabled)this.handleGdprConsent();else if(this._config.ccpa.privacyString)return{us_privacy:this._config.ccpa.privacyString}}getDefaultVideoUrlParams(e){return{iu:`/${this._config.gam.account}/${this._config.gam.prefix}_${e.name}/${this._config.site.id}`,sz:e.size.join("x"),hl:"en",output:"vast",url:"__referrer__",vad_type:"linear",description_url:"__domain__",pp:"10_VAST%20redirects_video%2Fmp4_VPAID%20JavaScript"}}buildGAMVideoUrl(e){const t=this.getConsentParams(),i=Li.createQueryString(this.getCustParams(e)),s=Li.createEncodedQueryString({cust_params:i}),n=this.getDefaultVideoUrlParams(e),r={env:"vp",gdfp_req:"1",unviewed_position_start:"1",correlator:Date.now(),...n,...t};return`https://securepubads.g.doubleclick.net/gampad/ads?${Li.createQueryString(r)}&${s}`}buildGAMVideoUrlPrebid(e){const t=this.getCustParams(e),i=this.getDefaultVideoUrlParams(e);return pbjs.adServers.dfp.buildVideoUrl({adUnit:e.videoAdUnit,params:{...i,cust_params:t}})}buildVideoUrl(e){return this.shouldPrebidRun?this.buildGAMVideoUrlPrebid(e):this.buildGAMVideoUrl(e)}};Po=M([We("VideoUrlBuilder"),I(),O("design:paramtypes",[et,kn,Ni,Wi,$s])],Po);let To=class extends it{constructor(e){super(),this.abgroup=e,this.key="sekho",this._result=!1,this._choices=[{choice:!0},{choice:!1}];const t=window,i=t&&t.adthriveCLS,s=i&&i.experiments,n=s&&this.key in s;this._result=s&&n?s[this.key]:this.run(),this.abgroup.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return new nt(.05).get()}};To=M([T(),We("SekindoHoldoutExperiment"),O("design:paramtypes",[et])],To);let Io=class extends xo{constructor(e,t,i,s,n,r,o,a,l,d,c,h){super(e.video,d.result,"VideoManagerComponent"),this._config=e,this._bootstrapConfig=t,this._prebidMethods=i,this._jwBoostExperiment=s,this._userPageDataLoggingEvent=n,this._collapsibleVideoLoggingStore=r,this._videoRequestManager=o,this._eventProxy=a,this._mediaType=l,this._sekindoHoldoutExperiment=d,this._videoUrlBuilder=c,this._irisTv=h,this._sekindoPlayers=[],this._jwPlayers=[],this._IN_POST_SELECTOR=".adthrive-video-player"}init(){this._handleCollapsibleVideoLogging(),this._initializePlayers(),this._mediaType.runOneStreamExperiment()}_initializePlayers(){const e=document.querySelectorAll(this._IN_POST_SELECTOR);if(e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()){this._determineAutoplayPlayers();try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}else try{this._importScripts()}catch(e){D.error("VideoManagerComponent","initializePlayers",e)}}_createStationaryRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ct.Video_In_Post_ClicktoPlay_SoundOn,n=new wo(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!1,"adthrive-collapse-mobile","adthrive-collapse-medium",this._prebidMethods);this._jwPlayers.push(n)}_createStickyRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],s=Ct.Video_Individual_Autoplay_SOff,n=this._getCollapseType();this._collapsibleVideoLoggingStore.playerName=s,this._stickyRelatedOnPage=!0,this._config.video.mobileStickyPlayerOnPage="mobile"===this._device;const r=new wo(e.playerId,e.mediaId,s,i,t,this._eventProxy,this._config,!0,n,"adthrive-collapse-medium",this._prebidMethods,e.mobileLocation);this._jwPlayers.push(r)}_createSekindoPlayer(e,t){const i=e.playlistId,s="mobile"===this._device?{width:340,height:260}:{width:320,height:250},n={...e,classNames:[]};this._sekindoPlayers.push(new Eo(i,n,t,this._device,s.width,s.height,!1,this._config,this._videoRequestManager))}_createPlaylistPlayer(e,t){const i=e.playerId,s=e.playlistId,n=this._getCollapseType(),r="adthrive-collapse-mobile"===n?[400,225]:[640,360],o="mobile"===this._device?Ct.Video_Coll_SOff_Smartphone:Ct.Video_Collapse_Autoplay_SoundOff,a={classNames:[],enabled:!0,pageSelector:e.pageSelector,elementSelector:e.elementSelector,position:e.position,skip:e.skip};this._config.video.mobileStickyPlayerOnPage=!0;const l=new ko(i,s,o,r,a,t,this._eventProxy,this._config,n,"adthrive-collapse-medium",this._prebidMethods,e.mobileLocation,e.saveVideoCloseState,e.title,e.shuffle);this._collapsibleVideoLoggingStore.playerName=o,this._jwPlayers.push(l)}_initJwBoost(){this._prebidMethods.setConfig({...this._jwBoostExperiment.result&&this._jwPlayers.length&&{realTimeData:{dataProviders:[{name:"jwplayer",params:{mediaIDs:this._contextualMediaIds}}]}}})}_hasCollapsiblePlayer(e){return!!e.length&&e.some((e=>e.collapsible))}_hasInViewAutoplayStationaryPlayer(e){return!!e.length&&e.some((e=>!e.collapsible&&Li.playerInView(e._pageElement)))}_setPlayerInstance(e){this._resetPlayer(e)}_resetPlayer(e){e.init()}async _initializePlayer(e,t){const i=this._videoRequestManager;e.setDefaults(window.jwplayer.defaults),window.jwplayer.defaults={},await this._bootstrapConfig.bootstrapLoaders[vt.Prebid].then((()=>{this._videoUrlBuilder.shouldPrebidRun=!0})).catch((()=>{})),t&&this._contextualMediaIds[0]&&await this._irisTv.setContextualData(this._contextualMediaIds[0]),i.addVideoSlots([e]),e.initialAuctionPlayer&&await i.requestVideoBids([e]),e.setPlayerInstance=this._setPlayerInstance.bind(this),e.requestVideoBids=async e=>await i.requestVideoBids(e),Wi.pushToQueue((()=>{e.buildVideoUrl=this._videoUrlBuilder.buildVideoUrl.bind(this._videoUrlBuilder),e.addToPage(),e.init()}))}_importScripts(){const e=this._hasCollapsiblePlayer(this._jwPlayers),t=!e&&this._hasInViewAutoplayStationaryPlayer(this._jwPlayers);(e||t||this._sekindoPlayers.length)&&(this._config.video.preventStickyOutstream=!0),this._initJwBoost(),this._jwPlayers.length&&(this._config.video.hasJwPlayer=!0),this._jwPlayers.forEach((e=>{const t="contextual"===e.isPlayerType;t&&this._config.video.setupAdvanceRelatedExperiment(e.collapsible),ce(`https://content.jwplatform.com/libraries/${e._playerId}.js`).then((async()=>this._initializePlayer(e,t))).catch((e=>D.error("VideoManagerComponent","importScripts",e)))})),this._sekindoPlayers.forEach((e=>{e.addToPage()}))}_isVideoAllowedOnPage(){return!this._config.disableAds.video||(this._config.disableAds.reasons.has("video_tag")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video tag")):this._config.disableAds.reasons.has("video_plugin")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via video plugin")):this._config.disableAds.reasons.has("video_page")?D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via command queue")):D.error("VideoManagerComponent","isVideoAllowedOnPage",new Error("DBP: Disabled by publisher via other")),!1)}_getCollapseType(){return"mobile"===this._device?"adthrive-collapse-mobile":"adthrive-collapse-float"}_handleCollapsibleVideoLogging(){mo.collapseEvent.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime=Pe()})),mo.uncollapseEvent.on((()=>{this._collapsibleVideoLoggingStore.totalTimeCollapsed+=this._collapsibleVideoLoggingStore.startedCollapsedTime?Pe()-this._collapsibleVideoLoggingStore.startedCollapsedTime:0,this._collapsibleVideoLoggingStore.startedCollapsedTime=void 0})),mo.closeEvent.on((()=>{this._collapsibleVideoLoggingStore.wasClosed=!0})),mo.startEvent.once().then((()=>{this._collapsibleVideoLoggingStore.wasStarted=!0})).catch((()=>{})),this._userPageDataLoggingEvent.loggingData.on((()=>{this._collapsibleVideoLoggingStore.startedCollapsedTime&&(this._collapsibleVideoLoggingStore.totalTimeCollapsed+=Pe()-this._collapsibleVideoLoggingStore.startedCollapsedTime)}))}};Io=M([We("VideoManagerComponent"),T(),O("design:paramtypes",[Ni,pt,Hi,un,vi,Tn,er,$r,ps,To,Po,$s])],Io);let Mo=class extends xn{constructor(e,t){super(),this._bootstrapConfig=e,this._pageManager=t,this._maxTimeOnPage=36e5,this._webVitals=[],this._webVitalsSent=!1,this._visibilityChangeOff=this._pageManager.visibilityChange.on((()=>this.logWebVitals()))}init(){J().then((()=>{const e=window.webVitals,t=this.addWebVital;e.getFID(t),e.getCLS(t),e.getLCP(t),e.getFCP(t),e.getTTFB(t)})).catch((()=>!1)),window.addEventListener("LogWebVital",(e=>{this._webVitals.push(e.detail)})),setTimeout((()=>{this.logWebVitals()}),this._maxTimeOnPage)}addWebVital({name:e,delta:t,value:i,id:s}){const n=new CustomEvent("LogWebVital",{detail:{name:e,delta:t,value:i,id:s}});window.dispatchEvent(n)}logWebVitals(){if(this._webVitalsSent)return;const e={webVitals:this._webVitals,gptLoad:!0};this._webVitalsSent=!0,this._visibilityChangeOff(),this._bootstrapConfig.gptLibFailed&&(e.gptLoad=!1),D.fetchEvent("WebVitalsComponent","logWebVital",e)}get enabled(){return this._bootstrapConfig.webVitalsEnabled}};Mo=M([We("WebVitalsComponent"),T(),O("design:paramtypes",[pt,Ci])],Mo);let Ao=class extends it{constructor(e){super(),this._result=!1,this.key="logcls",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run(),e.set(this.key,this._result?"on":"off"))}get result(){return this._result}run(){return new nt(.1).get()}};Ao=M([We("LayoutShiftExperiment"),I(),O("design:paramtypes",[et])],Ao);let Oo=class extends xn{constructor(e,t,i,s,n,r){super(),this._gam=e,this._slotManager=t,this._slots=i,this._videoRequestManager=s,this._layoutShiftExperiment=n,this._pageManager=r,this._events=[],this._maxTimeOnPage=36e5,this._screenHeightsWithin=5,this._previousSiblings=3,this._layoutShiftData=[],this._slotResize={},this._loggedInitialLoadShift=!1,this._maxPayloadSize=3062}init(){this.watchSlotShift()}get enabled(){return this._layoutShiftExperiment.result&&"ResizeObserver"in window&&"PerformanceObserver"in window&&PerformanceObserver.supportedEntryTypes.indexOf("layout-shift")>-1}watchSlotShift(){this.setPerformanceObserver(),this.setResizeEvents(),this.setEventListeners()}setPerformanceObserver(){if(!this._layoutObserver)try{this._layoutObserver=new PerformanceObserver((e=>{this.analyzeEntries(e.getEntries())})),this._layoutObserver.observe({type:"layout-shift",buffered:!1})}catch(e){D.error("LayoutShiftComponent","SetPerformanceObserver",e)}}setResizeEvents(){this._events.push(this._videoRequestManager.requestingSekindoBids.on((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))),this._events.push(this._videoRequestManager.requestingVideoBids.on((e=>{e.forEach((e=>{this.setResizeObservers(e._playlistId,e._pageElement)}))}))),this._events.push(this._gam.slotRequested.on((({slot:e})=>{this.setResizeObservers(e.element.id,e.element)}))),this._slotManager.refreshing.once().then((()=>{this.logLayoutShift()})).catch((()=>{}))}setEventListeners(){this._events.push(this._pageManager.beforeUnload.on((()=>this.logLayoutShift()))),this._events.push(this._pageManager.visibilityChange.on((()=>this.logLayoutShift()))),setTimeout((()=>{this.logLayoutShift()}),this._maxTimeOnPage)}setResizeObservers(e,t){this._slotResize[e]||(this._slotResize[e]={hasResized:!1,resizeObserver:new ResizeObserver((t=>{t.forEach((()=>{this._slotResize[e].hasResized=!0,this._slotResize[e].ro_ts=Date.now(),this._slotResize[e].resizeObserver.disconnect()}))}))},this._slotResize[e].resizeObserver.observe(t))}analyzeEntries(e){const t=Date.now();for(const i of e){const{value:e,sources:s,hadRecentInput:n}=i;if(!n){const i={value:e,po_ts:t,nodes:[]};for(const e of s)if(e.node){const t=this.getIdentifier(e.node),s=t.split(":")[1];i.nodes.push({identifier:t,posDiff:e.currentRect.top-e.previousRect.top,absPos:window.pageYOffset+e.currentRect.top,prevEls:this.getPreviousSibling(e.node,this._previousSiblings),parent:this.getIdentifier(e.node.parentNode),hasResized:this.checkResizes(e.node),...this._slotResize[s]&&this._slotResize[s].ro_ts&&{ro_ts:this._slotResize[s].ro_ts}})}this._layoutShiftData.push(i)}}}getIdentifier(e){return e.id?`id:${e.id}`:e.classList&&e.classList.value?`class:${e.classList.value.split(" ").join(".")}`:`node:${e.nodeName.toLowerCase()}`}getPreviousSibling(e,t=3){let i=e.previousElementSibling,s=0;const n=[];for(;i&&s<t;)++s,n.push(this.getIdentifier(i)),i=i.previousElementSibling;return n}checkResizes(e){const t=this.getIdentifier(e).split(":")[1];return!(!this._slotResize[t]||!this._slotResize[t].hasResized)&&(this.checkIsSticky(t)||this.checkElementPlacement(e))}checkIsSticky(e){const t=this._slots.get(e);return t&&t.isSticky}checkElementPlacement(e){return((e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(e)||(e=>window.pageYOffset>e.getBoundingClientRect().top+window.pageYOffset)(e))&&((e,t)=>window.pageYOffset-(e.getBoundingClientRect().top+window.pageYOffset)<window.innerHeight+window.innerHeight*t)(e,this._screenHeightsWithin)}logLayoutShift(){this._loggedInitialLoadShift||(this._loggedInitialLoadShift=!0,this.checkAndTrim(this._layoutShiftData).forEach((e=>{D.event("LayoutShiftComponent","logLayoutShift",e)})),this.cleanUp())}checkAndTrim(e=[]){if(!e.length)return[];const t=[...e].sort(((e,t)=>t.value-e.value)),i=JSON.stringify(t);if(i.length>this._maxPayloadSize){if(Math.ceil(i.length/this._maxPayloadSize)<=2)return[t.slice(0,Math.ceil(t.length/2)),t.slice(Math.ceil(t.length/2))];{const e=this._maxPayloadSize/i.length*(Math.ceil(i.length/this._maxPayloadSize)/2),s=t.slice();return s.length=Math.floor(t.length*e),this.checkAndTrim(s)}}return[t]}cleanUp(){this.disconnectObservers(),this.removeEventListeners()}removeEventListeners(){this._events.forEach((e=>{e()}))}disconnectObservers(){this._layoutObserver.disconnect();const e=Object.keys(this._slotResize);for(const t of e)this._slotResize[t].resizeObserver.disconnect()}};Oo=M([We("LayoutShiftComponent"),T(),O("design:paramtypes",[Wi,Pn,Ui,er,Ao,Ci])],Oo);let zo=class{constructor(){this.contentAdded=new R}};zo=M([We("InfiniteScrollEvents"),I()],zo);let Ro=class extends xn{constructor(e,t){super(),this._config=e,this._events=t,this._ajaxSelector="#ajax-load-more",this._heightThreshold=1e3,this._infiniteScrollElement=null}start(){this.detectInfiniteScroll()}detectInfiniteScroll(){this.checkForCustomConfig();const e=new MutationObserver(((e,t)=>{e.filter((({type:e,addedNodes:t})=>"childList"===e&&t.length>0)).reduce(((e,{addedNodes:t})=>[...e,...Array.prototype.slice.call(t)]),[]).filter((e=>e instanceof HTMLElement&&e.clientHeight>this._heightThreshold)).forEach((e=>{e.parentElement&&(t.disconnect(),t.observe(e.parentElement,{childList:!0})),this._events.contentAdded.emit(e).catch((e=>{D.error("InfiniteScrollDetectionComponent","addMutationObserver","added",e)}))}))}));this._infiniteScrollElement?e.observe(this._infiniteScrollElement,{childList:!0,subtree:!0}):Array.prototype.slice.call(document.querySelectorAll("body *")).filter((e=>e instanceof HTMLElement&&e.offsetHeight>this._heightThreshold)).forEach((t=>{e.observe(t,{childList:!0})}))}checkForCustomConfig(){const{heightThreshold:e,selector:t}=this._config.adOptions.infiniteScrollOptions,i=t?document.querySelector(t):null;if(i)this._infiniteScrollElement=i;else{const e=document.querySelector(this._ajaxSelector);e&&(this._config.infiniteScroll.ajaxType=!0,this._infiniteScrollElement=e)}e&&e>0&&(this._heightThreshold=e)}get enabled(){return this._config.adOptions.infiniteScroll&&"MutationObserver"in window}};Ro=M([We("InfiniteScrollDetectionComponent"),T(),O("design:paramtypes",[Ni,zo])],Ro);let Bo=class extends Kn{constructor(e){super(),this._config=e,this._count=1}getDynamicElementId(){return`${this._config.gam.prefix}_Infinite_${this._count++}`}};Bo=M([We("InfiniteScrollDynamicAdsInjector"),T(),O("design:paramtypes",[Ni])],Bo);let Do=class extends xn{constructor(e,t,i,s,n){super(),this._config=e,this._events=t,this._injector=i,this._slotManager=s,this._gam=n,this._page=1}init(){this._events.contentAdded.on((e=>{this._page++,this._config.context.pageviewKey=Ze(),this._gam.setTargeting({key:"pvk",value:this._config.context.pageviewKey}),this.addSlots(e)})),this._slotManager.added.on((e=>e.forEach((e=>{Wi.pushToQueue((()=>{e.setTargeting({key:"inf_scroll",value:this._page.toString()})}))}))))}addSlots(e){const t=this._config.dynamicAds.filter((e=>!(this._config.infiniteScroll.ajaxType&&"Sidebar"===e.location))).filter((e=>this.locationEnabled(e))).filter((e=>this.forDevice(e,this._config.context.device))).filter((e=>this.forPage(e))),i=this._injector.inject(t,e);this._slotManager.add(i).catch((e=>{D.error("InfiniteScrollDynamicAdsComponent","addSlots",e)}))}get enabled(){return this._config.adOptions.infiniteScroll}forDevice(e,t){return-1!==e.devices.indexOf(t)}forPage(e){return 0===e.pageSelector.length||null!==document.querySelector(e.pageSelector)}locationEnabled(e){return!this._config.disableAds.locations.has(e.location)&&!this._config.disableAds.all}};Do=M([We("InfiniteScrollDynamicAdsComponent"),T(),O("design:paramtypes",[Ni,zo,Bo,Pn,Wi])],Do);let Vo=class extends xn{constructor(e,t,i,s){super(),this._config=e,this._events=t,this._slotManager=i,this._slots=s,this._debounce=new z(1e3)}start(){this._observer=this.getIntersectionObserver(),this._events.contentAdded.on((e=>{this._observer&&this._observer.observe(e)}))}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e)t.intersectionRatio>0&&t.isIntersecting&&this._debounce.limit(t.target.id).then((()=>this.refresh())).catch((e=>{D.error("InfiniteScrollRefreshComponent","getIntersectionObserver","refresh",e)}))}),{threshold:[.08]})}refresh(){if(this._config.adOptions.infiniteScrollRefresh){const e=this._slots.get().filter((e=>this._config.infiniteScroll.refreshSlots.has(e.location)&&e.isSticky));this._slotManager.refresh(e).catch((e=>{D.error("InfiniteScrollRefreshComponent","refresh",e)}))}}get enabled(){return this._config.adOptions.infiniteScroll&&"IntersectionObserver"in window}};Vo=M([We("InfiniteScrollRefreshComponent"),T(),O("design:paramtypes",[Ni,zo,Pn,Ui])],Vo);let Lo=class extends xn{constructor(e){super(),this._googleAdManager=e}init(){this._googleAdManager.slotRenderEnded.on((({slot:e})=>{this.slotRenderEnded(e)}))}slotRenderEnded(e){e.alwaysInView="Footer"===e.location||"Video_StickyOutstream"===e.location}};Lo=M([We("AlwaysInViewComponent"),T(),O("design:paramtypes",[Wi])],Lo);let Fo=class extends xn{constructor(e){super(),this._slotManager=e;window.addEventListener("message",(e=>{e&&e.data&&"set_adthrive_slot_timeout"===e.data.message&&e.data.slot_id&&e.data.refresh_interval>=0&&this._slotManager.updateRefreshTimeout(e.data.slot_id,e.data.refresh_interval)}),!1)}};Fo=M([We("ChangeSlotRefreshComponent"),T(),O("design:paramtypes",[Pn])],Fo);let jo=class extends xn{constructor(e,t,i){super(),this._slotManager=e,this._slots=t,this._pageManager=i}init(){this._pageManager.visibilityChange.on((()=>this.documentVisibilityChanged()))}documentVisibilityChanged(){const e=document.visibilityState,t=this._slots.get();"visible"===e?this._slotManager.resumeRefresh(t):"hidden"===e&&this._slotManager.pauseRefresh(t)}};jo=M([We("DocumentHiddenPauseRefreshComponent"),T(),O("design:paramtypes",[Pn,Ui,Ci])],jo);let No=class extends xn{constructor(e,t){super(),this._googleAdManager=e,this._slotManager=t,this._inViewPercentage=50}init(){this._googleAdManager.impressionViewable.on((({slot:e})=>{this.processImpressionViewable(e)})),this._googleAdManager.slotVisibilityChanged.on((({slot:e,event:t})=>{this.processVisibilityChanged(e,t)}))}processImpressionViewable(e){e.outOfViewGPT=!1,this._slotManager.inView(e)}processVisibilityChanged(e,t){this.check(e,t.inViewPercentage)}check(e,t){t&&t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewGPT=!1,this._slotManager.inView(e)):(e.outOfViewGPT=!0,this._slotManager.outOfView(e))}};No=M([We("ImpressionViewableRefreshComponent"),T(),O("design:paramtypes",[Wi,Pn])],No);let qo=class extends xn{constructor(e,t,i){super(),this._googleAdManager=e,this._slotManager=t,this._slots=i,this._inViewPercentage=50}init(){this._observer=this.getIntersectionObserver(),this._googleAdManager.slotRenderEnded.on((({slot:e})=>{this.slotRenderEnded(e)})),this._slotManager.refreshing.on((e=>{this.refreshing(e)}))}get enabled(){return"IntersectionObserver"in window}slotRenderEnded(e){this._observer&&e.element&&this._observer.observe(e.element)}refreshing(e){if(this._observer)for(const t of e)t.element&&this._observer.unobserve(t.element)}getIntersectionObserver(){return new IntersectionObserver((e=>{for(const t of e){const e=this._slots.get(t.target.id);e&&this.check(e,100*t.intersectionRatio)}}),{threshold:[0,this._inViewPercentage/100]})}check(e,t){t>=this._inViewPercentage||"Video_StickyOutstream"===e.location?(e.outOfViewIO=!1,this._slotManager.inView(e)):(e.outOfViewIO=!0,this._slotManager.outOfView(e))}};qo=M([We("IntersectionObserverRefreshComponent"),T(),O("design:paramtypes",[Wi,Pn,Ui])],qo);let Uo=class extends xn{constructor(e,t){super(),this._config=e,this._gdprEvents=t,this._comscoreId="20567959",this._gdprEnabled=!1,this._gdprEnabled=this._config.gdpr.enabled}init(){const e=this._config.ccpa.comscoreParams||"0",t={c1:"2",c2:this._comscoreId,...(this._gdprEnabled||this._config.ccpa.required)&&{cs_ucfr:e}};window._comscore=window._comscore||[],window._comscore.push(t);const i="https://sb.scorecardresearch.com";if(!this._gdprEnabled)return ce(`${i}/beacon.js`);this._gdprEvents.consentCaptured.on((()=>{ce(`${i}/cs/${this._comscoreId}/beacon.js`).catch((()=>{}))}))}get enabled(){return!0}};Uo=M([We("ComscoreTrackerComponent"),T(),O("design:paramtypes",[Ni,hr])],Uo);let Ho=class extends xn{constructor(e,t){super(),this._gam=e,this._config=t,this._trackerHoldoutKey="hawk"}init(){this._gam.slotOnload.once().then((()=>this.import())).then((()=>this.syncData())).catch((e=>D.error("HawkeyeTrackerComponent","init","slotOnload",e)))}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey}async import(){return await ce("https://pghub.io/js/pandg-sdk.js",!0)}syncData(){const e={ccpa:this._config.ccpa.privacyString?this._config.ccpa.privacyString:null,bp_id:"cafemedia"};window.Tapad.init(e,{name:"P&G",pixelUrl:"https://pandg.tapad.com/tag"}).sync({}).then((e=>{}))}};Ho=M([We("HawkeyeTrackerComponent"),T(),O("design:paramtypes",[Wi,Ni])],Ho);let $o=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t,this._trackerHoldoutKey="ats"}init(){this._gam.slotOnload.once().then((()=>this.import())).catch((e=>D.error("LiveRampAtsTrackerComponent","init",e)))}get enabled(){return this._config.liveRampAts.enabled&&!this._config.disableAds.all&&this._config.tkho.tracker!==this._trackerHoldoutKey}import(){ce(this._config.liveRampAts._url).then((()=>window.ats.start(this._config.liveRampAts._config))).catch((()=>{}))}};$o=M([We("LiveRampAtsTrackerComponent"),T(),O("design:paramtypes",[Ni,Wi])],$o);let Wo=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t,this.ptk="17c1789b-e660-493b-aa74-3c8fb990dc5f",this.pubid="CAFEMEDIA",this.merkleStorageKey="IXWRAPPERMerkleIp"}init(){window.localStorage.getItem(`${this.merkleStorageKey}`)?this.spoof():this._gam.slotOnload.once().then((()=>{this.load().then((e=>{e instanceof Error||!Object.keys(e).length||(window.localStorage.setItem(`${this.merkleStorageKey}`,encodeURIComponent(JSON.stringify(e))),this.spoof())})).catch((()=>{}))})).catch((()=>{}))}async load(){const e=`https://mid.rkdms.com/idsv2?ptk=${this.ptk}&pubid=${this.pubid}`;return new Promise(((t,i)=>{const s=new XMLHttpRequest;s.open("get",e),s.withCredentials=!0,s.addEventListener("load",(()=>200!==s.status?i(new Error(`Error status: ${s.status} response: ${s.responseText}`)):t(JSON.parse(s.responseText)))),s.addEventListener("error",(()=>i(new Error("Request failed")))),s.send()}))}spoof(){window.headertag||(window.headertag={getIdentityInfo:()=>{var e;const t=JSON.parse(decodeURIComponent(window.localStorage.getItem("pbjs-unifiedid")||"")),i=JSON.parse(decodeURIComponent(window.localStorage.getItem(`${this.merkleStorageKey}`)||"{}"));return{AdserverOrgIp:{data:{source:"adserver.org",uids:Object.keys(t).map((e=>({id:t[e],ext:{rtiPartner:e}})))},responsePending:!1},MerkleIp:{data:{source:"merkleinc.com",uids:[{id:null===(e=null==i?void 0:i.ppid)||void 0===e?void 0:e.id,ext:{enc:0}}]},responsePending:!1}}}})}get enabled(){return!this._config.gdpr.enabled&&!this._config.ccpa.enabled}};Wo=M([We("MerkleTrackerComponent"),T(),O("design:paramtypes",[Ni,Wi])],Wo);let Go=class extends it{constructor(){super(),this._result=!1,this.key="NielsenTrackerExperiment",this._choices=[{choice:!0},{choice:!1}],N()&&(this._result=this.run())}get result(){return this._result}run(){return new nt(1/300).get()}};Go=M([We("NielsenTrackerExperiment"),T(),O("design:paramtypes",[])],Go);let Qo=class extends xn{constructor(e,t,i){super(),this._config=e,this._nielsenTrackerExperiment=t,this._gam=i}init(){this._gam.slotOnload.once().then((()=>this.loadImage())).catch((e=>{D.error("NielsenTrackerComponent","init",e)}))}get enabled(){return this._nielsenTrackerExperiment.result}loadImage(){const e=this._config.context.device;let t="https://secure-gl.imrworldwide.com/cgi-bin/m?am=3&at=view&rt=banner&st=image&cr=adthrive&ce=cafemedia";let i={phone:"nlsn290957",tablet:"nlsn291137",desktop:"nlsn291136"}[e];const s={phone:"nlsn287186",tablet:"nlsn287188",desktop:"nlsn287187"},n=re();n&&(n.toLowerCase().indexOf("instagram.com")>=0||n.toLowerCase().indexOf("pinterest.com")>=0)&&(i=s[e]),t+=`&ci=nlsnci542&ca=${i}&pc=${window.location.host}&r=${Date.now()}`,(new Image).src=`${t}`}};Qo=M([We("NielsenTrackerComponent"),T(),O("design:paramtypes",[Ni,Go,Wi])],Qo);let Ko=class extends xn{constructor(e,t){super(),this._config=e,this._gam=t,this._accountId="2773249",this._adId="81938",this._configId="2092",this._affDomain="goto.target.com",this._targetDomain="www.target.com",this._commonParams="",this._commonPath="",this._trackerHoldoutKey="tgtaff",this._commonParams=Oe({subid1:this._config.site.id,subid2:location.href,sharedid:this._config.site.name}),this._commonPath=`${this._accountId}/${this._adId}/${this._configId}`}init(){this._gam.slotOnload.once().then((()=>this.rewriteAllTargetLinksOnPage())).catch((e=>D.error("TargetRewriteTrackerComponent","getAllTargetLinksOnPage",e)))}rewriteAllTargetLinksOnPage(){let e=0;Array.prototype.map.call(document.querySelectorAll(`a[href*="${this._targetDomain}"]`),(e=>e)).filter((e=>this.isTargetLink(e))).forEach((t=>{this.fireImpression(t.href),this.replaceTargetLink(t),e++})),e&&D.event("TargetRewriteTrackerComponent","logTargetRewrite",{message:"targetRewrite",countRewrite:e})}fireImpression(e){const t=this.getImpressionPixel(e);return(new Image).src=t}getImpressionPixel(e){let t=`https://${this._affDomain}/i/${this._commonPath}?`;const i=`U1|${this.getUUID()}`;t+=`_ir=${encodeURIComponent(i)}&`+this._commonParams+"&subid3="+encodeURIComponent(e);const s=e.split("?");return s.length>1&&(t+="&"+s[1]),t}getUUID(){return(new Date).getTime().toString()+"."+Math.random().toString(36).substring(2,15)}replaceTargetLink(e){const t=encodeURIComponent(e.href);e.classList.add("noskimlinks","norewrite"),e.href=`https://${this._affDomain}/c/${this._commonPath}?${this._commonParams}&subid3=${t}&u=${t}`}isTargetLink(e){const t=this.extractDomain(e.href);return t&&-1===t.indexOf(this._affDomain)}extractDomain(e){const t=/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i.exec(e);return t&&t[1]||""}get enabled(){return this._config.tkho.tracker!==this._trackerHoldoutKey&&!this._config.ccpa.enabled&&this._config.adOptions.targetAff}};Ko=M([T(),O("design:paramtypes",[Ni,Wi])],Ko);let Xo=class extends xn{constructor(e){super(),this._gam=e}init(){this._gam.slotOnload.once().then((()=>this.loadImage())).catch((e=>D.error("TheTradeDeskTrackerComponent","init",e)))}get enabled(){return!0}loadImage(){(new Image).src="https://insight.adsrvr.org/track/evnt/?adv=z127r4i&ct=0:p21aj7j&fmt=3"}};Xo=M([We("TheTradeDeskTrackerComponent"),T(),O("design:paramtypes",[Wi])],Xo);let Jo=class{constructor(e,t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,C,S,w,k,E,x,P,T,I,M,A,O,z,R,B,D,V,L,F,j,N,q,U,H,$,W,G,Q,K,X,J){this._config=e,this._components=[t,i,s,n,r,o,a,l,d,c,h,p,u,g,_,m,f,y,v,b,C,S,w,k,x,P,E,T,I,M,A,O,B,z,R,D,V,L,F,j,N,q,U,H,$,W,Q,G,K,X,J],this._nonCCPAComponents=[f,V,L,$,Q]}init(){const e=this._config.ccpa;this._components.filter((t=>!e.enabled||e.enabled&&-1===this._nonCCPAComponents.indexOf(t))).forEach((e=>void 0!==e.init&&e.enabled&&e.init()))}start(){this._components.forEach((e=>void 0!==e.start&&e.enabled&&e.start()))}};Jo=M([We("Components"),T(),O("design:paramtypes",[Ni,Bn,Dn,Lo,Ln,Fn,jn,Fo,_r,Nn,Uo,Wn,Gn,Hn,Qn,jo,Jn,gr,Yn,Zn,tr,or,ar,Qr,lr,ur,Ho,Kr,No,Ro,Do,Vo,qo,Oo,Gr,$o,Jr,Wo,Qo,no,ro,ao,co,Wr,Ko,Xo,ho,An,uo,go,Io,Mo])],Jo);lo(".adthrive-ad{clear:both;line-height:0;margin-bottom:10px;margin-top:10px;overflow-x:visible;text-align:center}.jw-flag-small-player #next-stay-container{margin:0}.jw-flag-small-player #next-video,.jw-flag-small-player #stay-video{height:30px;line-height:30px;width:75px}#next-stay-container{bottom:25%;margin:12px;position:absolute;right:0}.video-box-shadow{box-shadow:0 0 10px rgba(0,0,0,.5)}#next-video,#stay-video{background-color:#333;color:#fff;cursor:pointer;height:40px;line-height:40px;margin:10px;opacity:.9;text-align:center;width:100px}#next-video{box-shadow:inset 0 0 0 0 #333;transition:box-shadow 5s linear}#next-stay-container.loaded #next-video{box-shadow:inset 100px 0 0 0 red}.adthrive-ad-cls{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.adthrive-ad-cls>div,.adthrive-ad-cls>iframe{flex-basis:100%}.adthrive-interstitial{margin-bottom:0;margin-top:0}.adthrive-native-recipe{display:inline-block}.adthrive-stuck.adthrive-sticky.adthrive-header,.adthrive-stuck.adthrive-sticky.adthrive-sidebar{position:fixed;top:0;z-index:9999}.adthrive-stuck.adthrive-header{margin-top:0}.adthrive-sticky.adthrive-footer{background-color:hsla(0,0%,100%,.8);border-top:2px solid hsla(0,0%,88%,.8);bottom:0;left:0;margin:0;overflow:hidden;position:fixed;text-align:center;width:100%;z-index:99999}.adthrive-sticky.adthrive-footer>.adthrive-close{background:#fff;border:1px solid #b2b2b2;border-radius:20px;color:#b2b2b2;cursor:pointer;display:inline-block;font-family:arial,sans-serif;font-size:20px;line-height:20px;padding:0 5px;position:absolute;right:5px;top:5px}.adthrive-device-desktop .adthrive-sticky.adthrive-footer>.adthrive-close{right:10px;top:10px}#_inv_voicefive___{display:none}.adthrive-ccpa-link,.adthrive-footer-message,.adthrive-privacy-preferences{margin-top:5px;text-align:center}.adthrive-ccpa-link,.adthrive-ccpa-link span,.adthrive-footer-message span,.adthrive-privacy-preferences a{color:#b2b2b2;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:13px}.adthrive-ccpa-link a{cursor:pointer;text-decoration:underline}.adthrive-device-phone .adthrive-footer-message{margin-bottom:60px}.adthrive-footer-message{margin-bottom:100px}.adthrive-footer-message>span{border-top:1px solid #b2b2b2;padding-top:5px;text-transform:uppercase}.adthrive-collapse-player{border-bottom:1px solid #dbdbdb;border-top:1px solid #dbdbdb;margin-left:auto;margin-right:auto;padding:8px!important;width:90%}.adthrive-player-position.adthrive-collapse-float{position:fixed;width:300px;z-index:2147483644}h3.adthrive-player-title{margin:10px 0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-right{right:5px;top:0}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-right{bottom:100px;right:5px}.adthrive-player-position.adthrive-collapse-float.adthrive-collapse-bottom-left{bottom:100px;left:5px}.adthrive-player-position.adthrive-collapse-float>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-sticky{padding-bottom:20px;padding-top:20px;position:fixed;z-index:9999}.adthrive-player-position.adthrive-collapse-sticky>.adthrive-player-title{display:none}.adthrive-player-position.adthrive-collapse-mobile{position:fixed;width:300px;z-index:99998}.adthrive-collapse-mobile-background{background-color:#000;left:0;position:fixed;top:0;z-index:99990}.adthrive-top-collapse-close{left:-30px;position:fixed;top:5px;z-index:1}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-medium,.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-small{width:272px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-center{left:50%;padding-bottom:5px;padding-top:5px;top:0!important;transform:translateX(-50%)}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-right{right:10px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-top-left{left:5px;top:26px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-left{bottom:52px;left:5px}.adthrive-player-position.adthrive-collapse-mobile.adthrive-collapse-bottom-right{bottom:52px;right:10px}.adthrive-player-position.adthrive-collapse-mobile>.adthrive-player-title{display:none}.adthrive-sekindo-mobile-center{display:flex;flex-direction:row;justify-content:center;text-align:center}.adthrive-wrapper-close{align-items:center;color:#fff;font-size:36px;height:36px;justify-content:center;margin-left:auto;margin-right:0;min-width:36px}.adthrive-wrapper-float-close{cursor:pointer;display:none;float:right;margin-bottom:5px}.adthrive-wrapper-bar{background-color:#595959;border-top-left-radius:5px;border-top-right-radius:5px;display:none;font-family:Arial,Helvetica,sans-serif;height:36px}.adthrive-video-title{color:#fff;font-size:13px;font-weight:700;text-decoration:none}.adthrive-wrapper-title-wrapper{align-items:center;display:inline-flex;justify-content:center;margin-left:10px;margin-right:10px;min-width:0}.adthrive-video-text-cutoff{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.adthrive-wrapper-title-wrapper>a>svg,.adthrive-wrapper-title-wrapper>div>svg{fill:#fff;margin-right:5px;vertical-align:middle}.adthrive-wrapper-title-wrapper>a{text-decoration:none}.adthrive-sticky-outstream{display:none;overflow:hidden;padding-top:20px;position:fixed;z-index:2147483644}.adthrive-instream-close{pointer-events:all}.adthrive-instream-close.adthrive-float-left{float:left}.adthrive-top-left-outer{height:78px;left:-30px;position:absolute;top:-55px;width:78px}.adthrive-top-left-outer>svg{bottom:30px;left:30px;position:absolute}.adthrive-top-left-inner{position:absolute;top:0}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close,.adthrive-top-left-inner.adthrive-wrapper-float-close{background:rgba(0,0,0,.5);color:#fff;padding:2px;pointer-events:none;width:100%;z-index:99}.adthrive-top-left-inner-wrapper.adthrive-wrapper-float-close{position:absolute;top:36px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close{position:absolute;right:1px;top:32px}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-outside-left{left:2px}.adthrive-wrapper-close-bkgd-50>#adthrive-sticky-outstream-close{padding:2px 0 0 2px;pointer-events:all}.adthrive-sticky-outstream>.adthrive-wrapper-float-close.adthrive-wrapper-close-bkgd-50{background:rgba(0,0,0,.5);color:#fff;left:0;padding:2px;pointer-events:none;top:52px}.adthrive-sticky-outstream.adthrive-sticky-outstream-mobile{bottom:52px;right:10px}.adthrive-sticky-outstream.adthrive-sticky-outstream-desktop{bottom:100px;right:5px}.adthrive-sticky-outstream.adthrive-sticky-outstream-active{display:block}.adthrive-video-stickyoutstream div:first-of-type{margin:-1px}");let Yo=class{constructor(e,t,i,s,n,r,o){this.config=e,this.cmd=t,this.slotManager=i,this.slots=s,this._auctionManagers=n,this._googleAdManager=r,this._components=o,this.marmalade={mcmp:null},this.marmaladeFinished=e=>e,this.siteAds={targeting:{push:this._googleAdManager.setTargeting}},this._apiReady=new Promise((e=>e(!1))),this.bucket=this.config.context.bucket,this.branch=this.config.context.branch,this.invalidTraffic=this.config.context.invalidTraffic,this.deployment=this.config.context.deployment,this.abgroup=this.config.abGroup.groups}init(){this._apiReady=new Promise((e=>this.config.identityApi.apiReady.on((()=>e(!0))))),D.sending.on((()=>{D.data={abgroup:this.config.abGroup.groupsAsObject,sess:this.config.context.sessionKey,pvk:this.config.context.pageviewKey,hbho:this.config.hbho.bidders,vbho:this.config.vbho.bidders,...this.config.clsOptions&&this.config.clsOptions.branch&&{clsBranch:this.config.clsOptions.branch},...this.config.clsOptions&&this.config.clsOptions.bucket&&{clsBucket:this.config.clsOptions.bucket}}})),se("session_fpv",null===ie("session_fpv")),this.cmd.init(),this._auctionManagers.init(),this._googleAdManager.init(),this._components.init(),this._googleAdManager.start(),this._components.start()}identityApi(e,t){return this._apiReady.then((()=>{this.config.identityApi.optIn.emit({data:e,cb:t}).catch((()=>{}))}))}disableAds(e){this.config.disableAds.disableAllAds(e)}disableContentAds(e){this.config.disableAds.disableContentAds(e)}disablePlaylistPlayers(e){this.config.disableAds.disablePlaylistPlayers(e)}showPrivacyPreferences(){window.__tcfapi&&window.__tcfapi("showConsentManager",2)}getConsentData(){window.__tcfapi&&window.__tcfapi("getFullTCData",2,(e=>{}))}getAdthriveFlippData(){return this.config.marmalade.flpProdIds.filter(ee)}setTargetingFlag(e,t,i=!1){e&&"string"==typeof e&&t&&Array.isArray(t)&&0!==t.length&&this._googleAdManager.setTargetingFlag(e,t,i)}setTargeting(e){this._googleAdManager.setTargeting(e)}getTargeting(){return this._googleAdManager.getTargeting()}getTargetingMap(){return this._googleAdManager.getTargetingMap()}logError(e,t,i){D.error(e,t,i)}refreshSlots(e){let t=this.slots.get();e&&e.length&&(t=t.filter((t=>-1!==e.indexOf(t.id)))),t.forEach((e=>{this.slotManager.refresh(e,!1).then((()=>{this.slotManager.clearRefreshTimeout(e,!0)})).catch((()=>{}))}))}};Yo=M([We("AdThrive"),I(),O("design:paramtypes",[Ni,En,Pn,Ui,kn,Wi,Jo])],Yo);const Zo={domain:"ads.adthrive.com",branch:"master",bucket:"prod",cmp:!0},ea=()=>navigator.userAgent&&(navigator.userAgent.search(/GTmetrix/i)>-1||navigator.userAgent.search(/pingdom/i)>-1||navigator.userAgent.search(/Google Page Speed Insights/i)>-1||navigator.userAgent.search(/Chrome-Lighthouse/i)>-1);let ta=class extends it{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:500,weight:70},{choice:300,weight:10},{choice:200,weight:10},{choice:50,weight:10}],this.key="deftimer2",this._result=this.run(),this._setAbGroup&&e.set(this.key,0===this._result?"off":String(this._result))}get result(){return this._result}run(){return ea()?(this._setAbGroup=!1,0):new rt(this._choices).get()}};M([Ge(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",Number)],ta.prototype,"run",null),ta=M([We("DelayLoadingExperiment"),I(),O("design:paramtypes",[et])],ta);let ia=class extends it{constructor(e){super(),this._setAbGroup=!0,this._choices=[{choice:!0},{choice:!1}],this.key="delload",this._result=this.run(),this._setAbGroup&&e.set(this.key,this._result?"on":"off")}get result(){return this._result}run(){return ea()?(this._setAbGroup=!1,!0):new nt(.95).get()}};ia=M([We("EnableDelayLoadingExperiment"),I(),O("design:paramtypes",[et])],ia);let sa=class extends it{constructor(){super(),this.classList=["EmailCaptureHandler"],this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="logfltr",this._result=this.run()}get result(){return this._result}run(){return new nt(0).get()}};sa=M([We("LoggerFilterExperiment"),I(),O("design:paramtypes",[])],sa);let na=class{init(e){if(!(void 0!==window.__tcfapi&&"function"==typeof window.__tcfapi))return;let t=!1;window.__tcfapi("adthrive",2,(e=>t=e)),t&&("true"===e?window.__tcfapi("setGdprApplies",2,(e=>e),!0):(this.clearQueue(),this.stubCommands()))}processTcfCommand(e){const{command:t,callback:i}=e;!i||i&&"function"!=typeof i||("ping"===t||"getTCData"===t||"addEventListener"===t?i({apiVersion:"2",cmpLoaded:!0,cmpStatus:"loaded",cmpId:void 0,cmpVersion:void 0,displayStatus:"disabled",gdprApplies:!1,tcfPolicyVersion:void 0,gvlVersion:void 0},!0):"removeEventListener"===t&&i(!0))}clearQueue(){const e=window.__tcfapi();e&&Array.isArray(e)&&e.forEach((e=>this.processTcfCommand(e)))}stubCommands(){window.__tcfapi=(e,t,i,s)=>{this.processTcfCommand({command:e,version:t,callback:i,parameter:s})}}};na=M([We("StubCmp"),I()],na);const ra=x.resolve(Si),oa=(e,t,i,s,n)=>{const r=Pe();return x.register("MarmaladeResponse",{useValue:s.result}),window.adthrive=x.resolve(Yo),((e,t,i,s,n,r)=>{ra.loading=e,ra.bootstrapFinished=t,ra.amazonStarted=i.started,ra.amazonFinished=i.finished,ra.amazonDuration=i.duration,ra.gamStarted=s.started,ra.gamFinished=s.finished,ra.gamDuration=s.duration,ra.marmaladeStarted=n.started,ra.marmaladeFinished=n.finished,ra.marmaladeDuration=n.duration,ra.webVitalsStarted=r.started,ra.webVitalsFinished=r.finished,ra.webVitalsDuration=r.duration})(e,r,t,i,s,n),window.adthrive.init()},aa=async e=>{var t;const i=Pe(),s=window.adthrive.branch,n=s===(null===(t=ie("branch"))||void 0===t?void 0:t.branch);se("branch",{branch:s,enabled:n}),D.init(e),x.register("Build",{useValue:Zo}),x.register("AdThrive",{useValue:e});const r=x.resolve(Et);return await r.run().then((({amazon:e,gam:t,marmalade:s,webvitals:n})=>oa(i,e,t,s,n))).catch((e=>(e=>{const t=e.marmalade,i=e.message||e;t&&Object.prototype.hasOwnProperty.call(t,"result")&&(x.register("MarmaladeResponse",{useValue:t.result}),x.resolve(Oo).init());return x.resolve(Mo).init(),Promise.reject(i)})(e)))},la=e=>{let t;if((!0===e.siteAds.adOptions.delayLoading?x.resolve(ia):{result:!1}).result){const e=(e=>{const t=x.resolve(Ci).setupOnceEventWithPromise,i=[t("scroll"),t("mousemove"),t("keyup")];Ce()||i.push(t("touchstart"));const s=[t("load").then((()=>K(e)))];return 0===e?i:s.concat(i)})(x.resolve(ta).result);t=Promise.race(e)}else t=Promise.resolve();return t},da=()=>{const e=window.adthrive;(()=>{const e=window.adthrive.siteAds,t=window.adthriveCLS,i=t&&t.siteAds;i&&"object"==typeof i&&(e.adUnits=i.adUnits,e.video=i.video,e.videoPlayers=i.videoPlayers,e.breakpoints=i.breakpoints)})();const t=(({gdpr:e,baseUrl:t})=>"true"===e?`${t}/gdpr`:t)(e),i=(()=>{const e=[ve(),me(),ye(),fe(),be()].filter((e=>!!e));return e.length?e:void 0})(),s=i?"unsupported":e.bucket,n=x.resolve(sa),r=n.result?[]:n.classList,o={...e,bucket:s,baseUrl:t,invalidTraffic:i,loggerFilters:r};Pe();x.resolve(na).init(o.gdpr),la(o).then((()=>aa(o))).then((()=>{})).catch((e=>{D.error("index","load",e)}))};return(e=>e instanceof Yo||e instanceof Promise)(window.adthrive)||da(),window.adthrive}();
;